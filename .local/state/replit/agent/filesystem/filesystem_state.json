{"file_contents":{"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport axios from \"axios\";\nimport { storage } from \"./storage\";\nimport { insertBookmarkSchema } from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\n\nconst ALQURAN_CLOUD_API = \"http://api.alquran.cloud/v1\";\nconst QURAN_TAFSEER_API = \"http://api.quran-tafseer.com\";\n\n// Simple in-memory cache\nconst cache = new Map<string, { data: any; timestamp: number }>();\nconst CACHE_DURATION = 1000 * 60 * 60; // 1 hour\n\nfunction getFromCache(key: string) {\n  const cached = cache.get(key);\n  if (cached && Date.now() - cached.timestamp < CACHE_DURATION) {\n    return cached.data;\n  }\n  return null;\n}\n\nfunction setCache(key: string, data: any) {\n  cache.set(key, { data, timestamp: Date.now() });\n}\n\n// Pre-load entire Quran into cache for instant voice search\nasync function preloadQuranData() {\n  console.log(\"ğŸ•‹ Pre-loading Quran data for voice search...\");\n  const startTime = Date.now();\n  let successCount = 0;\n  let retryQueue: number[] = [];\n  \n  try {\n    // First pass: Load all Surahs with rate limiting\n    for (let surahNumber = 1; surahNumber <= 114; surahNumber++) {\n      try {\n        const cacheKey = `surah-${surahNumber}-text`;\n        \n        // Skip if already cached\n        if (getFromCache(cacheKey)) {\n          successCount++;\n          continue;\n        }\n\n        // Delay between requests to respect rate limit (12/second = ~100ms per request)\n        await new Promise(resolve => setTimeout(resolve, 150));\n\n        // Fetch just Arabic text (fastest endpoint)\n        const response = await axios.get(\n          `${ALQURAN_CLOUD_API}/surah/${surahNumber}/editions/quran-uthmani`,\n          { timeout: 10000 }\n        );\n        \n        if (response.data.code === 200 && response.data.data && response.data.data[0]) {\n          const surahData = response.data.data[0];\n          setCache(cacheKey, {\n            number: surahData.number,\n            name: surahData.name,\n            englishName: surahData.englishName,\n            ayahs: surahData.ayahs.map((a: any) => ({\n              number: a.number,\n              numberInSurah: a.numberInSurah,\n              text: a.text\n            }))\n          });\n          successCount++;\n        }\n      } catch (err: any) {\n        if (err.response?.status === 429) {\n          // Rate limited - add to retry queue\n          retryQueue.push(surahNumber);\n        } else {\n          console.error(`Failed to load Surah ${surahNumber}:`, err.message);\n        }\n      }\n    }\n    \n    // Retry failed Surahs with longer delays\n    if (retryQueue.length > 0) {\n      console.log(`â³ Retrying ${retryQueue.length} rate-limited Surahs...`);\n      await new Promise(resolve => setTimeout(resolve, 2000)); // Wait 2 seconds\n      \n      for (const surahNumber of retryQueue) {\n        try {\n          const cacheKey = `surah-${surahNumber}-text`;\n          \n          if (getFromCache(cacheKey)) {\n            successCount++;\n            continue;\n          }\n\n          // Longer delay for retries\n          await new Promise(resolve => setTimeout(resolve, 500));\n\n          const response = await axios.get(\n            `${ALQURAN_CLOUD_API}/surah/${surahNumber}/editions/quran-uthmani`,\n            { timeout: 10000 }\n          );\n          \n          if (response.data.code === 200 && response.data.data && response.data.data[0]) {\n            const surahData = response.data.data[0];\n            setCache(cacheKey, {\n              number: surahData.number,\n              name: surahData.name,\n              englishName: surahData.englishName,\n              ayahs: surahData.ayahs.map((a: any) => ({\n                number: a.number,\n                numberInSurah: a.numberInSurah,\n                text: a.text\n              }))\n            });\n            successCount++;\n          }\n        } catch (err: any) {\n          console.error(`Retry failed for Surah ${surahNumber}:`, err.message);\n        }\n      }\n    }\n    \n    const duration = ((Date.now() - startTime) / 1000).toFixed(1);\n    const percentage = ((successCount / 114) * 100).toFixed(0);\n    console.log(`âœ… Pre-loaded ${successCount}/114 Surahs (${percentage}%) in ${duration}s`);\n  } catch (error) {\n    console.error(\"Error during Quran pre-loading:\", error);\n  }\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  \n  // Get all Surahs (chapters)\n  app.get(\"/api/surahs\", async (req, res) => {\n    try {\n      const cacheKey = \"surahs\";\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      const response = await axios.get(`${ALQURAN_CLOUD_API}/surah`);\n      \n      if (response.data.code === 200 && response.data.data) {\n        const surahs = response.data.data.map((surah: any) => ({\n          number: surah.number,\n          name: surah.name,\n          englishName: surah.englishName,\n          englishNameTranslation: surah.englishNameTranslation,\n          numberOfAyahs: surah.numberOfAyahs,\n          revelationType: surah.revelationType,\n        }));\n        \n        setCache(cacheKey, surahs);\n        res.json(surahs);\n      } else {\n        res.status(500).json({ error: \"Failed to fetch surahs\" });\n      }\n    } catch (error) {\n      console.error(\"Error fetching surahs:\", error);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  });\n\n  // Get Surah with verses, translations, and audio\n  app.get(\"/api/surah/:surahNumber/:reciterEdition\", async (req, res) => {\n    try {\n      const { surahNumber, reciterEdition } = req.params;\n      \n      // Validate surah number\n      const surahNum = parseInt(surahNumber);\n      if (isNaN(surahNum) || surahNum < 1 || surahNum > 114) {\n        return res.status(400).json({ error: \"Invalid surah number. Must be between 1 and 114\" });\n      }\n\n      const cacheKey = `surah-${surahNumber}-${reciterEdition}`;\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      // Fetch Arabic text, audio, and translations in one request\n      const editions = `quran-uthmani,${reciterEdition},ur.jalandhry,en.sahih`;\n      const response = await axios.get(\n        `${ALQURAN_CLOUD_API}/surah/${surahNumber}/editions/${editions}`,\n        { timeout: 15000 }\n      );\n\n      if (response.data.code === 200 && response.data.data) {\n        const [arabicData, audioData, urduData, englishData] = response.data.data;\n\n        const verses = arabicData.ayahs.map((ayah: any, index: number) => ({\n          ayah: {\n            number: ayah.number,\n            numberInSurah: ayah.numberInSurah,\n            text: ayah.text,\n            audio: audioData.ayahs[index]?.audio || \"\",\n            surah: {\n              number: arabicData.number,\n              name: arabicData.name,\n              englishName: arabicData.englishName,\n            },\n          },\n          urduTranslation: {\n            text: urduData.ayahs[index]?.text || \"\",\n            language: \"Urdu\",\n            translator: \"Fateh Muhammad Jalandhry\",\n          },\n          englishTranslation: {\n            text: englishData.ayahs[index]?.text || \"\",\n            language: \"English\",\n            translator: \"Sahih International\",\n          },\n        }));\n\n        setCache(cacheKey, verses);\n        res.json(verses);\n      } else {\n        res.status(500).json({ error: \"Failed to fetch surah data\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching surah:\", error.message);\n      if (error.response?.status === 404) {\n        res.status(404).json({ error: \"Surah not found\" });\n      } else if (error.code === 'ECONNABORTED') {\n        res.status(504).json({ error: \"Request timeout - please try again\" });\n      } else {\n        res.status(500).json({ error: \"Failed to load surah. Please try again.\" });\n      }\n    }\n  });\n\n  // Get Tafseer for a specific verse\n  app.get(\"/api/tafseer/:surahNumber/:ayahNumber\", async (req, res) => {\n    try {\n      const { surahNumber, ayahNumber } = req.params;\n      \n      // Validate input\n      const surahNum = parseInt(surahNumber);\n      const ayahNum = parseInt(ayahNumber);\n      \n      if (isNaN(surahNum) || isNaN(ayahNum) || surahNum < 1 || surahNum > 114 || ayahNum < 1) {\n        return res.status(400).json({ error: \"Invalid surah or ayah number\" });\n      }\n\n      const tafseerID = 1; // Al-Tafsir Al-Muyassar (simple tafseer)\n      const cacheKey = `tafseer-${surahNumber}-${ayahNumber}`;\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      const response = await axios.get(\n        `${QURAN_TAFSEER_API}/tafseer/${tafseerID}/${surahNumber}/${ayahNumber}`,\n        { timeout: 10000 }\n      );\n\n      if (response.data && response.data.text) {\n        const tafseer = {\n          ayahNumber: ayahNum,\n          text: response.data.text,\n          tafseerName: \"Ø§Ù„ØªÙØ³ÙŠØ± Ø§Ù„Ù…ÙŠØ³Ø± (Al-Tafsir Al-Muyassar)\",\n          language: \"Arabic\",\n        };\n        \n        setCache(cacheKey, tafseer);\n        res.json(tafseer);\n      } else {\n        res.status(404).json({ error: \"Tafseer not found for this verse\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching tafseer:\", error.message);\n      if (error.response?.status === 404) {\n        res.status(404).json({ error: \"Tafseer not available for this verse\" });\n      } else if (error.code === 'ECONNABORTED') {\n        res.status(504).json({ error: \"Request timeout - please try again\" });\n      } else {\n        res.status(500).json({ error: \"Failed to fetch tafseer\" });\n      }\n    }\n  });\n\n  // Search for an Ayah across all Surahs by Arabic text\n  app.post(\"/api/search-ayah\", async (req, res) => {\n    try {\n      const { searchText } = req.body;\n      \n      if (!searchText || typeof searchText !== 'string' || searchText.trim().length < 2) {\n        return res.status(400).json({ error: \"Search text must be at least 2 characters\" });\n      }\n\n      // Normalize Arabic function - enhanced for speech recognition\n      const normalizeArabic = (text: string) => {\n        return text\n          .replace(/[\\u064B-\\u0652]/g, '') // Remove diacritics (tashkeel)\n          .replace(/[\\u0640\\u061C\\u200E\\u200F]/g, '') // Remove tatweel, directional marks\n          .replace(/[Ù‹ÙŒÙÙÙÙÙ‘Ù’]/g, '') // Remove all harakat\n          .replace(/Ø£/g, 'Ø§') // Normalize hamza variations\n          .replace(/Ø¥/g, 'Ø§')\n          .replace(/Ø¢/g, 'Ø§')\n          .replace(/Ù±/g, 'Ø§') // Alef wasla\n          .replace(/Ø©/g, 'Ù‡') // Teh marbuta to heh\n          .replace(/Ù‰/g, 'ÙŠ') // Alef maksura to yeh\n          .replace(/Ø¦/g, 'ÙŠ') // Hamza on yeh\n          .replace(/Ø¤/g, 'Ùˆ') // Hamza on waw\n          .replace(/Ø¡/g, '') // Remove standalone hamza\n          .replace(/\\s+/g, ' ') // Normalize spaces\n          .trim();\n      };\n\n      const normalizedSearch = normalizeArabic(searchText);\n      const searchWords = normalizedSearch.split(/\\s+/).filter((w: string) => w.length > 1);\n      \n      let bestMatch: any = null;\n      let bestScore = 0;\n\n      // Search through pre-loaded Surahs (instant!)\n      for (let surahNumber = 1; surahNumber <= 114; surahNumber++) {\n        const cacheKey = `surah-${surahNumber}-text`;\n        const surahData = getFromCache(cacheKey);\n\n        // Use pre-loaded data if available\n        if (surahData && surahData.ayahs && Array.isArray(surahData.ayahs)) {\n          for (const ayah of surahData.ayahs) {\n            const normalizedAyah = normalizeArabic(ayah.text);\n            let score = 0;\n\n            // 1. Exact match\n            if (normalizedAyah === normalizedSearch) {\n              score = 1.0;\n            }\n            // 2. Contains full search text\n            else if (normalizedAyah.includes(normalizedSearch)) {\n              score = 0.95;\n            }\n            // 3. Starts with search text\n            else if (normalizedAyah.startsWith(normalizedSearch)) {\n              score = 0.9;\n            }\n            // 4. Word-by-word fuzzy matching (handles speech recognition errors)\n            else if (searchWords.length > 0) {\n              const ayahWords = normalizedAyah.split(/\\s+/);\n              let matchedWords = 0;\n              let partialMatches = 0;\n              \n              for (const searchWord of searchWords) {\n                // Exact word match\n                if (ayahWords.includes(searchWord)) {\n                  matchedWords++;\n                }\n                // Partial match (word starts with or contains)\n                else if (ayahWords.some((aw: string) => \n                  aw.startsWith(searchWord) || \n                  searchWord.startsWith(aw) ||\n                  aw.includes(searchWord)\n                )) {\n                  partialMatches++;\n                }\n              }\n              \n              const exactRatio = matchedWords / searchWords.length;\n              const partialRatio = partialMatches / searchWords.length;\n              score = (exactRatio * 0.8) + (partialRatio * 0.4);\n            }\n\n            // Update best match if this score is higher\n            if (score > 0.4 && score > bestScore) {\n              bestScore = score;\n              bestMatch = {\n                surahNumber: surahData.number,\n                ayahNumber: ayah.numberInSurah,\n                text: ayah.text,\n                surahName: surahData.name,\n                surahEnglishName: surahData.englishName,\n                score: score\n              };\n            }\n          }\n        }\n      }\n\n      if (bestMatch) {\n        console.log(`âœ… Voice Search Match: Surah ${bestMatch.surahNumber}:${bestMatch.ayahNumber} (score: ${bestMatch.score.toFixed(2)})`);\n        res.json(bestMatch);\n      } else {\n        console.log(`âŒ Voice Search: No match for \"${searchText}\"`);\n        res.status(404).json({ error: \"No matching Ayah found\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error searching Ayah:\", error.message);\n      res.status(500).json({ error: \"Failed to search Ayah\" });\n    }\n  });\n\n  // Get Hadiths from a collection\n  app.get(\"/api/hadiths/:collection\", async (req, res) => {\n    try {\n      const { collection } = req.params;\n      const { search, page = 1 } = req.query;\n\n      // Validate collection\n      const validCollections = ['bukhari', 'muslim', 'abudawud', 'tirmidhi', 'ibnmajah', 'nasai', 'malik'];\n      if (!validCollections.includes(collection)) {\n        return res.status(400).json({ \n          error: \"Invalid collection. Must be one of: bukhari, muslim, abudawud, tirmidhi, ibnmajah, nasai, malik\" \n        });\n      }\n\n      const pageNum = parseInt(page as string) || 1;\n      const pageSize = 20;\n      \n      const cacheKey = `hadiths-v2-${collection}-${pageNum}-${search || ''}`;\n      const cached = getFromCache(cacheKey);\n      if (cached) {\n        return res.json(cached);\n      }\n\n      // Use fawazahmed0 Hadith API (CDN-hosted, no auth required)\n      // https://github.com/fawazahmed0/hadith-api\n      const HADITH_CDN = 'https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1';\n      const editionName = `eng-${collection}`; // English editions\n      const url = `${HADITH_CDN}/editions/${editionName}.json`;\n      \n      const response = await axios.get(url, { timeout: 15000 });\n\n      if (response.data && response.data.hadiths) {\n        let allHadiths = response.data.hadiths;\n        \n        // Apply search filter if provided\n        if (search && typeof search === 'string') {\n          const searchLower = search.toLowerCase();\n          allHadiths = allHadiths.filter((h: any) => \n            h.text?.toLowerCase().includes(searchLower) ||\n            h.arabicnumber?.toString().includes(search) ||\n            h.hadithnumber?.toString().includes(search)\n          );\n        }\n\n        // Paginate results\n        const start = (pageNum - 1) * pageSize;\n        const end = start + pageSize;\n        const paginatedHadiths = allHadiths.slice(start, end);\n\n        const result = {\n          collection: collection,\n          hadiths: paginatedHadiths.map((h: any) => ({\n            number: h.hadithnumber || h.arabicnumber,\n            arabicText: '', // API doesn't provide Arabic in English edition\n            englishText: h.text || '',\n            hadithNumber: (h.hadithnumber || h.arabicnumber || '').toString(),\n            narrator: '',\n            book: collection,\n            collection: collection,\n            urduText: '', // Not available in English edition\n            reference: `${collection.charAt(0).toUpperCase() + collection.slice(1)} ${h.hadithnumber || h.arabicnumber || ''}`,\n            // Serialize grades: if array has objects, map to readable strings; if empty, undefined\n            grade: h.grades && h.grades.length > 0 \n              ? h.grades.map((g: any) => typeof g === 'object' ? `${g.name || ''}: ${g.grade || ''}`.trim() : String(g)).join(', ')\n              : undefined\n          })),\n          page: pageNum,\n          pageSize: pageSize,\n          hasMore: end < allHadiths.length,\n          total: allHadiths.length\n        };\n\n        // Cache for longer (data is static on CDN)\n        setCache(cacheKey, result);\n        res.json(result);\n      } else {\n        res.status(500).json({ error: \"Failed to fetch hadiths\" });\n      }\n    } catch (error: any) {\n      console.error(\"Error fetching hadiths:\", error.message);\n      if (error.response?.status === 404) {\n        res.status(404).json({ error: \"Hadith collection not found. Try: bukhari, muslim, abudawud, tirmidhi, ibnmajah\" });\n      } else if (error.code === 'ECONNABORTED') {\n        res.status(504).json({ error: \"Request timeout - please try again\" });\n      } else {\n        res.status(500).json({ error: \"Failed to load hadiths. Please try again.\" });\n      }\n    }\n  });\n\n  // ============================================================================\n  // User Session & Bookmarks API\n  // ============================================================================\n\n  // Get or create user by session ID\n  app.post(\"/api/user/session\", async (req, res) => {\n    try {\n      const { sessionId } = req.body;\n\n      if (!sessionId || typeof sessionId !== 'string' || sessionId.length === 0) {\n        return res.status(400).json({ error: \"Session ID is required\" });\n      }\n\n      // Try to find existing user\n      let user = await storage.getUserBySessionId(sessionId);\n\n      // Create new user if doesn't exist\n      if (!user) {\n        user = await storage.createUser({ sessionId });\n      }\n\n      res.json(user);\n    } catch (error: any) {\n      console.error(\"Error managing user session:\", error.message);\n      res.status(500).json({ error: \"Failed to manage user session\" });\n    }\n  });\n\n  // Get all bookmarks for a user\n  app.get(\"/api/bookmarks/:userId\", async (req, res) => {\n    try {\n      const userId = parseInt(req.params.userId);\n      \n      if (isNaN(userId)) {\n        return res.status(400).json({ error: \"Invalid user ID\" });\n      }\n\n      const bookmarks = await storage.getBookmarks(userId);\n      res.json(bookmarks);\n    } catch (error: any) {\n      console.error(\"Error fetching bookmarks:\", error.message);\n      res.status(500).json({ error: \"Failed to fetch bookmarks\" });\n    }\n  });\n\n  // Create a new bookmark\n  app.post(\"/api/bookmarks\", async (req, res) => {\n    try {\n      const parsed = insertBookmarkSchema.safeParse(req.body);\n      \n      if (!parsed.success) {\n        return res.status(400).json({ error: \"Invalid bookmark data\", details: parsed.error.errors });\n      }\n\n      const { userId, surahNumber, ayahNumber } = parsed.data;\n\n      // Check if bookmark already exists\n      const exists = await storage.checkBookmarkExists(userId, surahNumber, ayahNumber);\n      if (exists) {\n        return res.status(409).json({ error: \"Bookmark already exists\" });\n      }\n\n      const bookmark = await storage.createBookmark(parsed.data);\n      res.status(201).json(bookmark);\n    } catch (error: any) {\n      console.error(\"Error creating bookmark:\", error.message);\n      res.status(500).json({ error: \"Failed to create bookmark\" });\n    }\n  });\n\n  // Delete a bookmark\n  app.delete(\"/api/bookmarks/:bookmarkId/:userId\", async (req, res) => {\n    try {\n      const bookmarkId = parseInt(req.params.bookmarkId);\n      const userId = parseInt(req.params.userId);\n\n      if (isNaN(bookmarkId) || isNaN(userId)) {\n        return res.status(400).json({ error: \"Invalid bookmark ID or user ID\" });\n      }\n\n      await storage.deleteBookmark(bookmarkId, userId);\n      res.status(204).send();\n    } catch (error: any) {\n      console.error(\"Error deleting bookmark:\", error.message);\n      res.status(500).json({ error: \"Failed to delete bookmark\" });\n    }\n  });\n\n  // Get all books\n  app.get(\"/api/books\", async (req, res) => {\n    try {\n      const books = await storage.getAllBooks();\n      res.json(books);\n    } catch (error: any) {\n      console.error(\"Error fetching books:\", error.message);\n      res.status(500).json({ error: \"Failed to fetch books\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  \n  // Pre-load Quran data in background for instant voice search\n  preloadQuranData().catch(err => {\n    console.error(\"Failed to pre-load Quran data:\", err);\n  });\n  \n  return httpServer;\n}\n","size_bytes":21322},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/VerseDisplay.tsx":{"content":"import { Badge } from \"@/components/ui/badge\";\nimport { BookmarkIcon, Play } from \"lucide-react\";\nimport { VerseWithTranslations } from \"@shared/schema\";\nimport { cn } from \"@/lib/utils\";\n\ninterface VerseDisplayProps {\n  verse: VerseWithTranslations;\n  isHighlighted?: boolean;\n  onVerseClick?: (verseNumber: number) => void;\n  onPlayClick?: (verseNumberInSurah: number) => void;\n}\n\nexport function VerseDisplay({ verse, isHighlighted, onVerseClick, onPlayClick }: VerseDisplayProps) {\n  const { ayah, urduTranslation, englishTranslation } = verse;\n\n  const handlePlayClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    onPlayClick?.(ayah.numberInSurah);\n  };\n\n  return (\n    <div\n      className={cn(\n        \"group relative mb-4 p-4 sm:p-6 border-l-2 transition-all hover-elevate\",\n        isHighlighted \n          ? \"border-l-primary bg-primary/5\" \n          : \"border-l-border\"\n      )}\n      data-testid={`verse-${ayah.numberInSurah}`}\n      data-verse-number={ayah.numberInSurah}\n      onClick={() => onVerseClick?.(ayah.number)}\n    >\n      <div className=\"flex items-start justify-between gap-4 mb-3\">\n        <Badge \n          variant=\"outline\" \n          className=\"rounded-full h-7 w-7 flex items-center justify-center font-medium shrink-0 text-xs\"\n          data-testid={`badge-verse-number-${ayah.numberInSurah}`}\n        >\n          {ayah.numberInSurah}\n        </Badge>\n        <div className=\"flex items-center gap-2\">\n          <button\n            className=\"opacity-0 group-hover:opacity-100 transition-opacity p-2 rounded-full hover-elevate\"\n            onClick={handlePlayClick}\n            data-testid={`button-play-verse-${ayah.numberInSurah}`}\n            aria-label=\"Play verse\"\n          >\n            <Play className=\"w-4 h-4 text-primary fill-primary\" />\n          </button>\n          <button\n            className=\"opacity-0 group-hover:opacity-100 transition-opacity p-2 rounded-full hover-elevate\"\n            data-testid={`button-bookmark-${ayah.numberInSurah}`}\n            aria-label=\"Bookmark verse\"\n          >\n            <BookmarkIcon className=\"w-4 h-4 text-muted-foreground\" />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"space-y-3\">\n        <div \n          className=\"font-arabic text-2xl sm:text-3xl leading-loose text-right\" \n          dir=\"rtl\"\n          lang=\"ar\"\n          data-testid={`text-arabic-${ayah.numberInSurah}`}\n        >\n          {ayah.text}\n        </div>\n\n        {urduTranslation && (\n          <div className=\"pt-3 border-t border-border/50\">\n            <div className=\"flex items-center gap-2 mb-1.5\">\n              <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n                Urdu\n              </span>\n            </div>\n            <p \n              className=\"text-base leading-relaxed text-card-foreground\" \n              dir=\"rtl\"\n              data-testid={`text-urdu-${ayah.numberInSurah}`}\n            >\n              {urduTranslation.text}\n            </p>\n          </div>\n        )}\n\n        {englishTranslation && (\n          <div className=\"pt-3 border-t border-border/50\">\n            <div className=\"flex items-center gap-2 mb-1.5\">\n              <span className=\"text-xs font-medium text-muted-foreground uppercase tracking-wide\">\n                English\n              </span>\n            </div>\n            <p \n              className=\"text-sm leading-relaxed text-card-foreground\"\n              data-testid={`text-english-${ayah.numberInSurah}`}\n            >\n              {englishTranslation.text}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":3638},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"design_guidelines.md":{"content":"# Quran Reading Application - Design Guidelines\n\n## Design Approach\n\n**System-Based Approach** with Islamic app best practices (inspired by Quran.com, Ayah app patterns)\n\nThis is a utility-focused reading and study application where clarity, readability, and accessibility are paramount. The design prioritizes content hierarchy, comfortable reading experience, and intuitive navigation over visual flourishes.\n\n## Design Principles\n\n1. **Sacred Content First**: Arabic text receives primary visual hierarchy\n2. **Reading Comfort**: Optimized for extended study sessions\n3. **Clarity Over Decoration**: Minimal distractions from the content\n4. **Respectful Aesthetics**: Clean, dignified presentation appropriate for religious texts\n\n## Typography System\n\n### Arabic Text (Quran)\n- **Font Family**: 'Amiri Quran' or 'Scheherazade New' via Google Fonts (traditional Arabic typography optimized for Quranic text)\n- **Primary Reading Size**: text-2xl to text-3xl (1.5rem to 1.875rem)\n- **Line Height**: leading-loose (2.0) for comfortable Arabic reading\n- **Direction**: RTL (right-to-left) for Arabic content\n- **Alignment**: text-right for Arabic, text-justify for optimal spacing\n\n### Translations & Secondary Text\n- **Font Family**: 'Inter' or 'Noto Sans' via Google Fonts\n- **Translation Text**: text-base to text-lg (1rem to 1.125rem)\n- **Labels & UI**: text-sm (0.875rem)\n- **Headings**: text-xl to text-2xl with font-semibold\n\n### Tafseer & Hadith\n- **Font Family**: Same as translations (Inter/Noto Sans)\n- **Body Text**: text-base with leading-relaxed\n- **Attribution**: text-sm with font-medium\n\n## Layout System\n\n**Spacing Primitives**: Tailwind units of 3, 4, 6, 8, 12, 16\n- Tight spacing: p-3, gap-3 (for compact UI elements)\n- Standard spacing: p-4, p-6, gap-4 (for content sections)\n- Generous spacing: p-8, p-12, py-16 (for main content areas)\n\n### 13-Line Mushaf Page Layout\n- **Container**: max-w-4xl mx-auto (centered reading experience)\n- **Page Padding**: px-6 py-8 on mobile, px-12 py-12 on desktop\n- **Verse Spacing**: mb-6 between verses\n- **Line Height**: Precisely calculated to display 13 lines of Arabic text per page\n\n### Three-Panel Reading Layout\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚      Header (Surah Info + Audio)   â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                     â”‚\nâ”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚\nâ”‚    â”‚   Arabic Text (13-line)  â”‚    â”‚ Main Content Area\nâ”‚    â”‚   ----------------       â”‚    â”‚ (scrollable)\nâ”‚    â”‚   Translation (Urdu)     â”‚    â”‚\nâ”‚    â”‚   Translation (English)  â”‚    â”‚\nâ”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚\nâ”‚                                     â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚    Tafseer/Hadith Drawer (toggled) â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Responsive Breakpoints\n- Mobile (< 768px): Single column, stacked layout\n- Tablet (768px - 1024px): Comfortable reading width\n- Desktop (> 1024px): Optimal reading width with side navigation\n\n## Component Library\n\n### Navigation Components\n**Top App Bar**\n- Sticky header with z-index-50\n- Contains: Surah selector dropdown, page number indicator, settings icon\n- Height: h-16\n- Padding: px-4 py-3\n\n**Surah Selector**\n- Dropdown menu with surah names (Arabic + transliteration + English)\n- Search functionality for quick navigation\n- Grouped by Juz (parts) for easier browsing\n\n### Reading Components\n**Verse Container**\n- Border-l-4 for verse number indication\n- Padding: p-4 to p-6\n- Margin bottom: mb-6 between verses\n- Background: Subtle hover state for interactivity\n\n**Arabic Text Display**\n- Font size: text-2xl to text-3xl\n- Line spacing: leading-loose\n- Clear verse number badges (rounded-full with subtle background)\n\n**Translation Cards**\n- Stacked layout below Arabic text\n- Label indicators: \"Urdu Translation\" / \"English Translation\" in text-sm font-medium\n- Padding: p-4\n- Border-t for visual separation\n\n### Audio Player\n**Persistent Audio Bar**\n- Fixed bottom position or sticky below header\n- Controls: Previous verse, Play/Pause, Next verse, Speed control, Reciter selection\n- Progress bar showing current playback position\n- Verse highlighting synchronized with audio playback\n- Height: h-20\n- Full width with max-w-4xl mx-auto to match content\n\n**Reciter Selection**\n- Dropdown with popular reciters: Mishary Alafasy, Abdul Basit, Saad Al-Ghamdi\n- Icon indicators for different recitation styles\n\n### Study Components\n**Tafseer Panel**\n- Expandable drawer or modal\n- Toggle button: \"View Tafseer\" icon button\n- Content: Verse-by-verse commentary\n- Padding: p-6\n- Max height with scroll for long content\n\n**Hadith Integration**\n- Separate tab or section\n- Search by keyword\n- Collection filters: Sahih Bukhari, Sahih Muslim\n- Card-based layout for hadith entries\n- Arabic text with translation side-by-side\n\n### Interactive Elements\n**Buttons**\n- Primary actions: px-6 py-3 with rounded-lg\n- Icon buttons: p-3 with rounded-full for audio controls\n- Text buttons for secondary actions: px-4 py-2\n\n**Form Inputs**\n- Search fields: h-12 with px-4, rounded-lg borders\n- Dropdowns: Custom select with clear labels\n- Consistent focus states with ring-2\n\n## Page Structure\n\n### Main Reading View\n1. **Header Section** (fixed/sticky)\n   - Surah name in both Arabic and English\n   - Verse range indicator\n   - Audio controls\n   \n2. **Content Section** (scrollable)\n   - 13-line Mushaf page view\n   - Arabic verses with clear verse numbers\n   - Urdu translation immediately below each verse\n   - English translation below Urdu\n   - Subtle dividers between verses\n   \n3. **Action Bar** (sticky)\n   - Bookmark current page\n   - Share verse\n   - Tafseer toggle\n   - Settings\n\n4. **Footer Drawer** (collapsible)\n   - Tafseer content when activated\n   - Hadith search when activated\n\n### Hadith Collection View\n- Sidebar navigation with collections (Bukhari, Muslim)\n- Main content area with search\n- Card grid for hadith entries (grid-cols-1 md:grid-cols-2)\n- Each card: Arabic text, translation, reference, grade\n\n## Accessibility & Usability\n\n- All interactive elements minimum touch target: 44x44px (h-11 w-11 minimum)\n- Clear focus indicators with ring-2 for keyboard navigation\n- ARIA labels for screen readers on all controls\n- High contrast ratios for text readability\n- Text resizing support without breaking layout\n- Skip links for keyboard users to jump to main content\n\n## Icons\n\n**Library**: Heroicons via CDN\n- Audio controls: play-circle, pause-circle, forward, backward\n- Navigation: chevron-left, chevron-right, bars-3\n- Actions: bookmark, share, cog-6-tooth, magnifying-glass\n- Content: book-open, chat-bubble-left-ellipsis (for tafseer)\n\n## Images\n\nNo hero images required. This is a utility application focused on text content. All visual elements serve functional purposes:\n- Surah header decorative patterns (optional subtle SVG borders)\n- Placeholder for verse number indicators (circular badges)\n\nThe design emphasizes typography, spacing, and content hierarchy over imagery.","size_bytes":7456},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/SurahSelector.tsx":{"content":"import { useState } from \"react\";\nimport { Search, BookOpen } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Input } from \"@/components/ui/input\";\nimport { Surah } from \"@shared/schema\";\n\ninterface SurahSelectorProps {\n  surahs: Surah[];\n  selectedSurah: number;\n  onSurahChange: (surahNumber: number) => void;\n  isLoading?: boolean;\n}\n\nexport function SurahSelector({ surahs, selectedSurah, onSurahChange, isLoading }: SurahSelectorProps) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const filteredSurahs = surahs.filter((surah) =>\n    surah.englishName.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    surah.name.includes(searchQuery) ||\n    surah.number.toString().includes(searchQuery)\n  );\n\n  const currentSurah = surahs.find(s => s.number === selectedSurah);\n\n  return (\n    <div className=\"flex items-center gap-3\">\n      <Select\n        value={selectedSurah.toString()}\n        onValueChange={(value) => onSurahChange(parseInt(value))}\n        disabled={isLoading}\n      >\n        <SelectTrigger \n          className=\"w-full sm:w-[280px] h-11\" \n          data-testid=\"select-surah\"\n        >\n          <div className=\"flex items-center gap-2\">\n            <BookOpen className=\"w-4 h-4 text-muted-foreground\" />\n            <SelectValue>\n              {currentSurah ? (\n                <span className=\"flex items-center gap-2\">\n                  <span className=\"font-medium\">{currentSurah.number}.</span>\n                  <span className=\"font-arabic text-base\">{currentSurah.name}</span>\n                  <span className=\"text-muted-foreground\">â€¢</span>\n                  <span>{currentSurah.englishName}</span>\n                </span>\n              ) : (\n                \"Select Surah\"\n              )}\n            </SelectValue>\n          </div>\n        </SelectTrigger>\n        <SelectContent className=\"max-h-[400px]\">\n          <div className=\"p-2 sticky top-0 bg-popover z-10\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search surah...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-9 h-10\"\n                data-testid=\"input-search-surah\"\n              />\n            </div>\n          </div>\n          <div className=\"max-h-[300px] overflow-y-auto\">\n            {filteredSurahs.map((surah) => (\n              <SelectItem\n                key={surah.number}\n                value={surah.number.toString()}\n                data-testid={`option-surah-${surah.number}`}\n              >\n                <div className=\"flex items-center gap-3 py-1\">\n                  <div className=\"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-medium text-sm\">\n                    {surah.number}\n                  </div>\n                  <div className=\"flex flex-col gap-0.5\">\n                    <div className=\"flex items-center gap-2\">\n                      <span className=\"font-arabic text-base\">{surah.name}</span>\n                      <span className=\"text-xs text-muted-foreground\">â€¢</span>\n                      <span className=\"font-medium\">{surah.englishName}</span>\n                    </div>\n                    <div className=\"text-xs text-muted-foreground\">\n                      {surah.englishNameTranslation} â€¢ {surah.numberOfAyahs} verses â€¢ {surah.revelationType}\n                    </div>\n                  </div>\n                </div>\n              </SelectItem>\n            ))}\n            {filteredSurahs.length === 0 && (\n              <div className=\"p-4 text-center text-sm text-muted-foreground\">\n                No surahs found\n              </div>\n            )}\n          </div>\n        </SelectContent>\n      </Select>\n    </div>\n  );\n}\n","size_bytes":4028},"server/storage.ts":{"content":"import { \n  type User, \n  type InsertUser,\n  type Bookmark,\n  type InsertBookmark,\n  type ReadingPosition,\n  type InsertReadingPosition,\n  type UserPreferences,\n  type InsertUserPreferences,\n  type Book,\n  type BookInsert,\n  users,\n  bookmarks,\n  readingPosition,\n  userPreferences,\n  booksTable,\n} from \"@shared/schema\";\nimport { db } from \"./db\";\nimport { eq, and, desc } from \"drizzle-orm\";\n\nexport interface IStorage {\n  // User methods\n  getUser(id: number): Promise<User | undefined>;\n  getUserBySessionId(sessionId: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n\n  // Bookmark methods\n  getBookmarks(userId: number): Promise<Bookmark[]>;\n  createBookmark(bookmark: InsertBookmark): Promise<Bookmark>;\n  deleteBookmark(id: number, userId: number): Promise<void>;\n  checkBookmarkExists(userId: number, surahNumber: number, ayahNumber: number): Promise<boolean>;\n\n  // Reading position methods\n  getReadingPosition(userId: number): Promise<ReadingPosition | undefined>;\n  upsertReadingPosition(position: InsertReadingPosition): Promise<ReadingPosition>;\n\n  // User preferences methods\n  getUserPreferences(userId: number): Promise<UserPreferences | undefined>;\n  upsertUserPreferences(preferences: InsertUserPreferences): Promise<UserPreferences>;\n\n  // Books methods\n  getAllBooks(): Promise<Book[]>;\n  createBook(book: BookInsert): Promise<Book>;\n}\n\nexport class DatabaseStorage implements IStorage {\n  // User methods\n  async getUser(id: number): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserBySessionId(sessionId: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.sessionId, sessionId));\n    return user || undefined;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(insertUser)\n      .returning();\n    return user;\n  }\n\n  // Bookmark methods\n  async getBookmarks(userId: number): Promise<Bookmark[]> {\n    return await db\n      .select()\n      .from(bookmarks)\n      .where(eq(bookmarks.userId, userId))\n      .orderBy(desc(bookmarks.createdAt));\n  }\n\n  async createBookmark(bookmark: InsertBookmark): Promise<Bookmark> {\n    const [newBookmark] = await db\n      .insert(bookmarks)\n      .values(bookmark)\n      .returning();\n    return newBookmark;\n  }\n\n  async deleteBookmark(id: number, userId: number): Promise<void> {\n    await db\n      .delete(bookmarks)\n      .where(and(eq(bookmarks.id, id), eq(bookmarks.userId, userId)));\n  }\n\n  async checkBookmarkExists(userId: number, surahNumber: number, ayahNumber: number): Promise<boolean> {\n    const [bookmark] = await db\n      .select()\n      .from(bookmarks)\n      .where(\n        and(\n          eq(bookmarks.userId, userId),\n          eq(bookmarks.surahNumber, surahNumber),\n          eq(bookmarks.ayahNumber, ayahNumber)\n        )\n      );\n    return !!bookmark;\n  }\n\n  // Reading position methods\n  async getReadingPosition(userId: number): Promise<ReadingPosition | undefined> {\n    const [position] = await db\n      .select()\n      .from(readingPosition)\n      .where(eq(readingPosition.userId, userId));\n    return position || undefined;\n  }\n\n  async upsertReadingPosition(position: InsertReadingPosition): Promise<ReadingPosition> {\n    // Try to insert, on conflict update\n    const [result] = await db\n      .insert(readingPosition)\n      .values({\n        ...position,\n        updatedAt: new Date(),\n      })\n      .onConflictDoUpdate({\n        target: readingPosition.userId,\n        set: {\n          surahNumber: position.surahNumber,\n          ayahNumber: position.ayahNumber,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return result;\n  }\n\n  // User preferences methods\n  async getUserPreferences(userId: number): Promise<UserPreferences | undefined> {\n    const [preferences] = await db\n      .select()\n      .from(userPreferences)\n      .where(eq(userPreferences.userId, userId));\n    return preferences || undefined;\n  }\n\n  async upsertUserPreferences(preferences: InsertUserPreferences): Promise<UserPreferences> {\n    const [result] = await db\n      .insert(userPreferences)\n      .values({\n        ...preferences,\n        updatedAt: new Date(),\n      })\n      .onConflictDoUpdate({\n        target: userPreferences.userId,\n        set: {\n          reciterIdentifier: preferences.reciterIdentifier,\n          theme: preferences.theme,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return result;\n  }\n\n  // Books methods\n  async getAllBooks(): Promise<Book[]> {\n    return await db\n      .select()\n      .from(booksTable)\n      .orderBy(desc(booksTable.uploadedAt));\n  }\n\n  async createBook(book: BookInsert): Promise<Book> {\n    const [newBook] = await db\n      .insert(booksTable)\n      .values(book)\n      .returning();\n    return newBook;\n  }\n}\n\nexport const storage = new DatabaseStorage();\n","size_bytes":5014},"client/src/hooks/use-user-session.ts":{"content":"import { useState } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport type { User } from '@shared/schema';\nimport { nanoid } from 'nanoid';\n\nconst SESSION_ID_KEY = 'quran_app_session_id';\n\nfunction getOrCreateSessionId(): string {\n  let sessionId = localStorage.getItem(SESSION_ID_KEY);\n  \n  if (!sessionId) {\n    sessionId = nanoid();\n    localStorage.setItem(SESSION_ID_KEY, sessionId);\n  }\n  \n  return sessionId;\n}\n\nexport function useUserSession() {\n  const [sessionId] = useState(() => getOrCreateSessionId());\n\n  const { data: user, isLoading } = useQuery<User>({\n    queryKey: ['/api/user/session', sessionId],\n    queryFn: async () => {\n      const response = await fetch('/api/user/session', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ sessionId }),\n      });\n      \n      if (!response.ok) {\n        throw new Error('Failed to create user session');\n      }\n      \n      return response.json();\n    },\n    staleTime: Infinity, // User session doesn't change\n    gcTime: Infinity,\n  });\n\n  return {\n    user,\n    userId: user?.id,\n    isLoading,\n    sessionId,\n  };\n}\n","size_bytes":1168},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/components/QaidahSection.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Button } from \"@/components/ui/button\";\nimport { Volume2 } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface ArabicLetter {\n  arabic: string;\n  name: string;\n  transliteration: string;\n  pronunciation: string;\n  position: {\n    isolated: string;\n    initial: string;\n    medial: string;\n    final: string;\n  };\n}\n\ninterface TajweedRule {\n  id: string;\n  title: string;\n  arabicTitle: string;\n  description: string;\n  examples: {\n    arabic: string;\n    transliteration: string;\n    translation: string;\n    reference?: string;\n  }[];\n  keyPoints: string[];\n}\n\nconst arabicAlphabet: ArabicLetter[] = [\n  { arabic: \"Ø§\", name: \"Alif\", transliteration: \"A\", pronunciation: \"as in 'father'\", position: { isolated: \"Ø§\", initial: \"Ø§\", medial: \"Ù€Ø§\", final: \"Ù€Ø§\" } },\n  { arabic: \"Ø¨\", name: \"Baa\", transliteration: \"B\", pronunciation: \"as in 'boy'\", position: { isolated: \"Ø¨\", initial: \"Ø¨Ù€\", medial: \"Ù€Ø¨Ù€\", final: \"Ù€Ø¨\" } },\n  { arabic: \"Øª\", name: \"Taa\", transliteration: \"T\", pronunciation: \"as in 'top'\", position: { isolated: \"Øª\", initial: \"ØªÙ€\", medial: \"Ù€ØªÙ€\", final: \"Ù€Øª\" } },\n  { arabic: \"Ø«\", name: \"Thaa\", transliteration: \"Th\", pronunciation: \"as in 'think'\", position: { isolated: \"Ø«\", initial: \"Ø«Ù€\", medial: \"Ù€Ø«Ù€\", final: \"Ù€Ø«\" } },\n  { arabic: \"Ø¬\", name: \"Jeem\", transliteration: \"J\", pronunciation: \"as in 'jam'\", position: { isolated: \"Ø¬\", initial: \"Ø¬Ù€\", medial: \"Ù€Ø¬Ù€\", final: \"Ù€Ø¬\" } },\n  { arabic: \"Ø­\", name: \"Haa\", transliteration: \"H\", pronunciation: \"strong 'h' from throat\", position: { isolated: \"Ø­\", initial: \"Ø­Ù€\", medial: \"Ù€Ø­Ù€\", final: \"Ù€Ø­\" } },\n  { arabic: \"Ø®\", name: \"Khaa\", transliteration: \"Kh\", pronunciation: \"as in 'Bach' (German)\", position: { isolated: \"Ø®\", initial: \"Ø®Ù€\", medial: \"Ù€Ø®Ù€\", final: \"Ù€Ø®\" } },\n  { arabic: \"Ø¯\", name: \"Daal\", transliteration: \"D\", pronunciation: \"as in 'day'\", position: { isolated: \"Ø¯\", initial: \"Ø¯\", medial: \"Ù€Ø¯\", final: \"Ù€Ø¯\" } },\n  { arabic: \"Ø°\", name: \"Dhaal\", transliteration: \"Dh\", pronunciation: \"as in 'this'\", position: { isolated: \"Ø°\", initial: \"Ø°\", medial: \"Ù€Ø°\", final: \"Ù€Ø°\" } },\n  { arabic: \"Ø±\", name: \"Raa\", transliteration: \"R\", pronunciation: \"rolled 'r'\", position: { isolated: \"Ø±\", initial: \"Ø±\", medial: \"Ù€Ø±\", final: \"Ù€Ø±\" } },\n  { arabic: \"Ø²\", name: \"Zay\", transliteration: \"Z\", pronunciation: \"as in 'zoo'\", position: { isolated: \"Ø²\", initial: \"Ø²\", medial: \"Ù€Ø²\", final: \"Ù€Ø²\" } },\n  { arabic: \"Ø³\", name: \"Seen\", transliteration: \"S\", pronunciation: \"as in 'sun'\", position: { isolated: \"Ø³\", initial: \"Ø³Ù€\", medial: \"Ù€Ø³Ù€\", final: \"Ù€Ø³\" } },\n  { arabic: \"Ø´\", name: \"Sheen\", transliteration: \"Sh\", pronunciation: \"as in 'she'\", position: { isolated: \"Ø´\", initial: \"Ø´Ù€\", medial: \"Ù€Ø´Ù€\", final: \"Ù€Ø´\" } },\n  { arabic: \"Øµ\", name: \"Saad\", transliteration: \"S\", pronunciation: \"heavy 's' (emphatic)\", position: { isolated: \"Øµ\", initial: \"ØµÙ€\", medial: \"Ù€ØµÙ€\", final: \"Ù€Øµ\" } },\n  { arabic: \"Ø¶\", name: \"Daad\", transliteration: \"D\", pronunciation: \"heavy 'd' (emphatic)\", position: { isolated: \"Ø¶\", initial: \"Ø¶Ù€\", medial: \"Ù€Ø¶Ù€\", final: \"Ù€Ø¶\" } },\n  { arabic: \"Ø·\", name: \"Taa\", transliteration: \"T\", pronunciation: \"heavy 't' (emphatic)\", position: { isolated: \"Ø·\", initial: \"Ø·Ù€\", medial: \"Ù€Ø·Ù€\", final: \"Ù€Ø·\" } },\n  { arabic: \"Ø¸\", name: \"Dhaa\", transliteration: \"Dh\", pronunciation: \"heavy 'dh' (emphatic)\", position: { isolated: \"Ø¸\", initial: \"Ø¸Ù€\", medial: \"Ù€Ø¸Ù€\", final: \"Ù€Ø¸\" } },\n  { arabic: \"Ø¹\", name: \"Ayn\", transliteration: \"'\", pronunciation: \"guttural sound from throat\", position: { isolated: \"Ø¹\", initial: \"Ø¹Ù€\", medial: \"Ù€Ø¹Ù€\", final: \"Ù€Ø¹\" } },\n  { arabic: \"Øº\", name: \"Ghayn\", transliteration: \"Gh\", pronunciation: \"like French 'r'\", position: { isolated: \"Øº\", initial: \"ØºÙ€\", medial: \"Ù€ØºÙ€\", final: \"Ù€Øº\" } },\n  { arabic: \"Ù\", name: \"Faa\", transliteration: \"F\", pronunciation: \"as in 'fun'\", position: { isolated: \"Ù\", initial: \"ÙÙ€\", medial: \"Ù€ÙÙ€\", final: \"Ù€Ù\" } },\n  { arabic: \"Ù‚\", name: \"Qaaf\", transliteration: \"Q\", pronunciation: \"deep 'k' from throat\", position: { isolated: \"Ù‚\", initial: \"Ù‚Ù€\", medial: \"Ù€Ù‚Ù€\", final: \"Ù€Ù‚\" } },\n  { arabic: \"Ùƒ\", name: \"Kaaf\", transliteration: \"K\", pronunciation: \"as in 'king'\", position: { isolated: \"Ùƒ\", initial: \"ÙƒÙ€\", medial: \"Ù€ÙƒÙ€\", final: \"Ù€Ùƒ\" } },\n  { arabic: \"Ù„\", name: \"Laam\", transliteration: \"L\", pronunciation: \"as in 'love'\", position: { isolated: \"Ù„\", initial: \"Ù„Ù€\", medial: \"Ù€Ù„Ù€\", final: \"Ù€Ù„\" } },\n  { arabic: \"Ù…\", name: \"Meem\", transliteration: \"M\", pronunciation: \"as in 'moon'\", position: { isolated: \"Ù…\", initial: \"Ù…Ù€\", medial: \"Ù€Ù…Ù€\", final: \"Ù€Ù…\" } },\n  { arabic: \"Ù†\", name: \"Noon\", transliteration: \"N\", pronunciation: \"as in 'noon'\", position: { isolated: \"Ù†\", initial: \"Ù†Ù€\", medial: \"Ù€Ù†Ù€\", final: \"Ù€Ù†\" } },\n  { arabic: \"Ù‡\", name: \"Haa\", transliteration: \"H\", pronunciation: \"as in 'hat'\", position: { isolated: \"Ù‡\", initial: \"Ù‡Ù€\", medial: \"Ù€Ù‡Ù€\", final: \"Ù€Ù‡\" } },\n  { arabic: \"Ùˆ\", name: \"Waaw\", transliteration: \"W\", pronunciation: \"as in 'way'\", position: { isolated: \"Ùˆ\", initial: \"Ùˆ\", medial: \"Ù€Ùˆ\", final: \"Ù€Ùˆ\" } },\n  { arabic: \"ÙŠ\", name: \"Yaa\", transliteration: \"Y\", pronunciation: \"as in 'yes'\", position: { isolated: \"ÙŠ\", initial: \"ÙŠÙ€\", medial: \"Ù€ÙŠÙ€\", final: \"Ù€ÙŠ\" } },\n];\n\nconst tajweedRules: TajweedRule[] = [\n  {\n    id: \"noon-tanween\",\n    title: \"Noon Sakinah & Tanween Rules\",\n    arabicTitle: \"Ø£Ø­ÙƒØ§Ù… Ø§Ù„Ù†ÙˆÙ† Ø§Ù„Ø³Ø§ÙƒÙ†Ø© ÙˆØ§Ù„ØªÙ†ÙˆÙŠÙ†\",\n    description: \"Rules for pronouncing Noon with Sukoon (Ù†) and Tanween (Ù‹ ÙŒ Ù) when followed by different letters.\",\n    keyPoints: [\n      \"Idhaar (Clear pronunciation) - with throat letters: Ø¡ Ù‡ Ø¹ Ø­ Øº Ø®\",\n      \"Idghaam (Merging) - with letters: ÙŠ Ø± Ù… Ù„ Ùˆ Ù†\",\n      \"Iqlaab (Conversion to Meem) - with letter: Ø¨\",\n      \"Ikhfaa (Hiding/Nasal sound) - with remaining 15 letters\"\n    ],\n    examples: [\n      { arabic: \"Ù…ÙÙ†Ù’ Ù‡ÙØ§Ø¯Ù\", transliteration: \"min hÄdin\", translation: \"from a guide\", reference: \"Example of Idhaar\" },\n      { arabic: \"Ù…ÙÙ†Ù’ ÙŠÙØ¹Ù’Ù…ÙÙ„Ù’\", transliteration: \"man ya'mal\", translation: \"whoever does\", reference: \"Example of Idghaam\" },\n      { arabic: \"Ø³ÙÙ…ÙÙŠØ¹ÙŒ Ø¨ÙØµÙÙŠØ±ÙŒ\", transliteration: \"samÄ«'un basÄ«r\", translation: \"All-Hearing, All-Seeing\", reference: \"Example of Iqlaab\" },\n      { arabic: \"Ù…ÙÙ†Ù’ ÙƒÙÙ„ÙÙ‘\", transliteration: \"min kulli\", translation: \"from every\", reference: \"Example of Ikhfaa\" },\n    ]\n  },\n  {\n    id: \"meem-sakinah\",\n    title: \"Meem Sakinah Rules\",\n    arabicTitle: \"Ø£Ø­ÙƒØ§Ù… Ø§Ù„Ù…ÙŠÙ… Ø§Ù„Ø³Ø§ÙƒÙ†Ø©\",\n    description: \"Rules for pronouncing Meem with Sukoon (Ù…) when followed by different letters.\",\n    keyPoints: [\n      \"Ikhfaa Shafawi (Labial hiding) - when followed by Ø¨\",\n      \"Idghaam Shafawi (Labial merging) - when followed by another Ù…\",\n      \"Idhaar Shafawi (Clear pronunciation) - with all other letters\"\n    ],\n    examples: [\n      { arabic: \"ØªÙØ±Ù’Ù…ÙÙŠÙ‡ÙÙ… Ø¨ÙØ­ÙØ¬ÙØ§Ø±ÙØ©Ù\", transliteration: \"tarmÄ«him bi-hijÄrah\", translation: \"striking them with stones\", reference: \"Al-Fil 105:4 - Ikhfaa Shafawi\" },\n      { arabic: \"Ù„ÙÙ‡ÙÙ… Ù…ÙÙ‘Ø§ ÙŠÙØ´ÙØ§Ø¡ÙÙˆÙ†Ù\", transliteration: \"lahum mÄ yashÄ'Å«n\", translation: \"for them is whatever they wish\", reference: \"Az-Zumar 39:34 - Idghaam Shafawi\" },\n      { arabic: \"ÙˆÙÙ‡ÙÙ…Ù’ ÙÙÙŠÙ‡ÙØ§\", transliteration: \"wahum fÄ«hÄ\", translation: \"and they will be therein\", reference: \"Example of Idhaar Shafawi\" },\n    ]\n  },\n  {\n    id: \"madd\",\n    title: \"Madd (Prolongation)\",\n    arabicTitle: \"Ø£Ø­ÙƒØ§Ù… Ø§Ù„Ù…Ø¯\",\n    description: \"Rules for elongating vowels. Madd means to stretch or prolong a sound.\",\n    keyPoints: [\n      \"Madd Tabee'i (Natural) - 2 counts (harakat)\",\n      \"Madd Waajib Muttasil (Obligatory Connected) - 4-5 counts\",\n      \"Madd Jaa'iz Munfasil (Permissible Separated) - 2, 4, or 5 counts\",\n      \"Madd Laazim (Necessary) - 6 counts\",\n      \"Madd 'Aarid Lis-Sukoon (Presented Sukoon) - 2, 4, or 6 counts\"\n    ],\n    examples: [\n      { arabic: \"Ù‚ÙØ§Ù„Ù\", transliteration: \"qÄla\", translation: \"he said\", reference: \"Madd Tabee'i\" },\n      { arabic: \"Ø¬ÙØ§Ø¡Ù\", transliteration: \"jÄ'a\", translation: \"came\", reference: \"Madd Waajib Muttasil\" },\n      { arabic: \"ÙŠÙØ§ Ø£ÙÙŠÙÙ‘Ù‡ÙØ§\", transliteration: \"yÄ ayyuhÄ\", translation: \"O you\", reference: \"Madd Jaa'iz Munfasil\" },\n      { arabic: \"Ø§Ù„Ø¶ÙÙ‘Ø§Ù„ÙÙ‘ÙŠÙ†Ù\", transliteration: \"ad-dÄllÄ«n\", translation: \"those who have gone astray\", reference: \"Al-Fatihah 1:7 - Madd Laazim\" },\n    ]\n  },\n  {\n    id: \"qalqalah\",\n    title: \"Qalqalah (Echoing Sound)\",\n    arabicTitle: \"Ø§Ù„Ù‚Ù„Ù‚Ù„Ø©\",\n    description: \"A vibrating or bouncing sound produced when pronouncing specific letters with sukoon.\",\n    keyPoints: [\n      \"Five letters of Qalqalah: Ù‚ Ø· Ø¨ Ø¬ Ø¯\",\n      \"Remembered by the word: Ù‚ÙØ·Ù’Ø¨Ù Ø¬ÙØ¯Ù‘\",\n      \"Qalqalah Sughra (Minor) - in the middle of a word\",\n      \"Qalqalah Kubra (Major) - at the end of a word (stopping)\"\n    ],\n    examples: [\n      { arabic: \"ÙŠÙØ®Ù’Ù„ÙÙ‚Ù\", transliteration: \"yakhluq\", translation: \"He creates\", reference: \"Qalqalah on Ù‚\" },\n      { arabic: \"Ø£ÙØ­ÙØ·ØªÙ\", transliteration: \"ahaTtu\", translation: \"I have encompassed\", reference: \"An-Naml 27:22 - Qalqalah on Ø·\" },\n      { arabic: \"ÙˆÙØ§Ø¬Ù’Ø¹ÙÙ„\", transliteration: \"waj'al\", translation: \"and make\", reference: \"Qalqalah on Ø¬\" },\n      { arabic: \"Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù\", transliteration: \"al-hamdu\", translation: \"praise\", reference: \"Al-Fatihah 1:2 - Qalqalah on Ø¯\" },\n    ]\n  },\n  {\n    id: \"ghunnah\",\n    title: \"Ghunnah (Nasal Sound)\",\n    arabicTitle: \"Ø§Ù„ØºÙ†Ø©\",\n    description: \"A nasal sound that comes from the nose, lasting 2 counts (harakat).\",\n    keyPoints: [\n      \"Found with Ù… and Ù† when they have shaddah or are part of Idghaam\",\n      \"Duration: 2 counts\",\n      \"Comes from the nasal passage\",\n      \"Present in Ikhfaa, Idghaam, and Iqlaab\"\n    ],\n    examples: [\n      { arabic: \"Ù…ÙÙ†Ù Ø§Ù„Ù†ÙÙ‘Ø§Ø³Ù\", transliteration: \"mina an-nÄs\", translation: \"from the people\", reference: \"Al-Baqarah 2:8 - Ghunnah with Idghaam\" },\n      { arabic: \"Ø¥ÙÙ†ÙÙ‘\", transliteration: \"inna\", translation: \"indeed\", reference: \"Ghunnah with Shaddah on Ù†\" },\n      { arabic: \"Ø«ÙÙ…ÙÙ‘\", transliteration: \"thumma\", translation: \"then\", reference: \"Ghunnah with Shaddah on Ù…\" },\n    ]\n  },\n  {\n    id: \"ra\",\n    title: \"Raa' - Heavy & Light\",\n    arabicTitle: \"Ø£Ø­ÙƒØ§Ù… Ø§Ù„Ø±Ø§Ø¡ - Ø§Ù„ØªÙØ®ÙŠÙ… ÙˆØ§Ù„ØªØ±Ù‚ÙŠÙ‚\",\n    description: \"Rules for pronouncing the letter Raa (Ø±) with Tafkheem (heavy/thick) or Tarqeeq (light/thin).\",\n    keyPoints: [\n      \"Heavy (Tafkheem): When Raa has Fatha, Damma, or comes after heavy letters\",\n      \"Light (Tarqeeq): When Raa has Kasra or comes after light letters\",\n      \"Special cases depend on surrounding letters and vowels\"\n    ],\n    examples: [\n      { arabic: \"Ø±ÙØ¨ÙÙ‘\", transliteration: \"rabbi\", translation: \"my Lord\", reference: \"Heavy Raa with Fatha\" },\n      { arabic: \"Ø±ÙØ³ÙÙ„\", transliteration: \"rusul\", translation: \"messengers\", reference: \"Heavy Raa with Damma\" },\n      { arabic: \"Ø±ÙØ²Ù’Ù‚\", transliteration: \"rizq\", translation: \"provision\", reference: \"Light Raa with Kasra\" },\n      { arabic: \"ÙÙØ±Ù’Ø¹ÙÙˆÙ’Ù†\", transliteration: \"fir'awn\", translation: \"Pharaoh\", reference: \"Light Raa after Kasra\" },\n    ]\n  },\n  {\n    id: \"laam-allah\",\n    title: \"Laam of Allah's Name\",\n    arabicTitle: \"Ù„Ø§Ù… Ù„ÙØ¸ Ø§Ù„Ø¬Ù„Ø§Ù„Ø©\",\n    description: \"Rules for pronouncing the Laam in the word 'Allah' (Ø§Ù„Ù„Ù‡).\",\n    keyPoints: [\n      \"Heavy (Tafkheem): When preceded by Fatha or Damma - Ø§Ù„Ù„ÙÙ‘Ù‡ / Ø§Ù„Ù„ÙÙ‘Ù‡Ù\",\n      \"Light (Tarqeeq): When preceded by Kasra - Ø§Ù„Ù„ÙÙ‘Ù‡Ù\",\n      \"Affects the pronunciation of the entire blessed name\"\n    ],\n    examples: [\n      { arabic: \"Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù\", transliteration: \"bismillÄh\", translation: \"In the name of Allah\", reference: \"Al-Fatihah 1:1 - Light Laam\" },\n      { arabic: \"Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù\", transliteration: \"qul huwallÄhu\", translation: \"Say: He is Allah\", reference: \"Al-Ikhlas 112:1 - Heavy Laam\" },\n      { arabic: \"Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù\", transliteration: \"al-hamdu lillÄh\", translation: \"Praise be to Allah\", reference: \"Al-Fatihah 1:2 - Light Laam\" },\n    ]\n  },\n  {\n    id: \"sifaat\",\n    title: \"Characteristics of Letters (Sifaat)\",\n    arabicTitle: \"ØµÙØ§Øª Ø§Ù„Ø­Ø±ÙˆÙ\",\n    description: \"The inherent qualities that give each Arabic letter its unique sound.\",\n    keyPoints: [\n      \"Hams (Whispered) vs Jahr (Voiced)\",\n      \"Shiddah (Intensity) vs Rakhawah (Softness) vs Tawassut (Medium)\",\n      \"Isti'laa (Elevated) vs Istifaal (Lowered)\",\n      \"Itbaaq (Covered) vs Infitaah (Open)\",\n      \"Idhlaaq (Fluent) vs Ismat (Prevented)\"\n    ],\n    examples: [\n      { arabic: \"ØµÙØ±ÙØ§Ø·Ù\", transliteration: \"sirÄTa\", translation: \"path\", reference: \"Heavy letters: Øµ Ø·\" },\n      { arabic: \"Ù‚ÙØ±Ù’Ø¢Ù†\", transliteration: \"qur'Än\", translation: \"Quran\", reference: \"Heavy letter: Ù‚\" },\n      { arabic: \"ÙÙØ±Ù’ Ù…ÙØ±Ù’\", transliteration: \"far mur\", translation: \"\", reference: \"Letters of Idhlaaq: Ù Ø± Ù…\" },\n    ]\n  }\n];\n\n// Map Arabic letters to audio filenames (using Arabic character as key to avoid name duplicates)\nconst letterAudioMap: { [key: string]: string } = {\n  \"Ø§\": \"alif\",\n  \"Ø¨\": \"baa\",\n  \"Øª\": \"taa\",\n  \"Ø«\": \"thaa\",\n  \"Ø¬\": \"jeem\",\n  \"Ø­\": \"haa\",\n  \"Ø®\": \"khaa\",\n  \"Ø¯\": \"dal\",\n  \"Ø°\": \"thal\",\n  \"Ø±\": \"raa\",\n  \"Ø²\": \"zay\",\n  \"Ø³\": \"seen\",\n  \"Ø´\": \"sheen\",\n  \"Øµ\": \"saad\",\n  \"Ø¶\": \"daad\",\n  \"Ø·\": \"taa_h\",     // Heavy Taa\n  \"Ø¸\": \"zaa\",       // Heavy Dhaa\n  \"Ø¹\": \"ayn\",\n  \"Øº\": \"ghayn\",\n  \"Ù\": \"faa\",\n  \"Ù‚\": \"qaaf\",\n  \"Ùƒ\": \"kaaf\",\n  \"Ù„\": \"laam\",\n  \"Ù…\": \"meem\",\n  \"Ù†\": \"noon\",\n  \"Ù‡\": \"haa_h\",     // Final Haa\n  \"Ùˆ\": \"waaw\",\n  \"ÙŠ\": \"yaa\",\n};\n\nexport function QaidahSection() {\n  const [selectedLetter, setSelectedLetter] = useState<ArabicLetter | null>(null);\n  const [selectedRule, setSelectedRule] = useState<TajweedRule | null>(null);\n  const currentAudioRef = useRef<HTMLAudioElement | null>(null);\n\n  // Cleanup audio on unmount\n  useEffect(() => {\n    return () => {\n      if (currentAudioRef.current) {\n        currentAudioRef.current.pause();\n      }\n    };\n  }, []);\n\n  const playLetterAudio = (arabicLetter: string) => {\n    try {\n      // Get the audio filename for this letter\n      const audioFilename = letterAudioMap[arabicLetter];\n      if (!audioFilename) {\n        console.error(`No audio file found for letter: ${arabicLetter}`);\n        return;\n      }\n\n      // Simply pause any currently playing audio (don't clear src)\n      if (currentAudioRef.current) {\n        currentAudioRef.current.pause();\n      }\n\n      // Create new audio element\n      const audioUrl = `/audio/letters/${audioFilename}.mp3`;\n      console.log(`ğŸ”Š Playing letter ${arabicLetter} (${audioFilename}) from ${audioUrl}`);\n      const audio = new Audio(audioUrl);\n      audio.volume = 1.0;\n      \n      // Store reference to current audio\n      currentAudioRef.current = audio;\n      \n      // Wait for audio to be ready before playing\n      audio.addEventListener('canplaythrough', () => {\n        // Only play if this is still the current audio (prevents old audios from playing)\n        if (currentAudioRef.current === audio) {\n          audio.play().catch(error => {\n            console.error('Error playing audio:', audioFilename, error);\n          });\n        }\n      }, { once: true });\n      \n      audio.addEventListener('error', (e) => {\n        const target = e.target as HTMLAudioElement;\n        // Only log errors for the current audio\n        if (currentAudioRef.current === audio) {\n          const errorCode = target.error?.code;\n          const errorMsg = target.error?.message || 'Unknown error';\n          console.error(`Audio load error for ${audioFilename}:`, {\n            code: errorCode,\n            message: errorMsg,\n            url: audioUrl\n          });\n        }\n      });\n      \n      // Start loading the audio\n      audio.load();\n    } catch (error) {\n      console.error('Error in audio playback:', error);\n    }\n  };\n\n  // For Tajweed examples (full verses), use Web Speech API\n  const speak = (text: string) => {\n    if (!('speechSynthesis' in window)) {\n      console.log('Speech synthesis not available');\n      return;\n    }\n\n    try {\n      window.speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = 'ar-SA';\n      utterance.rate = 0.7;\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('Error in speech synthesis:', error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <Tabs defaultValue=\"alphabet\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n          <TabsTrigger value=\"alphabet\" data-testid=\"tab-alphabet\">\n            Arabic Alphabet\n          </TabsTrigger>\n          <TabsTrigger value=\"tajweed\" data-testid=\"tab-tajweed\">\n            Tajweed Rules\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"alphabet\">\n          <Card className=\"mb-4 sm:mb-6\">\n            <CardHeader className=\"pb-3 sm:pb-6\">\n              <CardTitle className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2\">\n                <span className=\"text-base sm:text-lg\">Alif Baa - Learn Arabic Alphabet</span>\n                <span className=\"font-arabic text-xl sm:text-2xl\">Ø­Ø±ÙˆÙ Ø§Ù„Ù‡Ø¬Ø§Ø¡</span>\n              </CardTitle>\n              <CardDescription className=\"text-xs sm:text-sm\">\n                28 letters of the Arabic alphabet with pronunciation guide. Click on any letter to hear its pronunciation.\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"p-3 sm:p-6\">\n              <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-2 sm:gap-4\">\n                {arabicAlphabet.map((letter, index) => (\n                  <Card\n                    key={`${letter.arabic}-${index}`}\n                    className=\"hover-elevate active-elevate-2 cursor-pointer transition-all\"\n                    onClick={() => {\n                      setSelectedLetter(letter);\n                      playLetterAudio(letter.arabic);\n                    }}\n                    data-testid={`letter-${letter.name.toLowerCase()}-${letter.transliteration.toLowerCase()}`}\n                  >\n                    <CardContent className=\"p-3 sm:p-4 text-center flex flex-col items-center justify-between gap-2 sm:gap-4 min-h-[140px] sm:min-h-[180px]\">\n                      <div className=\"text-4xl sm:text-5xl font-arabic leading-none mt-1 sm:mt-2\">{letter.arabic}</div>\n                      <div className=\"flex flex-col gap-0.5 sm:gap-1 w-full\">\n                        <div className=\"text-xs sm:text-sm font-semibold break-words px-0.5 sm:px-1\">{letter.name}</div>\n                        <div className=\"text-[10px] sm:text-xs text-muted-foreground break-words px-0.5 sm:px-1\">{letter.transliteration}</div>\n                      </div>\n                      <Button\n                        size=\"icon\"\n                        variant=\"ghost\"\n                        className=\"h-6 w-6 sm:h-7 sm:w-7 flex-shrink-0\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          playLetterAudio(letter.arabic);\n                        }}\n                        aria-label={`Hear pronunciation of ${letter.name}`}\n                        data-testid={`button-speak-${letter.name.toLowerCase()}-${letter.transliteration.toLowerCase()}`}\n                      >\n                        <Volume2 className=\"w-3 h-3 sm:w-4 sm:h-4\" />\n                      </Button>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n\n              {selectedLetter && (\n                <Card className=\"mt-4 sm:mt-6 bg-primary/5\" data-testid=\"qaidah-letter-details\">\n                  <CardHeader className=\"pb-3 sm:pb-6\">\n                    <CardTitle className=\"flex items-center gap-3 sm:gap-4\">\n                      <span className=\"text-4xl sm:text-5xl font-arabic\">{selectedLetter.arabic}</span>\n                      <div>\n                        <div className=\"text-lg sm:text-xl\">{selectedLetter.name}</div>\n                        <div className=\"text-xs sm:text-sm text-muted-foreground\">{selectedLetter.transliteration}</div>\n                      </div>\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-3 sm:space-y-4 p-3 sm:p-6\">\n                    <div>\n                      <p className=\"text-sm font-medium mb-2\">Pronunciation:</p>\n                      <p className=\"text-sm text-muted-foreground\">{selectedLetter.pronunciation}</p>\n                    </div>\n                    <div data-testid=\"qaidah-letter-forms\">\n                      <p className=\"text-sm font-medium mb-2\">Letter Forms (positions in word):</p>\n                      <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-4\">\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.isolated}</div>\n                          <div className=\"text-xs text-muted-foreground\">Isolated</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.initial}</div>\n                          <div className=\"text-xs text-muted-foreground\">Initial</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.medial}</div>\n                          <div className=\"text-xs text-muted-foreground\">Medial</div>\n                        </div>\n                        <div className=\"text-center\">\n                          <div className=\"text-3xl font-arabic mb-1\">{selectedLetter.position.final}</div>\n                          <div className=\"text-xs text-muted-foreground\">Final</div>\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              )}\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"tajweed\">\n          <Card className=\"mb-6\">\n            <CardHeader>\n              <CardTitle className=\"flex items-center justify-between\">\n                <span>Tajweed Rules</span>\n                <span className=\"font-arabic text-2xl\">Ø£Ø­ÙƒØ§Ù… Ø§Ù„ØªØ¬ÙˆÙŠØ¯</span>\n              </CardTitle>\n              <CardDescription>\n                Learn the essential rules of Quranic recitation with examples from the Quran\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                {tajweedRules.map((rule) => (\n                  <Card\n                    key={rule.id}\n                    className=\"hover-elevate active-elevate-2 cursor-pointer transition-all\"\n                    onClick={() => setSelectedRule(selectedRule?.id === rule.id ? null : rule)}\n                    data-testid={`tajweed-${rule.id}`}\n                    role=\"button\"\n                    aria-expanded={selectedRule?.id === rule.id}\n                    aria-label={`${rule.title} - Click to expand`}\n                  >\n                    <CardHeader>\n                      <CardTitle className=\"flex items-center justify-between text-lg\">\n                        <span>{rule.title}</span>\n                        <span className=\"font-arabic text-xl\">{rule.arabicTitle}</span>\n                      </CardTitle>\n                      <CardDescription>{rule.description}</CardDescription>\n                    </CardHeader>\n                    \n                    {selectedRule?.id === rule.id && (\n                      <CardContent className=\"space-y-4 border-t pt-4\">\n                        <div>\n                          <h4 className=\"font-semibold mb-2\">Key Points:</h4>\n                          <ul className=\"list-disc list-inside space-y-1 text-sm text-muted-foreground\">\n                            {rule.keyPoints.map((point, idx) => (\n                              <li key={idx}>{point}</li>\n                            ))}\n                          </ul>\n                        </div>\n\n                        <div>\n                          <h4 className=\"font-semibold mb-3\">Examples:</h4>\n                          <div className=\"space-y-3\">\n                            {rule.examples.map((example, idx) => (\n                              <div key={idx} className=\"p-4 bg-muted/50 rounded-lg\">\n                                <div className=\"flex items-start justify-between gap-4 mb-2\">\n                                  <div className=\"text-2xl font-arabic\" dir=\"rtl\">{example.arabic}</div>\n                                  <Button\n                                    size=\"icon\"\n                                    variant=\"ghost\"\n                                    onClick={(e) => {\n                                      e.stopPropagation();\n                                      speak(example.arabic);\n                                    }}\n                                    className=\"h-8 w-8\"\n                                    aria-label={`Hear pronunciation of example: ${example.transliteration}`}\n                                    data-testid={`button-speak-example-${rule.id}-${idx}`}\n                                  >\n                                    <Volume2 className=\"w-4 h-4\" />\n                                  </Button>\n                                </div>\n                                <div className=\"text-sm italic text-muted-foreground mb-1\">\n                                  {example.transliteration}\n                                </div>\n                                <div className=\"text-sm\">{example.translation}</div>\n                                {example.reference && (\n                                  <Badge variant=\"outline\" className=\"mt-2\">\n                                    {example.reference}\n                                  </Badge>\n                                )}\n                              </div>\n                            ))}\n                          </div>\n                        </div>\n                      </CardContent>\n                    )}\n                  </Card>\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":27112},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n        arabic: [\"var(--font-arabic)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4090},"client/src/components/HadithCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Hadith } from \"@shared/schema\";\n\ninterface HadithCardProps {\n  hadith: Hadith;\n}\n\nexport function HadithCard({ hadith }: HadithCardProps) {\n  const collectionName = hadith.collection || 'Unknown';\n  const hadithNum = hadith.hadithNumber || '1';\n  \n  return (\n    <Card className=\"p-6 hover-elevate\" data-testid={`hadith-card-${hadithNum}`}>\n      <div className=\"flex items-start justify-between gap-4 mb-4\">\n        <div className=\"flex items-center gap-2\">\n          <Badge variant=\"outline\" className=\"font-medium capitalize\">\n            {collectionName}\n          </Badge>\n          {hadith.grade && (\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              {hadith.grade}\n            </Badge>\n          )}\n        </div>\n        <span className=\"text-sm text-muted-foreground\">\n          #{hadithNum}\n        </span>\n      </div>\n\n      <div className=\"space-y-4\">\n        {hadith.arabicText && (\n          <div>\n            <div className=\"text-sm font-medium text-muted-foreground mb-2\">\n              Arabic\n            </div>\n            <p \n              className=\"font-arabic text-xl leading-loose text-right\" \n              dir=\"rtl\"\n              data-testid=\"text-hadith-arabic\"\n            >\n              {hadith.arabicText}\n            </p>\n          </div>\n        )}\n\n        {hadith.englishText && (\n          <div className=\"pt-3 border-t border-border\">\n            <div className=\"text-sm font-medium text-muted-foreground mb-2\">\n              English Translation\n            </div>\n            <p className=\"text-base leading-relaxed\" data-testid=\"text-hadith-english\">\n              {hadith.englishText}\n            </p>\n          </div>\n        )}\n\n        {hadith.urduText && (\n          <div className=\"pt-3 border-t border-border\">\n            <div className=\"text-sm font-medium text-muted-foreground mb-2\">\n              Urdu Translation\n            </div>\n            <p \n              className=\"text-base leading-relaxed\" \n              dir=\"rtl\"\n              data-testid=\"text-hadith-urdu\"\n            >\n              {hadith.urduText}\n            </p>\n          </div>\n        )}\n\n        {(hadith.narrator || hadith.reference) && (\n          <div className=\"pt-3 border-t border-border flex flex-col gap-1\">\n            {hadith.narrator && (\n              <p className=\"text-sm text-muted-foreground\">\n                <span className=\"font-medium\">Narrator:</span> {hadith.narrator}\n              </p>\n            )}\n            {hadith.reference && (\n              <p className=\"text-sm text-muted-foreground\">\n                <span className=\"font-medium\">Reference:</span> {hadith.reference}\n              </p>\n            )}\n          </div>\n        )}\n      </div>\n    </Card>\n  );\n}\n","size_bytes":2848},"replit.md":{"content":"# Al-Quran Reading Application\n\n## Overview\nThis project is a comprehensive Quran reading application featuring audio recitation, translations (Urdu and English), Tafseer (Islamic commentary), and authentic Hadith collections. It aims to provide an immersive and educational experience for users, including a dedicated section for kids' learning. The application is built with a modern web stack to ensure a responsive and accessible user interface.\n\n## User Preferences\nI prefer detailed explanations.\nI want iterative development.\nAsk before making major changes.\nDo not make changes to the folder `Z`.\nDo not make changes to the file `Y`.\n\n## System Architecture\n\n### UI/UX Decisions\nThe application features a mobile-first, responsive design optimized for various screen sizes. It incorporates an Islamic color scheme, primarily using Emerald/Teal tones, with clean, neutral backgrounds for high readability and accessibility. Typography uses 'Amiri Quran' and 'Scheherazade New' for Arabic text and 'Inter', 'Noto Sans' for Latin script, optimized for long reading sessions. Generous padding and clear element separation are used throughout. Full dark mode support with theme persistence is included.\n\n### Technical Implementations\nThe frontend is built with React 18, TypeScript, Tailwind CSS, and Shadcn UI. State management is handled by TanStack Query, and Wouter is used for routing. The backend utilizes Express.js and Node.js. PostgreSQL (Neon) with Drizzle ORM is used for the database.\n\n### Feature Specifications\n- **Quran Reading**: 13-line Mushaf layout, audio recitation with multiple reciters, synchronized playback, click-to-play verses, repeat mode, volume control, and progress tracking. Side-by-side Urdu and English translations, and expandable Tafseer panels are available.\n- **Voice Recognition Search**: Global Ayah search across all 114 Surahs using speech recognition. Users can recite any verse and the app will find and navigate to it automatically. Features enhanced Arabic text normalization and fuzzy matching to handle speech recognition errors. Pre-loads 100% of the Quran (all 114 Surahs) into memory at startup for instant search (< 50ms).\n- **Hadith Collection**: Browse authentic Hadith from Sahih al-Bukhari and Sahih Muslim, with client-side pagination and search functionality.\n- **Kids Learning Section**:\n    - **Quran Recitation**: Interactive audio learning for Juz Amma, Surah Yasin, Surah Al-Mulk, and Surah Al-Waqiah, with reciter selection, verse navigation, repeat mode, and translations.\n    - **Qaidah & Arabic Learning**: Comprehensive Arabic alphabet (Alif Baa) with authentic male voice pronunciation for each of the 28 letters, showing four position forms, transliteration, and pronunciation descriptions. It also includes 8 comprehensive Tajweed rules categories with Quranic examples, audio pronunciation, transliteration, and translation.\n\n### System Design Choices\n- **Data Models**: Shared Zod schemas define API response types for Surah, Ayah, Translation, Tafseer, Hadith, and Reciter. Drizzle ORM manages database tables for `users`, `bookmarks`, `reading_position`, and `user_preferences`, including unique constraints and indexes.\n- **Frontend Components**: Modular components like `SurahSelector`, `VerseDisplay`, `AudioPlayer`, `TafseerPanel`, and `HadithCard` are used.\n- **API Endpoints (Backend)**:\n    - **Quran**: `/api/surahs` (all chapters), `/api/surah/:surahNumber/:reciterEdition` (verses, audio, translations), `/api/tafseer/:surahNumber/:ayahNumber` (verse commentary), `/api/search-ayah` POST (global search across all Surahs with fuzzy matching).\n    - **Hadith**: `/api/hadiths/:collection?page=1&search=query` (fetch hadiths from specified collection with pagination and optional search).\n- **Performance Optimization**: Server pre-loads 100% of Quran text (all 114 Surahs) into memory at startup for instant voice search. Uses intelligent rate-limiting with retry logic to respect API constraints. All API responses cached in-memory with 1-hour expiration.\n\n## External Dependencies\n\n- **AlQuran Cloud API**: Used for fetching Quranic text, audio, and translations.\n- **Quran Tafseer API**: Provides verse-by-verse Tafseer.\n- **fawazahmed0 Hadith API (via CDN)**: Integrated for authentic Hadith collections from sources like Sahih al-Bukhari and Sahih Muslim.","size_bytes":4347},"server/db.ts":{"content":"import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n","size_bytes":483},"client/src/components/TafseerPanel.tsx":{"content":"import { useState } from \"react\";\nimport { MessageSquare, X, Loader2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Tafseer } from \"@shared/schema\";\nimport { cn } from \"@/lib/utils\";\n\ninterface TafseerPanelProps {\n  tafseer: Tafseer | null;\n  isOpen: boolean;\n  onToggle: () => void;\n  isLoading?: boolean;\n  verseNumber?: number;\n}\n\nexport function TafseerPanel({ tafseer, isOpen, onToggle, isLoading, verseNumber }: TafseerPanelProps) {\n  return (\n    <>\n      {!isOpen && (\n        <Button\n          variant=\"outline\"\n          size=\"default\"\n          onClick={onToggle}\n          className=\"fixed bottom-28 right-6 shadow-lg z-30\"\n          data-testid=\"button-toggle-tafseer\"\n          aria-label=\"View Tafseer\"\n        >\n          <MessageSquare className=\"w-4 h-4 mr-2\" />\n          View Tafseer\n        </Button>\n      )}\n\n      <div\n        className={cn(\n          \"fixed inset-x-0 bottom-0 z-50 transition-transform duration-300 ease-in-out\",\n          isOpen ? \"translate-y-0\" : \"translate-y-full\"\n        )}\n      >\n        <Card className=\"rounded-t-2xl rounded-b-none border-t border-x-0 border-b-0 max-h-[60vh] flex flex-col\">\n          <div className=\"flex items-center justify-between p-4 border-b border-card-border\">\n            <div className=\"flex items-center gap-2\">\n              <MessageSquare className=\"w-5 h-5 text-primary\" />\n              <h3 className=\"font-semibold text-lg\">\n                Tafseer {verseNumber && `- Verse ${verseNumber}`}\n              </h3>\n            </div>\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              onClick={onToggle}\n              data-testid=\"button-close-tafseer\"\n              aria-label=\"Close Tafseer\"\n            >\n              <X className=\"w-5 h-5\" />\n            </Button>\n          </div>\n\n          <ScrollArea className=\"flex-1 p-6\">\n            {isLoading ? (\n              <div className=\"flex items-center justify-center py-12\">\n                <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n              </div>\n            ) : tafseer ? (\n              <div className=\"space-y-4 max-w-3xl\">\n                <div className=\"flex items-center gap-2\">\n                  <span className=\"text-sm font-medium text-muted-foreground\">\n                    {tafseer.tafseerName}\n                  </span>\n                  <span className=\"text-xs text-muted-foreground\">â€¢</span>\n                  <span className=\"text-sm text-muted-foreground\">\n                    {tafseer.language}\n                  </span>\n                </div>\n                <div \n                  className=\"text-base leading-relaxed text-card-foreground prose prose-sm max-w-none\"\n                  data-testid=\"text-tafseer-content\"\n                  dangerouslySetInnerHTML={{ __html: tafseer.text }}\n                />\n              </div>\n            ) : (\n              <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n                <MessageSquare className=\"w-12 h-12 text-muted-foreground/50 mb-3\" />\n                <p className=\"text-sm text-muted-foreground\">\n                  Select a verse to view its Tafseer\n                </p>\n              </div>\n            )}\n          </ScrollArea>\n        </Card>\n      </div>\n    </>\n  );\n}\n","size_bytes":3424},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/AudioPlayer.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Play, Pause, SkipBack, SkipForward, Volume2, Repeat, Square } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { availableReciters, Reciter } from \"@shared/schema\";\n\ninterface AudioPlayerProps {\n  audioUrl: string | null;\n  currentVerse: number;\n  totalVerses: number;\n  onPrevious: () => void;\n  onNext: () => void;\n  onVerseChange: (verse: number) => void;\n  selectedReciter: string;\n  onReciterChange: (reciter: string) => void;\n  isLoading?: boolean;\n  onPlayingChange?: (isPlaying: boolean) => void;\n  shouldAutoPlay?: boolean;\n  isPlaying?: boolean; // External playing state from parent\n}\n\nexport function AudioPlayer({\n  audioUrl,\n  currentVerse,\n  totalVerses,\n  onPrevious,\n  onNext,\n  onVerseChange,\n  selectedReciter,\n  onReciterChange,\n  isLoading,\n  onPlayingChange,\n  shouldAutoPlay,\n  isPlaying: externalIsPlaying\n}: AudioPlayerProps) {\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  // Sync internal playing state with external state from parent\n  useEffect(() => {\n    if (externalIsPlaying !== undefined && externalIsPlaying !== isPlaying) {\n      setIsPlaying(externalIsPlaying);\n      if (audioRef.current) {\n        if (externalIsPlaying) {\n          audioRef.current.play().catch(() => {});\n        } else {\n          audioRef.current.pause();\n        }\n      }\n    }\n  }, [externalIsPlaying]);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [volume, setVolume] = useState(1);\n  const [isRepeating, setIsRepeating] = useState(false);\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  useEffect(() => {\n    if (audioRef.current && audioUrl) {\n      audioRef.current.src = audioUrl;\n      audioRef.current.load();\n      \n      // Auto-play if we were playing before\n      if (isPlaying) {\n        const playPromise = audioRef.current.play();\n        if (playPromise !== undefined) {\n          playPromise.catch(error => {\n            console.log(\"Auto-play prevented:\", error);\n            setIsPlaying(false);\n            onPlayingChange?.(false);\n          });\n        }\n      }\n    }\n  }, [audioUrl]);\n\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const handleTimeUpdate = () => setCurrentTime(audio.currentTime);\n    const handleDurationChange = () => setDuration(audio.duration);\n    const handleEnded = () => {\n      if (isRepeating) {\n        // Repeat the same verse\n        audio.currentTime = 0;\n        audio.play();\n      } else {\n        // Always call onNext - let parent (QuranReader) decide if there's more content\n        // This enables continuous playback across surahs\n        setTimeout(() => {\n          onNext();\n        }, 300);\n      }\n    };\n\n    audio.addEventListener('timeupdate', handleTimeUpdate);\n    audio.addEventListener('durationchange', handleDurationChange);\n    audio.addEventListener('ended', handleEnded);\n\n    return () => {\n      audio.removeEventListener('timeupdate', handleTimeUpdate);\n      audio.removeEventListener('durationchange', handleDurationChange);\n      audio.removeEventListener('ended', handleEnded);\n    };\n  }, [currentVerse, totalVerses, onNext, isRepeating]);\n\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume;\n    }\n  }, [volume]);\n\n  // Handle auto-play trigger from parent (e.g., when clicking play on a verse)\n  useEffect(() => {\n    if (shouldAutoPlay && audioRef.current && audioUrl) {\n      audioRef.current.play().then(() => {\n        setIsPlaying(true);\n        onPlayingChange?.(true);\n      }).catch(error => {\n        console.log(\"Auto-play prevented:\", error);\n      });\n    }\n  }, [shouldAutoPlay, audioUrl]);\n\n  const togglePlayPause = () => {\n    if (!audioRef.current || !audioUrl) return;\n\n    if (isPlaying) {\n      audioRef.current.pause();\n      setIsPlaying(false);\n      onPlayingChange?.(false);\n    } else {\n      audioRef.current.play();\n      setIsPlaying(true);\n      onPlayingChange?.(true);\n    }\n  };\n\n  const handleStop = () => {\n    if (!audioRef.current) return;\n    \n    audioRef.current.pause();\n    audioRef.current.currentTime = 0;\n    setCurrentTime(0);\n    setIsPlaying(false);\n    onPlayingChange?.(false);\n  };\n\n  // Manual navigation should pause playback\n  const handleManualNext = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n    }\n    setIsPlaying(false);\n    onPlayingChange?.(false);\n    onNext();\n  };\n\n  const handleManualPrevious = () => {\n    if (audioRef.current) {\n      audioRef.current.pause();\n    }\n    setIsPlaying(false);\n    onPlayingChange?.(false);\n    onPrevious();\n  };\n\n  const toggleRepeat = () => {\n    setIsRepeating(!isRepeating);\n  };\n\n  const handleSeek = (value: number[]) => {\n    if (audioRef.current) {\n      audioRef.current.currentTime = value[0];\n      setCurrentTime(value[0]);\n    }\n  };\n\n  const formatTime = (time: number) => {\n    if (isNaN(time)) return \"0:00\";\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time % 60);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  };\n\n  const currentReciter = availableReciters.find(r => r.identifier === selectedReciter);\n\n  return (\n    <div className=\"sticky bottom-0 left-0 right-0 bg-card border-t border-card-border z-40\">\n      <audio ref={audioRef} />\n      \n      <div className=\"max-w-4xl mx-auto px-3 sm:px-6 py-3 sm:py-4\">\n        <div className=\"flex flex-col gap-2 sm:gap-3\">\n          {/* Header with verse info and reciter selector */}\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4\">\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-2 mb-0.5\">\n                <span className=\"text-sm font-medium truncate\">\n                  Verse {currentVerse} of {totalVerses}\n                </span>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-xs text-muted-foreground truncate\">\n                  {currentReciter?.name || \"Select Reciter\"}\n                </span>\n              </div>\n            </div>\n\n            <Select\n              value={selectedReciter}\n              onValueChange={onReciterChange}\n              disabled={isLoading}\n            >\n              <SelectTrigger className=\"w-full sm:w-[180px] md:w-[200px] h-9\" data-testid=\"select-reciter\">\n                <SelectValue placeholder=\"Select Reciter\" />\n              </SelectTrigger>\n              <SelectContent>\n                {availableReciters.map((reciter) => (\n                  <SelectItem\n                    key={reciter.identifier}\n                    value={reciter.identifier}\n                    data-testid={`option-reciter-${reciter.identifier}`}\n                  >\n                    <div className=\"flex flex-col\">\n                      <span className=\"font-medium text-sm\">{reciter.name}</span>\n                      {reciter.style && (\n                        <span className=\"text-xs text-muted-foreground\">{reciter.style}</span>\n                      )}\n                    </div>\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Progress slider */}\n          <div className=\"flex items-center gap-2 sm:gap-3\">\n            <span className=\"text-xs text-muted-foreground w-8 sm:w-10 text-right\">\n              {formatTime(currentTime)}\n            </span>\n            \n            <Slider\n              value={[currentTime]}\n              max={duration || 100}\n              step={0.1}\n              onValueChange={handleSeek}\n              className=\"flex-1\"\n              disabled={!audioUrl}\n              data-testid=\"slider-audio-progress\"\n            />\n            \n            <span className=\"text-xs text-muted-foreground w-8 sm:w-10\">\n              {formatTime(duration)}\n            </span>\n          </div>\n\n          {/* Controls - stacked on mobile, inline on desktop */}\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-3\">\n            {/* Main playback controls */}\n            <div className=\"flex items-center justify-center gap-1 sm:gap-2 flex-1\">\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                onClick={handleManualPrevious}\n                disabled={isLoading}\n                data-testid=\"button-previous-verse\"\n                aria-label=\"Previous verse\"\n                className=\"h-9 w-9 sm:h-10 sm:w-10\"\n              >\n                <SkipBack className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </Button>\n\n              <Button\n                size=\"icon\"\n                variant=\"default\"\n                onClick={togglePlayPause}\n                disabled={!audioUrl || isLoading}\n                className=\"h-11 w-11 sm:h-12 sm:w-12\"\n                data-testid=\"button-play-pause\"\n                aria-label={isPlaying ? \"Pause\" : \"Play\"}\n              >\n                {isPlaying ? (\n                  <Pause className=\"w-5 h-5 sm:w-6 sm:h-6\" />\n                ) : (\n                  <Play className=\"w-5 h-5 sm:w-6 sm:h-6 ml-0.5\" />\n                )}\n              </Button>\n\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                onClick={handleStop}\n                disabled={!audioUrl || isLoading}\n                data-testid=\"button-stop\"\n                aria-label=\"Stop\"\n                className=\"h-9 w-9 sm:h-10 sm:w-10\"\n              >\n                <Square className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </Button>\n\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                onClick={handleManualNext}\n                disabled={isLoading}\n                data-testid=\"button-next-verse\"\n                aria-label=\"Next verse\"\n                className=\"h-9 w-9 sm:h-10 sm:w-10\"\n              >\n                <SkipForward className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </Button>\n\n              <Button\n                size=\"icon\"\n                variant={isRepeating ? \"default\" : \"ghost\"}\n                onClick={toggleRepeat}\n                disabled={!audioUrl || isLoading}\n                data-testid=\"button-repeat\"\n                aria-label={isRepeating ? \"Repeat on\" : \"Repeat off\"}\n                className=\"h-9 w-9 sm:h-10 sm:w-10\"\n              >\n                <Repeat className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n              </Button>\n            </div>\n\n            {/* Volume control */}\n            <div className=\"flex items-center gap-2 w-full sm:w-auto justify-center sm:justify-start\">\n              <Volume2 className=\"w-4 h-4 text-muted-foreground shrink-0\" />\n              <Slider\n                value={[volume * 100]}\n                max={100}\n                step={1}\n                onValueChange={(value) => setVolume(value[0] / 100)}\n                className=\"w-20 sm:w-24\"\n                data-testid=\"slider-volume\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":11311},"shared/schema.ts":{"content":"import { z } from \"zod\";\nimport { pgTable, serial, varchar, integer, timestamp, index, uniqueIndex } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\n\n// Surah (Chapter) Schema\nexport const surahSchema = z.object({\n  number: z.number(),\n  name: z.string(),\n  englishName: z.string(),\n  englishNameTranslation: z.string(),\n  numberOfAyahs: z.number(),\n  revelationType: z.enum(['Meccan', 'Medinan']),\n});\n\nexport type Surah = z.infer<typeof surahSchema>;\n\n// Ayah (Verse) Schema\nexport const ayahSchema = z.object({\n  number: z.number(),\n  numberInSurah: z.number(),\n  text: z.string(),\n  audio: z.string().optional(),\n  surah: z.object({\n    number: z.number(),\n    name: z.string(),\n    englishName: z.string(),\n  }).optional(),\n});\n\nexport type Ayah = z.infer<typeof ayahSchema>;\n\n// Translation Schema\nexport const translationSchema = z.object({\n  text: z.string(),\n  language: z.string(),\n  translator: z.string().optional(),\n});\n\nexport type Translation = z.infer<typeof translationSchema>;\n\n// Verse with Translations Schema\nexport const verseWithTranslationsSchema = z.object({\n  ayah: ayahSchema,\n  urduTranslation: translationSchema.optional(),\n  englishTranslation: translationSchema.optional(),\n});\n\nexport type VerseWithTranslations = z.infer<typeof verseWithTranslationsSchema>;\n\n// Tafseer (Commentary) Schema\nexport const tafseerSchema = z.object({\n  ayahNumber: z.number(),\n  text: z.string(),\n  tafseerName: z.string(),\n  language: z.string(),\n});\n\nexport type Tafseer = z.infer<typeof tafseerSchema>;\n\n// Reciter Schema\nexport const reciterSchema = z.object({\n  identifier: z.string(),\n  name: z.string(),\n  style: z.string().optional(),\n});\n\nexport type Reciter = z.infer<typeof reciterSchema>;\n\n// Available Reciters\nexport const availableReciters: Reciter[] = [\n  { identifier: \"ar.alafasy\", name: \"Mishari Alafasy\", style: \"Modern\" },\n  { identifier: \"ar.abdulbasitmurattal\", name: \"Abdul Basit Murratal\", style: \"Murratal\" },\n  { identifier: \"ar.minshawi\", name: \"Muhammad Minshawi\", style: \"Murattal\" },\n  { identifier: \"ar.husary\", name: \"Mahmoud Al-Hussary\", style: \"Murattal\" },\n  { identifier: \"ar.shaatree\", name: \"Abu Bakr Al-Shatri\", style: \"Tajweed\" },\n  { identifier: \"ar.abdulsamad\", name: \"Abdul Samad\", style: \"Murattal\" },\n  { identifier: \"ar.parhizgar\", name: \"Hani Rifai\", style: \"Tajweed\" },\n];\n\n// Juz (Para) Schema\nexport const juzSchema = z.object({\n  number: z.number(),\n  name: z.string(),\n  startSurah: z.number(),\n  startAyah: z.number(),\n  endSurah: z.number(),\n  endAyah: z.number(),\n  arabicName: z.string().optional(),\n});\n\nexport type Juz = z.infer<typeof juzSchema>;\n\n// All 30 Juz with their details\nexport const allJuz: Juz[] = [\n  { number: 1, name: \"Alif Laam Meem\", startSurah: 1, startAyah: 1, endSurah: 2, endAyah: 141, arabicName: \"Ø§Ù„Ù Ù„Ø§Ù… Ù…ÙŠÙ…\" },\n  { number: 2, name: \"Sayqul\", startSurah: 2, startAyah: 142, endSurah: 2, endAyah: 252, arabicName: \"Ø³ÙŠÙ‚ÙˆÙ„\" },\n  { number: 3, name: \"Tilka Ar-Rusul\", startSurah: 2, startAyah: 253, endSurah: 3, endAyah: 91, arabicName: \"ØªÙ„Ùƒ Ø§Ù„Ø±Ø³Ù„\" },\n  { number: 4, name: \"Li-l-Ilah\", startSurah: 3, startAyah: 92, endSurah: 4, endAyah: 23, arabicName: \"Ù„Ù„Ù‘Ù‡\" },\n  { number: 5, name: \"Al-Ma'ida\", startSurah: 4, startAyah: 24, endSurah: 4, endAyah: 147, arabicName: \"Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©\" },\n  { number: 6, name: \"La Yanhu\", startSurah: 4, startAyah: 148, endSurah: 5, endAyah: 81, arabicName: \"Ù„Ø§ ÙŠÙ†Ù‡Ø§ÙƒÙ…\" },\n  { number: 7, name: \"Wa Idha Samiu\", startSurah: 5, startAyah: 82, endSurah: 6, endAyah: 110, arabicName: \"ÙˆØ¥Ø°Ø§ Ø³Ù…Ø¹ÙˆØ§\" },\n  { number: 8, name: \"Wa Lu Inna\", startSurah: 6, startAyah: 111, endSurah: 7, endAyah: 87, arabicName: \"ÙˆÙ„Ùˆ Ø£Ù†Ù‘Ø§\" },\n  { number: 9, name: \"Qalat Al-A'raf\", startSurah: 7, startAyah: 88, endSurah: 8, endAyah: 40, arabicName: \"Ù‚Ø§Ù„Øª Ø§Ù„Ø£Ø¹Ø±Ø§Ù\" },\n  { number: 10, name: \"Wa A'lamu\", startSurah: 8, startAyah: 41, endSurah: 9, endAyah: 92, arabicName: \"ÙˆØ§Ø¹Ù„Ù…ÙˆØ§\" },\n  { number: 11, name: \"Ya'tazerun\", startSurah: 9, startAyah: 93, endSurah: 11, endAyah: 5, arabicName: \"ÙŠØ¹ØªØ°Ø±ÙˆÙ†\" },\n  { number: 12, name: \"Wa Ma Min Dabbah\", startSurah: 11, startAyah: 6, endSurah: 12, endAyah: 52, arabicName: \"ÙˆÙ…Ø§ Ù…Ù† Ø¯Ø§Ø¨Ø©\" },\n  { number: 13, name: \"Wa Ishtihat\", startSurah: 12, startAyah: 53, endSurah: 14, endAyah: 52, arabicName: \"ÙˆØ§Ø´ØªØ¹Ù„\" },\n  { number: 14, name: \"Rubama\", startSurah: 15, startAyah: 1, endSurah: 16, endAyah: 128, arabicName: \"Ø±Ø¨Ù…Ø§\" },\n  { number: 15, name: \"Subhana\", startSurah: 17, startAyah: 1, endSurah: 18, endAyah: 74, arabicName: \"Ø³Ø¨Ø­Ø§Ù†\" },\n  { number: 16, name: \"Qala Alama\", startSurah: 18, startAyah: 75, endSurah: 20, endAyah: 135, arabicName: \"Ù‚Ø§Ù„Ù Ø£Ù„Ù…\" },\n  { number: 17, name: \"Aqtarabu\", startSurah: 21, startAyah: 1, endSurah: 22, endAyah: 78, arabicName: \"Ø§Ù‚ØªØ±Ø¨Ù\" },\n  { number: 18, name: \"Wa Man Yadlil\", startSurah: 23, startAyah: 1, endSurah: 25, endAyah: 20, arabicName: \"ÙˆÙ…Ù† ÙŠØ¶Ù„Ù„\" },\n  { number: 19, name: \"Wa Qala Al-Ladhina\", startSurah: 25, startAyah: 21, endSurah: 27, endAyah: 55, arabicName: \"ÙˆÙ‚Ø§Ù„Ù Ø§Ù„Ø°ÙŠÙ†\" },\n  { number: 20, name: \"Amma Yastafikkun\", startSurah: 27, startAyah: 56, endSurah: 29, endAyah: 45, arabicName: \"Ø¢Ù…Ù‘Ø§ ÙŠØ³ØªÙÙƒÙ‘ÙˆÙ†\" },\n  { number: 21, name: \"A'man Yastajeebu\", startSurah: 29, startAyah: 46, endSurah: 33, endAyah: 30, arabicName: \"Ø£Ù…Ù‘Ù† ÙŠØ³ØªØ¬ÙŠØ¨\" },\n  { number: 22, name: \"Wa Ma Li\", startSurah: 33, startAyah: 31, endSurah: 36, endAyah: 27, arabicName: \"ÙˆÙ…Ø§ Ù„ÙŠ\" },\n  { number: 23, name: \"Ha Meem\", startSurah: 36, startAyah: 28, endSurah: 39, endAyah: 31, arabicName: \"Ø­Ø§Ù…ÙŠÙ…\" },\n  { number: 24, name: \"Fa Taalallah\", startSurah: 39, startAyah: 32, endSurah: 41, endAyah: 46, arabicName: \"ÙØªØ¹Ø§Ù„Ù Ø§Ù„Ù„Ù‡\" },\n  { number: 25, name: \"Ilayhi Yurjau\", startSurah: 41, startAyah: 47, endSurah: 45, endAyah: 37, arabicName: \"Ø¥Ù„ÙŠÙ‡ ÙŠÙØ±Ø¬Ø¹\" },\n  { number: 26, name: \"Ha Meem As-Sajdah\", startSurah: 46, startAyah: 1, endSurah: 51, endAyah: 30, arabicName: \"Ø­Ø§Ù…ÙŠÙ… Ø§Ù„Ø³Ø¬Ø¯Ø©\" },\n  { number: 27, name: \"Qala Fa-Inna\", startSurah: 51, startAyah: 31, endSurah: 57, endAyah: 29, arabicName: \"Ù‚Ø§Ù„Ù ÙÙØ¥ÙÙ†Ù‘\" },\n  { number: 28, name: \"Qad Samia\", startSurah: 58, startAyah: 1, endSurah: 66, endAyah: 12, arabicName: \"Ù‚Ø¯ Ø³Ù…Ø¹\" },\n  { number: 29, name: \"Tabaraka\", startSurah: 67, startAyah: 1, endSurah: 77, endAyah: 50, arabicName: \"ØªØ¨Ø§Ø±Ùƒ\" },\n  { number: 30, name: \"Amma\", startSurah: 78, startAyah: 1, endSurah: 114, endAyah: 6, arabicName: \"Ø¹Ù…Ù‘\" },\n];\n\n// Hadith Collection Schema\nexport const hadithCollectionSchema = z.object({\n  name: z.string(),\n  englishName: z.string(),\n  numberOfHadiths: z.number(),\n});\n\nexport type HadithCollection = z.infer<typeof hadithCollectionSchema>;\n\n// Hadith Schema\nexport const hadithSchema = z.object({\n  number: z.number(),\n  arabicText: z.string().optional(),\n  englishText: z.string().optional(),\n  urduText: z.string().optional(),\n  hadithNumber: z.string(),\n  narrator: z.string().optional(),\n  book: z.string(),\n  collection: z.string(),\n  reference: z.string().optional(),\n  grade: z.string().optional(),\n});\n\nexport type Hadith = z.infer<typeof hadithSchema>;\n\n// Users table\nexport const users = pgTable(\"users\", {\n  id: serial(\"id\").primaryKey(),\n  sessionId: varchar(\"session_id\", { length: 255 }).notNull().unique(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n});\n\nexport const insertUserSchema = createInsertSchema(users).omit({ id: true, createdAt: true });\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type User = typeof users.$inferSelect;\n\n// Bookmarks table\nexport const bookmarks = pgTable(\"bookmarks\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id).notNull(),\n  surahNumber: integer(\"surah_number\").notNull(),\n  ayahNumber: integer(\"ayah_number\").notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow().notNull(),\n}, (table) => ({\n  userIdIdx: index(\"bookmarks_user_id_idx\").on(table.userId),\n  userSurahAyahUnique: uniqueIndex(\"bookmarks_user_surah_ayah_unique\").on(table.userId, table.surahNumber, table.ayahNumber),\n}));\n\nexport const insertBookmarkSchema = createInsertSchema(bookmarks).omit({ id: true, createdAt: true });\nexport type InsertBookmark = z.infer<typeof insertBookmarkSchema>;\nexport type Bookmark = typeof bookmarks.$inferSelect;\n\n// Reading position table (one per user)\nexport const readingPosition = pgTable(\"reading_position\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id).notNull().unique(),\n  surahNumber: integer(\"surah_number\").notNull(),\n  ayahNumber: integer(\"ayah_number\").notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n}, (table) => ({\n  userIdIdx: index(\"reading_position_user_id_idx\").on(table.userId),\n}));\n\nexport const insertReadingPositionSchema = createInsertSchema(readingPosition).omit({ id: true, updatedAt: true });\nexport type InsertReadingPosition = z.infer<typeof insertReadingPositionSchema>;\nexport type ReadingPosition = typeof readingPosition.$inferSelect;\n\n// User preferences table\nexport const userPreferences = pgTable(\"user_preferences\", {\n  id: serial(\"id\").primaryKey(),\n  userId: integer(\"user_id\").references(() => users.id).notNull().unique(),\n  reciterIdentifier: varchar(\"reciter_identifier\", { length: 100 }).default(\"ar.alafasy\").notNull(),\n  theme: varchar(\"theme\", { length: 20 }).default(\"light\").notNull(),\n  updatedAt: timestamp(\"updated_at\").defaultNow().notNull(),\n}, (table) => ({\n  userIdIdx: index(\"user_preferences_user_id_idx\").on(table.userId),\n}));\n\nexport const insertUserPreferencesSchema = createInsertSchema(userPreferences).omit({ id: true, updatedAt: true });\nexport type InsertUserPreferences = z.infer<typeof insertUserPreferencesSchema>;\nexport type UserPreferences = typeof userPreferences.$inferSelect;\n\n// Books Schema\nexport const bookCategories = [\n  \"Quran\",\n  \"Hadith\",\n  \"Tafseer\",\n  \"Seerah\",\n  \"Akhlaq\",\n  \"Sahabah\",\n  \"Kid Stories\"\n] as const;\n\nexport const booksTable = pgTable(\n  \"books\",\n  {\n    id: serial(\"id\").primaryKey(),\n    title: varchar(\"title\").notNull(),\n    category: varchar(\"category\").notNull(),\n    description: varchar(\"description\"),\n    pdfUrl: varchar(\"pdf_url\"),\n    uploadedAt: timestamp(\"uploaded_at\").defaultNow(),\n  },\n  (table) => [\n    index(\"idx_books_category\").on(table.category),\n  ]\n);\n\nexport const booksInsertSchema = createInsertSchema(booksTable).omit({\n  id: true,\n  uploadedAt: true,\n});\n\nexport type Book = typeof booksTable.$inferSelect;\nexport type BookInsert = z.infer<typeof booksInsertSchema>;\n","size_bytes":10637},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/pages/QuranReader.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Loader2, BookOpen } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { SurahSelector } from \"@/components/SurahSelector\";\nimport { VerseDisplay } from \"@/components/VerseDisplay\";\nimport { AudioPlayer } from \"@/components/AudioPlayer\";\nimport { TafseerPanel } from \"@/components/TafseerPanel\";\nimport { VoiceRecognitionButton } from \"@/components/VoiceRecognitionButton\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { Surah, VerseWithTranslations, Tafseer, availableReciters } from \"@shared/schema\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport default function QuranReader() {\n  const [selectedSurah, setSelectedSurah] = useState(1);\n  const [currentVerse, setCurrentVerse] = useState(1);\n  const [selectedReciter, setSelectedReciter] = useState(availableReciters[0].identifier);\n  const [isTafseerOpen, setIsTafseerOpen] = useState(false);\n  const [selectedVerseForTafseer, setSelectedVerseForTafseer] = useState<number | null>(null);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [isAudioPlaying, setIsAudioPlaying] = useState(false);\n  const [shouldAutoPlay, setShouldAutoPlay] = useState(false);\n  const [pendingNavigation, setPendingNavigation] = useState<{ surah: number; ayah: number } | null>(null);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n      document.documentElement.classList.toggle('dark', savedTheme === 'dark');\n    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      setTheme('dark');\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  const { data: surahs, isLoading: isSurahsLoading } = useQuery<Surah[]>({\n    queryKey: ['/api/surahs'],\n  });\n\n  const { data: verses, isLoading: isVersesLoading, error: versesError } = useQuery<VerseWithTranslations[]>({\n    queryKey: ['/api/surah', selectedSurah, selectedReciter],\n    enabled: selectedSurah > 0,\n  });\n\n  const { data: tafseer, isLoading: isTafseerLoading } = useQuery<Tafseer>({\n    queryKey: ['/api/tafseer', selectedSurah, selectedVerseForTafseer],\n    enabled: selectedVerseForTafseer !== null && isTafseerOpen,\n  });\n\n  const currentSurah = surahs?.find(s => s.number === selectedSurah);\n  const currentVerseData = verses?.[currentVerse - 1];\n  const audioUrl = currentVerseData?.ayah?.audio || null;\n\n  const handleSurahChange = (surahNumber: number) => {\n    setSelectedSurah(surahNumber);\n    setCurrentVerse(1);\n    setSelectedVerseForTafseer(null);\n    setIsAudioPlaying(false);\n    setShouldAutoPlay(false);\n  };\n\n  const handlePreviousVerse = () => {\n    if (currentVerse > 1) {\n      setCurrentVerse(currentVerse - 1);\n    } else if (selectedSurah > 1) {\n      const previousSurah = surahs?.find(s => s.number === selectedSurah - 1);\n      if (previousSurah) {\n        setSelectedSurah(selectedSurah - 1);\n        setCurrentVerse(previousSurah.numberOfAyahs);\n      }\n    }\n  };\n\n  const handleNextVerse = () => {\n    if (verses && currentVerse < verses.length) {\n      const nextVerse = currentVerse + 1;\n      setCurrentVerse(nextVerse);\n    } else if (selectedSurah < 114) {\n      setSelectedSurah(selectedSurah + 1);\n      setCurrentVerse(1);\n    } else {\n      setIsAudioPlaying(false);\n    }\n  };\n\n  const handleVerseClick = (verseNumber: number) => {\n    const verseIndex = verses?.findIndex(v => v.ayah.number === verseNumber);\n    if (verses && verseIndex !== undefined && verseIndex >= 0) {\n      setSelectedVerseForTafseer(verses[verseIndex].ayah.numberInSurah);\n      setIsTafseerOpen(true);\n    }\n  };\n\n  const handlePlayVerseClick = (verseNumberInSurah: number) => {\n    if (verseNumberInSurah !== currentVerse) {\n      setIsAudioPlaying(false);\n    }\n    setCurrentVerse(verseNumberInSurah);\n    setShouldAutoPlay(true);\n  };\n\n  useEffect(() => {\n    if (shouldAutoPlay) {\n      const timer = setTimeout(() => setShouldAutoPlay(false), 100);\n      return () => clearTimeout(timer);\n    }\n  }, [shouldAutoPlay]);\n\n  // Handle pending navigation after verses load\n  useEffect(() => {\n    if (pendingNavigation && !isVersesLoading && verses && verses.length > 0) {\n      const { surah, ayah } = pendingNavigation;\n      \n      // Verify we're on the correct Surah\n      if (selectedSurah === surah) {\n        // Set the verse\n        setCurrentVerse(Math.min(ayah, verses.length));\n        \n        // Scroll to the verse\n        setTimeout(() => {\n          const verseElement = document.querySelector(`[data-verse-number=\"${ayah}\"]`);\n          if (verseElement) {\n            verseElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n          }\n        }, 100);\n        \n        // Clear pending navigation\n        setPendingNavigation(null);\n      }\n    }\n  }, [pendingNavigation, isVersesLoading, verses, selectedSurah]);\n\n  if (isSurahsLoading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Loader2 className=\"w-12 h-12 animate-spin text-primary\" />\n          <p className=\"text-muted-foreground\">Loading Quran...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background pb-32\">\n      <TopNav title=\"Al-Quran Al-Kareem\" subtitle=\"The Noble Quran\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"quran\" />\n      \n      {surahs && (\n        <div className=\"sticky top-16 z-30 bg-background/95 backdrop-blur border-b border-border\">\n          <div className=\"max-w-4xl mx-auto px-3 sm:px-6 py-3\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"flex-1\">\n                <SurahSelector\n                  surahs={surahs}\n                  selectedSurah={selectedSurah}\n                  onSurahChange={handleSurahChange}\n                  isLoading={isVersesLoading}\n                />\n              </div>\n              <VoiceRecognitionButton\n                verses={verses}\n                surahs={surahs}\n                currentSurah={selectedSurah}\n                onNavigate={(surah: number, ayah: number) => {\n                  console.log(`ğŸ¯ Voice Navigation: Surah ${surah}, Verse ${ayah}`);\n                  \n                  // Reset state like handleSurahChange\n                  setSelectedVerseForTafseer(null);\n                  setIsAudioPlaying(false);\n                  setShouldAutoPlay(false);\n                  \n                  if (surah !== selectedSurah) {\n                    // Changing Surah - set pending navigation to apply after verses load\n                    setSelectedSurah(surah);\n                    setPendingNavigation({ surah, ayah });\n                  } else {\n                    // Same Surah - just set verse and scroll\n                    setCurrentVerse(ayah);\n                    setTimeout(() => {\n                      const verseElement = document.querySelector(`[data-verse-number=\"${ayah}\"]`);\n                      if (verseElement) {\n                        verseElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\n                      }\n                    }, 100);\n                  }\n                }}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n\n      <main className=\"max-w-4xl mx-auto px-3 sm:px-6 lg:px-12 py-4 sm:py-8 lg:py-12\">\n        {currentSurah && (\n          <div className=\"mb-6 sm:mb-8 text-center\">\n            <h2 className=\"font-arabic text-3xl sm:text-4xl mb-2\" data-testid=\"text-surah-name-arabic\">\n              {currentSurah.name}\n            </h2>\n            <p className=\"text-lg sm:text-xl font-semibold mb-1\" data-testid=\"text-surah-name-english\">\n              {currentSurah.englishName}\n            </p>\n            <p className=\"text-xs sm:text-sm text-muted-foreground\">\n              {currentSurah.englishNameTranslation} â€¢ {currentSurah.numberOfAyahs} Verses â€¢ {currentSurah.revelationType}\n            </p>\n          </div>\n        )}\n\n        {isVersesLoading ? (\n          <div className=\"space-y-6\">\n            {Array.from({ length: 5 }).map((_, i) => (\n              <div key={i} className=\"p-6 rounded-lg border border-border\">\n                <Skeleton className=\"h-6 w-12 mb-4\" />\n                <Skeleton className=\"h-20 w-full mb-4\" />\n                <Skeleton className=\"h-16 w-full mb-3\" />\n                <Skeleton className=\"h-16 w-full\" />\n              </div>\n            ))}\n          </div>\n        ) : verses && verses.length > 0 ? (\n          <div data-testid=\"container-verses\">\n            {verses.map((verse) => (\n              <VerseDisplay\n                key={verse.ayah.number}\n                verse={verse}\n                isHighlighted={verse.ayah.numberInSurah === currentVerse}\n                onVerseClick={handleVerseClick}\n                onPlayClick={handlePlayVerseClick}\n              />\n            ))}\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n            <BookOpen className=\"w-16 h-16 text-muted-foreground/50 mb-4\" />\n            {versesError ? (\n              <>\n                <p className=\"text-lg font-medium mb-2 text-destructive\">Failed to load verses</p>\n                <p className=\"text-sm text-muted-foreground max-w-md\">\n                  {versesError instanceof Error ? versesError.message : \"Unable to load Quran verses. Please check your internet connection and try again.\"}\n                </p>\n                <Button\n                  variant=\"outline\"\n                  className=\"mt-4\"\n                  onClick={() => window.location.reload()}\n                  data-testid=\"button-retry\"\n                >\n                  Reload Page\n                </Button>\n              </>\n            ) : (\n              <>\n                <p className=\"text-lg font-medium mb-2\">No verses found</p>\n                <p className=\"text-sm text-muted-foreground\">\n                  Please select a surah to start reading\n                </p>\n              </>\n            )}\n          </div>\n        )}\n      </main>\n\n      {verses && verses.length > 0 && (\n        <AudioPlayer\n          audioUrl={audioUrl}\n          currentVerse={currentVerse}\n          totalVerses={verses.length}\n          onPrevious={handlePreviousVerse}\n          onNext={handleNextVerse}\n          onVerseChange={setCurrentVerse}\n          selectedReciter={selectedReciter}\n          onReciterChange={setSelectedReciter}\n          isLoading={isVersesLoading}\n          onPlayingChange={setIsAudioPlaying}\n          shouldAutoPlay={shouldAutoPlay}\n          isPlaying={isAudioPlaying}\n        />\n      )}\n\n      <TafseerPanel\n        tafseer={tafseer || null}\n        isOpen={isTafseerOpen}\n        onToggle={() => setIsTafseerOpen(!isTafseerOpen)}\n        isLoading={isTafseerLoading}\n        verseNumber={selectedVerseForTafseer || undefined}\n      />\n    </div>\n  );\n}\n","size_bytes":11333},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/pages/HadithBrowser.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Search, Loader2, Book } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { HadithCard } from \"@/components/HadithCard\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Hadith, HadithCollection } from \"@shared/schema\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\ninterface HadithApiResponse {\n  collection: string;\n  hadiths: Hadith[];\n  page: number;\n  pageSize: number;\n  hasMore: boolean;\n}\n\nexport default function HadithBrowser() {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [selectedCollection, setSelectedCollection] = useState(\"bukhari\");\n  const [page, setPage] = useState(1);\n  const [accumulatedHadiths, setAccumulatedHadiths] = useState<Hadith[]>([]);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  // Construct query parameters\n  const queryParams = new URLSearchParams();\n  queryParams.set('page', page.toString());\n  if (searchQuery) {\n    queryParams.set('search', searchQuery);\n  }\n  \n  const apiUrl = `/api/hadiths/${selectedCollection}?${queryParams.toString()}`;\n  \n  const { data, isLoading, isFetching } = useQuery<HadithApiResponse>({\n    queryKey: [apiUrl],\n    enabled: selectedCollection !== \"\",\n  });\n\n  // Accumulate hadiths when new data arrives\n  useEffect(() => {\n    if (data?.hadiths) {\n      if (page === 1) {\n        // Reset accumulated hadiths for first page or new collection\n        setAccumulatedHadiths(data.hadiths);\n      } else {\n        // Append new hadiths for subsequent pages\n        setAccumulatedHadiths(prev => [...prev, ...data.hadiths]);\n      }\n    }\n  }, [data, page]);\n\n  const collections: HadithCollection[] = [\n    { name: \"bukhari\", englishName: \"Sahih al-Bukhari\", numberOfHadiths: 7563 },\n    { name: \"muslim\", englishName: \"Sahih Muslim\", numberOfHadiths: 7190 },\n    { name: \"abudawud\", englishName: \"Sunan Abu Dawud\", numberOfHadiths: 5274 },\n    { name: \"tirmidhi\", englishName: \"Jami' At-Tirmidhi\", numberOfHadiths: 3956 },\n    { name: \"ibnmajah\", englishName: \"Sunan Ibn Majah\", numberOfHadiths: 4341 },\n    { name: \"nasai\", englishName: \"Sunan an-Nasa'i\", numberOfHadiths: 5758 },\n    { name: \"malik\", englishName: \"Muwatta Malik\", numberOfHadiths: 1826 },\n  ];\n\n  const handleLoadMore = () => {\n    setPage(prev => prev + 1);\n  };\n\n  const handleCollectionChange = (value: string) => {\n    setSelectedCollection(value);\n    setPage(1); // Reset page when changing collection\n    setAccumulatedHadiths([]); // Clear accumulated hadiths\n  };\n\n  const handleSearchChange = (value: string) => {\n    setSearchQuery(value);\n    setPage(1); // Reset page when searching\n    setAccumulatedHadiths([]); // Clear accumulated hadiths for search\n  };\n\n  const hadiths = accumulatedHadiths;\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <TopNav title=\"Hadith Collection\" subtitle=\"Authentic Traditions of Prophet Muhammad ï·º\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"hadith\" />\n      \n      <div className=\"sticky top-16 z-30 bg-background/95 backdrop-blur border-b border-border\">\n        <div className=\"max-w-6xl mx-auto px-3 sm:px-6 py-3 sm:py-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search hadiths...\"\n              value={searchQuery}\n              onChange={(e) => handleSearchChange(e.target.value)}\n              className=\"pl-9 sm:pl-10 h-10 sm:h-12 text-sm sm:text-base\"\n              data-testid=\"input-search-hadith\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <main className=\"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-8\">\n        <Tabs value={selectedCollection} onValueChange={handleCollectionChange}>\n          <TabsList className=\"mb-6 flex-wrap h-auto gap-2\">\n            {collections.map((collection) => (\n              <TabsTrigger\n                key={collection.name}\n                value={collection.name}\n                data-testid={`tab-collection-${collection.name}`}\n                className=\"text-xs sm:text-sm\"\n              >\n                {collection.englishName}\n              </TabsTrigger>\n            ))}\n          </TabsList>\n\n          {collections.map((collection) => (\n            <TabsContent key={collection.name} value={collection.name}>\n              {isLoading ? (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {Array.from({ length: 4 }).map((_, i) => (\n                    <div key={i} className=\"p-6 rounded-lg border border-border\">\n                      <div className=\"flex items-center justify-between mb-4\">\n                        <Skeleton className=\"h-6 w-32\" />\n                        <Skeleton className=\"h-6 w-16\" />\n                      </div>\n                      <Skeleton className=\"h-20 w-full mb-4\" />\n                      <Skeleton className=\"h-16 w-full mb-3\" />\n                      <Skeleton className=\"h-16 w-full\" />\n                    </div>\n                  ))}\n                </div>\n              ) : hadiths && hadiths.length > 0 ? (\n                <>\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\" data-testid=\"container-hadiths\">\n                    {hadiths.map((hadith, index) => (\n                      <HadithCard key={`${hadith.collection}-${hadith.hadithNumber}-${index}`} hadith={hadith} />\n                    ))}\n                  </div>\n                  {data?.hasMore && (\n                    <div className=\"flex justify-center\">\n                      <Button\n                        onClick={handleLoadMore}\n                        disabled={isFetching}\n                        data-testid=\"button-load-more-hadiths\"\n                        variant=\"outline\"\n                        size=\"lg\"\n                      >\n                        {isFetching ? (\n                          <>\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Loading...\n                          </>\n                        ) : (\n                          \"Load More Hadiths\"\n                        )}\n                      </Button>\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n                  {searchQuery ? (\n                    <>\n                      <Search className=\"w-16 h-16 text-muted-foreground/50 mb-4\" />\n                      <p className=\"text-lg font-medium mb-2\">No hadiths found</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Try adjusting your search query\n                      </p>\n                    </>\n                  ) : (\n                    <>\n                      <Book className=\"w-16 h-16 text-muted-foreground/50 mb-4\" />\n                      <p className=\"text-lg font-medium mb-2\">\n                        {collection.englishName}\n                      </p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        {collection.numberOfHadiths} authentic hadiths\n                      </p>\n                    </>\n                  )}\n                </div>\n              )}\n            </TabsContent>\n          ))}\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":8044},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2210},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 100%;\n\n  --foreground: 0 0% 8.24%;\n\n  --border: 35 10.53% 77.65%;\n\n  --card: 180 6.6667% 97.0588%;\n\n  --card-foreground: 210 25% 7.8431%;\n\n  --card-border: 0 0% 91%;\n\n  --sidebar: 180 6.6667% 97.0588%;\n\n  --sidebar-foreground: 210 25% 7.8431%;\n\n  --sidebar-border: 205.0000 25.0000% 90.5882%;\n\n  --sidebar-primary: 203.8863 88.2845% 53.1373%;\n\n  --sidebar-primary-foreground: 0 0% 100%;\n\n  --sidebar-accent: 211.5789 51.3514% 92.7451%;\n\n  --sidebar-accent-foreground: 203.8863 88.2845% 53.1373%;\n\n  --sidebar-ring: 202.8169 89.1213% 53.1373%;\n\n  --popover: 0 0% 100%;\n\n  --popover-foreground: 210 25% 7.8431%;\n\n  --popover-border: 0 0% 86%;\n\n  --primary: 165.65 26.44% 65.88%;\n\n  --primary-foreground: 0 0% 8.24%;\n\n  --secondary: 0 0% 8.24%;\n\n  --secondary-foreground: 70.91 21.57% 90%;\n\n  --muted: 72 12.82% 84.71%;\n\n  --muted-foreground: 72 2.39% 40.98%;\n\n  --accent: 292.13 48.03% 75.1%;\n\n  --accent-foreground: 0 0% 8.24%;\n\n  --destructive: 0.49 54.19% 55.49%;\n\n  --destructive-foreground: 0 0% 100%;\n\n  --input: 35.29 11.41% 70.78%;\n  --ring: 166.76 29.82% 44.71%;\n  --chart-1: 203.8863 88.2845% 53.1373%;\n  --chart-2: 159.7826 100% 36.0784%;\n  --chart-3: 42.0290 92.8251% 56.2745%;\n  --chart-4: 147.1429 78.5047% 41.9608%;\n  --chart-5: 341.4894 75.2000% 50.9804%;\n\n  --font-sans: 'Inter', sans-serif;\n  --font-serif: 'Source Serif Pro', serif;\n  --font-mono: 'IBM Plex Mono', monospace;\n  --font-arabic: 'Amiri Quran', 'Scheherazade New', serif;\n  --radius: 0.875rem; /* 8px */\n  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 2px 4px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 4px 6px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 8px 10px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --tracking-normal: 0em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 0 0% 0%;\n\n  --foreground: 200 6.6667% 91.1765%;\n\n  --border: 210 5.2632% 14.9020%;\n\n  --card: 228 9.8039% 10%;\n\n  --card-foreground: 0 0% 85.0980%;\n\n  --card-border: 0 0% 16%;\n\n  --sidebar: 228 9.8039% 10%;\n\n  --sidebar-foreground: 0 0% 85.0980%;\n\n  --sidebar-border: 205.7143 15.7895% 26.0784%;\n\n  --sidebar-primary: 202.8169 89.1213% 53.1373%;\n\n  --sidebar-primary-foreground: 0 0% 100%;\n\n  --sidebar-accent: 205.7143 70% 7.8431%;\n\n  --sidebar-accent-foreground: 203.7736 87.6033% 52.5490%;\n\n  --sidebar-ring: 202.8169 89.1213% 53.1373%;\n\n  --popover: 0 0% 0%;\n\n  --popover-foreground: 200 6.6667% 91.1765%;\n\n  --popover-border: 0 0% 22%;\n\n  --primary: 203.7736 87.6033% 52.5490%;\n\n  --primary-foreground: 0 0% 100%;\n\n  --secondary: 195.0000 15.3846% 94.9020%;\n\n  --secondary-foreground: 210 25% 7.8431%;\n\n  --muted: 0 0% 9.4118%;\n\n  --muted-foreground: 210 3.3898% 46.2745%;\n\n  --accent: 205.7143 70% 7.8431%;\n\n  --accent-foreground: 203.7736 87.6033% 52.5490%;\n\n  --destructive: 356.3033 90.5579% 54.3137%;\n\n  --destructive-foreground: 0 0% 100%;\n\n  --input: 207.6923 27.6596% 18.4314%;\n  --ring: 202.8169 89.1213% 53.1373%;\n  --chart-1: 203.8863 88.2845% 53.1373%;\n  --chart-2: 159.7826 100% 36.0784%;\n  --chart-3: 42.0290 92.8251% 56.2745%;\n  --chart-4: 147.1429 78.5047% 41.9608%;\n  --chart-5: 341.4894 75.2000% 50.9804%;\n\n  --shadow-2xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xs: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-sm: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 1px 2px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-md: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 2px 4px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-lg: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 4px 6px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00), 0px 8px 10px -1px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --shadow-2xl: 0px 2px 0px 0px hsl(202.8169 89.1213% 53.1373% / 0.00);\n  --radius: 1.3rem;\n  --spacing: 0.25rem;\n  --font-mono: Menlo, monospace;\n  --font-sans: Open Sans, sans-serif;\n  --font-serif: Georgia, serif;\n  --tracking-normal: 0em;\n\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: -1;\n    /* sits behind content but above backdrop */\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    /*border-radius: inherit;   match rounded corners */\n    border-radius: inherit;\n    z-index: 999;\n    /* sits in front of content */\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":11013},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport QuranReader from \"@/pages/QuranReader\";\nimport HadithBrowser from \"@/pages/HadithBrowser\";\nimport KidsLearning from \"@/pages/KidsLearning\";\nimport QuranicStories from \"@/pages/QuranicStories\";\nimport AllSurahs from \"@/pages/AllSurahs\";\nimport Fiqh from \"@/pages/Fiqh\";\nimport MemoQuran from \"@/pages/MemoQuran\";\nimport QuranDictionary from \"@/pages/QuranDictionary\";\nimport Books from \"@/pages/Books\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <Switch>\n      <Route path=\"/\" component={QuranReader} />\n      <Route path=\"/hadith\" component={HadithBrowser} />\n      <Route path=\"/kids\" component={KidsLearning} />\n      <Route path=\"/stories\" component={QuranicStories} />\n      <Route path=\"/surahs\" component={AllSurahs} />\n      <Route path=\"/fiqh\" component={Fiqh} />\n      <Route path=\"/memorize\" component={MemoQuran} />\n      <Route path=\"/dictionary\" component={QuranDictionary} />\n      <Route path=\"/books\" component={Books} />\n      <Route component={NotFound} />\n    </Switch>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <Router />\n        <Toaster />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":1517},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/pages/KidsLearning.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Play, Pause, RotateCcw, Volume2, Loader2, GraduationCap } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { VerseWithTranslations } from \"@shared/schema\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { EnhancedQaidah } from \"@/components/EnhancedQaidah\";\nimport { DuasSection } from \"@/components/DuasSection\";\nimport { KidsActivities } from \"@/components/KidsActivities\";\n\ninterface LearningSection {\n  id: string;\n  name: string;\n  arabicName: string;\n  description: string;\n  surahs: number[]; // Surah numbers to fetch\n}\n\nconst learningSections: LearningSection[] = [\n  {\n    id: \"juz-amma\",\n    name: \"Juz Amma\",\n    arabicName: \"Ø¬Ø²Ø¡ Ø¹Ù…Ù‘\",\n    description: \"The 30th Part of the Quran - Perfect for beginners\",\n    surahs: [78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114],\n  },\n  {\n    id: \"yasin\",\n    name: \"Surah Yasin\",\n    arabicName: \"Ø³ÙˆØ±Ø© ÙŠØ³\",\n    description: \"The Heart of the Quran\",\n    surahs: [36],\n  },\n  {\n    id: \"mulk\",\n    name: \"Surah Al-Mulk\",\n    arabicName: \"Ø³ÙˆØ±Ø© Ø§Ù„Ù…Ù„Ùƒ\",\n    description: \"Protection from the Punishment of the Grave\",\n    surahs: [67],\n  },\n  {\n    id: \"waqiah\",\n    name: \"Surah Al-Waqiah\",\n    arabicName: \"Ø³ÙˆØ±Ø© Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©\",\n    description: \"The Inevitable Event\",\n    surahs: [56],\n  },\n];\n\nconst reciters = [\n  { id: \"ar.minshawi\", name: \"Mohamed Siddiq al-Minshawi (Murattal)\", shortName: \"Minshawi\" },\n  { id: \"ar.abdulsamad\", name: \"Abdul Samad\", shortName: \"Samad\" },\n  { id: \"ar.parhizgar\", name: \"Hani Rifai\", shortName: \"Rifai\" },\n];\n\nexport default function KidsLearning() {\n  const [selectedSection, setSelectedSection] = useState<string>(\"juz-amma\");\n  const [selectedReciter, setSelectedReciter] = useState(reciters[0].id);\n  const [currentSurahIndex, setCurrentSurahIndex] = useState(0);\n  const [currentVerseIndex, setCurrentVerseIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [isRepeating, setIsRepeating] = useState(false);\n  const [volume, setVolume] = useState([80]);\n  const [mainTab, setMainTab] = useState<string>(\"quran\");\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  const currentSection = learningSections.find(s => s.id === selectedSection);\n  const currentSurahNumber = currentSection?.surahs[currentSurahIndex];\n\n  const { data: verses, isLoading } = useQuery<VerseWithTranslations[]>({\n    queryKey: ['/api/surah', currentSurahNumber, selectedReciter],\n    enabled: !!currentSurahNumber && mainTab === \"quran\",\n  });\n\n  const currentVerse = verses?.[currentVerseIndex];\n  const audioUrl = currentVerse?.ayah?.audio;\n\n  // Handle audio events\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const handleEnded = () => {\n      if (isRepeating) {\n        // Replay the same verse\n        audio.currentTime = 0;\n        audio.play();\n      } else if (verses && currentVerseIndex < verses.length - 1) {\n        // Move to next verse\n        setCurrentVerseIndex(prev => prev + 1);\n      } else if (currentSection && currentSurahIndex < currentSection.surahs.length - 1) {\n        // Move to next surah\n        setCurrentSurahIndex(prev => prev + 1);\n        setCurrentVerseIndex(0);\n      } else {\n        // Finished all\n        setIsPlaying(false);\n      }\n    };\n\n    audio.addEventListener('ended', handleEnded);\n    return () => audio.removeEventListener('ended', handleEnded);\n  }, [isRepeating, currentVerseIndex, currentSurahIndex, currentSection, verses]);\n\n  // Update audio source\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (audio && audioUrl) {\n      audio.src = audioUrl;\n      if (isPlaying) {\n        audio.play().catch(() => setIsPlaying(false));\n      }\n    }\n  }, [audioUrl, isPlaying]);\n\n  // Update volume\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (audio) {\n      audio.volume = volume[0] / 100;\n    }\n  }, [volume]);\n\n  const handlePlayPause = () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    if (isPlaying) {\n      audio.pause();\n      setIsPlaying(false);\n    } else {\n      audio.play().then(() => setIsPlaying(true)).catch(() => setIsPlaying(false));\n    }\n  };\n\n  const handleStop = () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    \n    audio.pause();\n    audio.currentTime = 0;\n    setIsPlaying(false);\n  };\n\n  const handleRepeatToggle = () => {\n    setIsRepeating(!isRepeating);\n  };\n\n  const handlePreviousVerse = () => {\n    if (currentVerseIndex > 0) {\n      setCurrentVerseIndex(prev => prev - 1);\n    } else if (currentSurahIndex > 0) {\n      setCurrentSurahIndex(prev => prev - 1);\n      setCurrentVerseIndex(0);\n    }\n  };\n\n  const handleNextVerse = () => {\n    if (verses && currentVerseIndex < verses.length - 1) {\n      setCurrentVerseIndex(prev => prev + 1);\n    } else if (currentSection && currentSurahIndex < currentSection.surahs.length - 1) {\n      setCurrentSurahIndex(prev => prev + 1);\n      setCurrentVerseIndex(0);\n    }\n  };\n\n  const handleSectionChange = (sectionId: string) => {\n    setSelectedSection(sectionId);\n    setCurrentSurahIndex(0);\n    setCurrentVerseIndex(0);\n    handleStop();\n  };\n\n  const handleVerseSelect = (verseNumber: string) => {\n    const verseIndex = parseInt(verseNumber) - 1;\n    if (verseIndex >= 0 && verses && verseIndex < verses.length) {\n      setCurrentVerseIndex(verseIndex);\n    }\n  };\n\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <audio ref={audioRef} preload=\"auto\" />\n      <TopNav title=\"Learn Quran for Kids\" subtitle=\"Listen, Learn, and Repeat\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"kids\" />\n\n      <main className=\"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-6 lg:py-8\">\n        <Tabs value={mainTab} onValueChange={setMainTab} className=\"mb-8\">\n          <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-4 mb-6\">\n            <TabsTrigger value=\"quran\" data-testid=\"tab-main-quran\" className=\"text-xs sm:text-sm\">\n              Recitation\n            </TabsTrigger>\n            <TabsTrigger value=\"qaidah\" data-testid=\"tab-main-qaidah\" className=\"text-xs sm:text-sm\">\n              Alphabet\n            </TabsTrigger>\n            <TabsTrigger value=\"duas\" data-testid=\"tab-main-duas\" className=\"text-xs sm:text-sm\">\n              Duas\n            </TabsTrigger>\n            <TabsTrigger value=\"activities\" data-testid=\"tab-main-activities\" className=\"text-xs sm:text-sm\">\n              Activities\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"quran\">\n            <Tabs value={selectedSection} onValueChange={handleSectionChange} className=\"mb-8\">\n              <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-4 mb-6\">\n                {learningSections.map(section => (\n                  <TabsTrigger key={section.id} value={section.id} data-testid={`tab-${section.id}`}>\n                    {section.name}\n                  </TabsTrigger>\n                ))}\n              </TabsList>\n\n          {learningSections.map(section => (\n            <TabsContent key={section.id} value={section.id}>\n              <Card className=\"mb-4 sm:mb-6\">\n                <CardHeader className=\"pb-3 sm:pb-6\">\n                  <CardTitle className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2\">\n                    <span className=\"text-base sm:text-lg\">{section.name}</span>\n                    <span className=\"font-arabic text-xl sm:text-2xl\">{section.arabicName}</span>\n                  </CardTitle>\n                  <CardDescription className=\"text-xs sm:text-sm\">{section.description}</CardDescription>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium mb-2 block\">Select Reciter</label>\n                      <Select value={selectedReciter} onValueChange={setSelectedReciter}>\n                        <SelectTrigger data-testid=\"select-reciter\">\n                          <SelectValue />\n                        </SelectTrigger>\n                        <SelectContent>\n                          {reciters.map(reciter => (\n                            <SelectItem key={reciter.id} value={reciter.id}>\n                              {reciter.name}\n                            </SelectItem>\n                          ))}\n                        </SelectContent>\n                      </Select>\n                    </div>\n                    {verses && verses.length > 0 && (\n                      <div>\n                        <label className=\"text-sm font-medium mb-2 block\">Jump to Verse</label>\n                        <Select \n                          value={(currentVerseIndex + 1).toString()} \n                          onValueChange={handleVerseSelect}\n                        >\n                          <SelectTrigger data-testid=\"select-verse\">\n                            <SelectValue />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {verses.map((verse, index) => (\n                              <SelectItem key={index} value={(index + 1).toString()}>\n                                Verse {verse.ayah.numberInSurah}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            </TabsContent>\n          ))}\n          </Tabs>\n\n          {isLoading ? (\n          <div className=\"space-y-4\">\n            <Skeleton className=\"h-48 w-full\" />\n            <Skeleton className=\"h-24 w-full\" />\n          </div>\n        ) : currentVerse ? (\n          <div className=\"space-y-6\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-sm text-muted-foreground\">\n                  {currentVerse.ayah.surah?.englishName} â€¢ Verse {currentVerse.ayah.numberInSurah}\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3 sm:space-y-4 p-4 sm:p-6\">\n                <div className=\"text-center font-arabic text-2xl sm:text-3xl lg:text-4xl leading-loose mb-4 sm:mb-6 px-2\" dir=\"rtl\">\n                  {currentVerse.ayah.text}\n                </div>\n                \n                <div className=\"space-y-3\">\n                  <div className=\"p-4 bg-muted/50 rounded-lg\">\n                    <p className=\"text-sm font-medium mb-2\">English Translation</p>\n                    <p className=\"text-sm leading-relaxed\">{currentVerse.englishTranslation?.text}</p>\n                  </div>\n                  <div className=\"p-4 bg-muted/50 rounded-lg\">\n                    <p className=\"text-sm font-medium mb-2\">Urdu Translation</p>\n                    <p className=\"text-sm leading-relaxed\" dir=\"rtl\">{currentVerse.urduTranslation?.text}</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center gap-2\">\n                  <Volume2 className=\"w-5 h-5\" />\n                  Audio Controls\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4\">\n                  <div className=\"flex items-center gap-3 w-full sm:w-auto justify-center\">\n                    <Button\n                      size=\"default\"\n                      variant=\"outline\"\n                      onClick={handlePreviousVerse}\n                      disabled={currentSurahIndex === 0 && currentVerseIndex === 0}\n                      data-testid=\"button-previous-verse\"\n                      className=\"flex-1 sm:flex-initial\"\n                    >\n                      Previous\n                    </Button>\n                    \n                    <Button\n                      size=\"icon\"\n                      onClick={handlePlayPause}\n                      data-testid=\"button-play-pause\"\n                      className=\"h-12 w-12\"\n                    >\n                      {isPlaying ? <Pause className=\"w-6 h-6\" /> : <Play className=\"w-6 h-6\" />}\n                    </Button>\n                    \n                    <Button\n                      size=\"default\"\n                      variant=\"outline\"\n                      onClick={handleNextVerse}\n                      disabled={currentSection && currentSurahIndex === currentSection.surahs.length - 1 && verses && currentVerseIndex === verses.length - 1}\n                      data-testid=\"button-next-verse\"\n                      className=\"flex-1 sm:flex-initial\"\n                    >\n                      Next\n                    </Button>\n                  </div>\n                  \n                  <div className=\"flex items-center gap-3 w-full sm:w-auto justify-center\">\n                    <Button\n                      size=\"default\"\n                      variant=\"outline\"\n                      onClick={handleStop}\n                      data-testid=\"button-stop\"\n                      className=\"flex-1 sm:flex-initial\"\n                    >\n                      Stop\n                    </Button>\n                    \n                    <Button\n                      size=\"icon\"\n                      variant={isRepeating ? \"default\" : \"outline\"}\n                      onClick={handleRepeatToggle}\n                      data-testid=\"button-repeat\"\n                      aria-pressed={isRepeating}\n                      aria-label={isRepeating ? \"Disable repeat mode\" : \"Enable repeat mode\"}\n                      className=\"h-12 w-12\"\n                    >\n                      <RotateCcw className=\"w-6 h-6\" />\n                    </Button>\n                  </div>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium flex items-center gap-2\">\n                    <Volume2 className=\"w-4 h-4\" />\n                    Volume: {volume[0]}%\n                  </label>\n                  <Slider\n                    value={volume}\n                    onValueChange={setVolume}\n                    max={100}\n                    step={1}\n                    data-testid=\"slider-volume\"\n                  />\n                </div>\n\n                <div className=\"flex items-center justify-center gap-2 text-sm text-muted-foreground\">\n                  {isRepeating && (\n                    <span className=\"inline-flex items-center gap-1 text-primary\">\n                      <RotateCcw className=\"w-3 h-3\" />\n                      Repeat Mode On\n                    </span>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center py-16\">\n            <Loader2 className=\"w-12 h-12 animate-spin text-muted-foreground mb-4\" />\n            <p className=\"text-muted-foreground\">Loading verses...</p>\n          </div>\n        )}\n        </TabsContent>\n\n          <TabsContent value=\"qaidah\">\n            <EnhancedQaidah />\n          </TabsContent>\n\n          <TabsContent value=\"duas\">\n            <DuasSection />\n          </TabsContent>\n\n          <TabsContent value=\"activities\">\n            <KidsActivities />\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":16672},"client/src/components/KidsActivities.tsx":{"content":"import { useState } from \"react\";\nimport { CheckCircle2, XCircle, RotateCcw } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\ninterface MatchingPair {\n  id: string;\n  arabic: string;\n  english: string;\n}\n\ninterface QuizQuestion {\n  id: string;\n  question: string;\n  options: string[];\n  correct: number;\n}\n\nconst matchingPairs: MatchingPair[] = [\n  { id: \"1\", arabic: \"Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…\", english: \"Peace be upon you\" },\n  { id: \"2\", arabic: \"Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡\", english: \"In the name of Allah\" },\n  { id: \"3\", arabic: \"Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡\", english: \"Praise be to Allah\" },\n  { id: \"4\", arabic: \"Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡\", english: \"What Allah has willed\" },\n  { id: \"5\", arabic: \"Ø¥Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡\", english: \"If Allah wills\" }\n];\n\nconst quizQuestions: QuizQuestion[] = [\n  {\n    id: \"q1\",\n    question: \"What does 'Bismillah' mean?\",\n    options: [\"In the name of Allah\", \"Thank you\", \"Peace\", \"Goodbye\"],\n    correct: 0\n  },\n  {\n    id: \"q2\",\n    question: \"How many surahs are in the Quran?\",\n    options: [\"100\", \"114\", \"120\", \"150\"],\n    correct: 1\n  },\n  {\n    id: \"q3\",\n    question: \"What is the first surah of the Quran called?\",\n    options: [\"Al-Baqarah\", \"Al-Fatihah\", \"Yaseen\", \"Al-Noor\"],\n    correct: 1\n  },\n  {\n    id: \"q4\",\n    question: \"How many pillars of Islam are there?\",\n    options: [\"3\", \"4\", \"5\", \"6\"],\n    correct: 2\n  }\n];\n\nexport function KidsActivities() {\n  const [activeActivity, setActiveActivity] = useState<string>(\"matching\");\n  const [matchingAnswers, setMatchingAnswers] = useState<Record<string, string>>({});\n  const [quizAnswers, setQuizAnswers] = useState<Record<string, number>>({});\n  const [showResults, setShowResults] = useState(false);\n\n  const handleMatching = (pairId: string, englishId: string) => {\n    setMatchingAnswers(prev => ({\n      ...prev,\n      [pairId]: englishId\n    }));\n  };\n\n  const handleQuizAnswer = (questionId: string, answerIndex: number) => {\n    setQuizAnswers(prev => ({\n      ...prev,\n      [questionId]: answerIndex\n    }));\n  };\n\n  const checkMatchingAnswers = () => {\n    let correct = 0;\n    matchingPairs.forEach((pair, idx) => {\n      const selectedId = matchingAnswers[pair.id];\n      if (selectedId === pair.id) {\n        correct++;\n      }\n    });\n    return { correct, total: matchingPairs.length };\n  };\n\n  const checkQuizAnswers = () => {\n    let correct = 0;\n    quizQuestions.forEach((q) => {\n      if (quizAnswers[q.id] === q.correct) {\n        correct++;\n      }\n    });\n    return { correct, total: quizQuestions.length };\n  };\n\n  const resetMatching = () => {\n    setMatchingAnswers({});\n    setShowResults(false);\n  };\n\n  const resetQuiz = () => {\n    setQuizAnswers({});\n    setShowResults(false);\n  };\n\n  const matchingResults = checkMatchingAnswers();\n  const quizResults = checkQuizAnswers();\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-xl sm:text-2xl font-bold mb-2\">Interactive Activities</h2>\n        <p className=\"text-sm sm:text-base text-muted-foreground\">\n          Fun and engaging activities to test your knowledge\n        </p>\n      </div>\n\n      <Tabs value={activeActivity} onValueChange={setActiveActivity}>\n        <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n          <TabsTrigger value=\"matching\" data-testid=\"tab-matching\">\n            Matching Game\n          </TabsTrigger>\n          <TabsTrigger value=\"quiz\" data-testid=\"tab-quiz\">\n            Quiz Challenge\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"matching\">\n          <Card>\n            <CardHeader className=\"pb-3 sm:pb-6\">\n              <CardTitle className=\"text-base sm:text-lg\">Match Arabic to English</CardTitle>\n              <CardDescription className=\"text-xs sm:text-sm\">\n                Connect the Arabic phrases with their English meanings\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4 p-3 sm:p-6\">\n              <div className=\"space-y-3\">\n                {matchingPairs.map((pair) => (\n                  <div key={pair.id} className=\"flex flex-col sm:flex-row items-start sm:items-center gap-3 p-3 bg-muted/30 rounded-lg\">\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-base sm:text-lg font-arabic text-center\" dir=\"rtl\">{pair.arabic}</p>\n                    </div>\n                    <div className=\"flex items-center gap-2 w-full sm:w-auto justify-center sm:justify-end\">\n                      <select\n                        value={matchingAnswers[pair.id] || \"\"}\n                        onChange={(e) => handleMatching(pair.id, e.target.value)}\n                        disabled={showResults}\n                        className=\"px-2 py-1 text-xs sm:text-sm border rounded\"\n                        data-testid={`matching-select-${pair.id}`}\n                      >\n                        <option value=\"\">Select...</option>\n                        {matchingPairs.map(p => (\n                          <option key={p.id} value={p.id}>{p.english}</option>\n                        ))}\n                      </select>\n                      {showResults && (\n                        matchingAnswers[pair.id] === pair.id ? (\n                          <CheckCircle2 className=\"w-5 h-5 text-green-500 shrink-0\" />\n                        ) : (\n                          <XCircle className=\"w-5 h-5 text-red-500 shrink-0\" />\n                        )\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {showResults && (\n                <div className=\"p-4 bg-primary/10 rounded-lg text-center\">\n                  <p className=\"text-sm sm:text-base font-semibold mb-2\">\n                    You got {matchingResults.correct} out of {matchingResults.total}!\n                  </p>\n                  <Button size=\"sm\" variant=\"outline\" onClick={resetMatching} className=\"gap-2\">\n                    <RotateCcw className=\"w-4 h-4\" />\n                    Try Again\n                  </Button>\n                </div>\n              )}\n\n              <Button\n                onClick={() => setShowResults(!showResults)}\n                className=\"w-full\"\n                data-testid=\"button-check-matching\"\n              >\n                {showResults ? \"Edit Answers\" : \"Check Answers\"}\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"quiz\">\n          <Card>\n            <CardHeader className=\"pb-3 sm:pb-6\">\n              <CardTitle className=\"text-base sm:text-lg\">Islamic Knowledge Quiz</CardTitle>\n              <CardDescription className=\"text-xs sm:text-sm\">\n                Test your knowledge of Islam and the Quran\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4 p-3 sm:p-6\">\n              <div className=\"space-y-4\">\n                {quizQuestions.map((q) => (\n                  <div key={q.id} className=\"p-3 sm:p-4 border rounded-lg space-y-3\">\n                    <p className=\"text-sm sm:text-base font-semibold\">{q.question}</p>\n                    <div className=\"space-y-2\">\n                      {q.options.map((option, idx) => (\n                        <button\n                          key={idx}\n                          onClick={() => handleQuizAnswer(q.id, idx)}\n                          disabled={showResults}\n                          className={`w-full text-left p-2 sm:p-3 rounded-lg border transition-all text-xs sm:text-sm\n                            ${quizAnswers[q.id] === idx\n                              ? 'bg-primary/20 border-primary'\n                              : 'hover:bg-muted/50'\n                            }\n                            ${showResults && idx === q.correct ? 'bg-green-500/20 border-green-500' : ''}\n                            ${showResults && quizAnswers[q.id] === idx && idx !== q.correct ? 'bg-red-500/20 border-red-500' : ''}\n                          `}\n                          data-testid={`quiz-option-${q.id}-${idx}`}\n                        >\n                          <span className=\"flex items-center gap-2\">\n                            <span className=\"inline-flex items-center justify-center w-5 h-5 border rounded-full text-xs\">\n                              {String.fromCharCode(65 + idx)}\n                            </span>\n                            {option}\n                          </span>\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {showResults && (\n                <div className=\"p-4 bg-primary/10 rounded-lg text-center\">\n                  <p className=\"text-sm sm:text-base font-semibold mb-2\">\n                    Score: {quizResults.correct} out of {quizResults.total}\n                  </p>\n                  <Button size=\"sm\" variant=\"outline\" onClick={resetQuiz} className=\"gap-2\">\n                    <RotateCcw className=\"w-4 h-4\" />\n                    Retake Quiz\n                  </Button>\n                </div>\n              )}\n\n              <Button\n                onClick={() => setShowResults(!showResults)}\n                className=\"w-full\"\n                data-testid=\"button-submit-quiz\"\n              >\n                {showResults ? \"Edit Answers\" : \"Submit Quiz\"}\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":9705},"client/src/pages/QuranDictionary.tsx":{"content":"import { useState, useEffect, useRef } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Loader2, Play, Pause, Volume2, BookOpen, ChevronDown, ChevronUp } from \"lucide-react\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { VoiceRecognitionButton } from \"@/components/VoiceRecognitionButton\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Surah, VerseWithTranslations, availableReciters } from \"@shared/schema\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\nexport default function QuranDictionary() {\n  const [selectedSurah, setSelectedSurah] = useState(1);\n  const [selectedReciter, setSelectedReciter] = useState(availableReciters[0].identifier);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [expandedVerses, setExpandedVerses] = useState<Set<number>>(new Set());\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n      document.documentElement.classList.toggle('dark', savedTheme === 'dark');\n    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      setTheme('dark');\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  const { data: surahs, isLoading: isSurahsLoading } = useQuery<Surah[]>({\n    queryKey: ['/api/surahs'],\n  });\n\n  const { data: verses, isLoading: isVersesLoading } = useQuery<VerseWithTranslations[]>({\n    queryKey: ['/api/surah', selectedSurah, selectedReciter],\n    enabled: selectedSurah > 0,\n  });\n\n  const currentSurah = surahs?.find(s => s.number === selectedSurah);\n\n  const toggleVerse = (verseIndex: number) => {\n    const newExpanded = new Set(expandedVerses);\n    if (newExpanded.has(verseIndex)) {\n      newExpanded.delete(verseIndex);\n    } else {\n      newExpanded.add(verseIndex);\n    }\n    setExpandedVerses(newExpanded);\n  };\n\n  const playVerse = (audioUrl: string | undefined) => {\n    if (audioUrl && audioRef.current) {\n      audioRef.current.src = audioUrl;\n      audioRef.current.play().catch(err => console.error('Play error:', err));\n      setIsPlaying(true);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <audio ref={audioRef} onEnded={() => setIsPlaying(false)} />\n      <TopNav title=\"Quran Dictionary\" subtitle=\"Word by Word Meanings\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"quran\" />\n\n      <main className=\"max-w-5xl mx-auto px-3 sm:px-6 py-4 sm:py-6\">\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <CardTitle>Quran Dictionary</CardTitle>\n            <CardDescription>Explore complete verse meanings in English and Urdu with audio recitation</CardDescription>\n          </CardHeader>\n        </Card>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n          {/* Surah Selection */}\n          <Card className=\"md:col-span-1\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Select Surah</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <Select value={selectedSurah.toString()} onValueChange={(val) => {\n                setSelectedSurah(parseInt(val));\n                setExpandedVerses(new Set());\n              }}>\n                <SelectTrigger className=\"border-primary/50\" data-testid=\"select-dict-surah\">\n                  <SelectValue placeholder=\"Choose a Surah\" />\n                </SelectTrigger>\n                <SelectContent>\n                  {surahs?.map((surah) => (\n                    <SelectItem key={surah.number} value={surah.number.toString()}>\n                      <span className=\"font-semibold\">{surah.number}. <span className=\"font-arabic\">{surah.name}</span></span>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </CardContent>\n          </Card>\n\n          {/* Reciter Selection */}\n          <Card className=\"md:col-span-1\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Select Reciter</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <Select value={selectedReciter} onValueChange={setSelectedReciter}>\n                <SelectTrigger className=\"border-primary/50\" data-testid=\"select-dict-reciter\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {availableReciters.map((reciter) => (\n                    <SelectItem key={reciter.identifier} value={reciter.identifier}>\n                      <span className=\"text-sm\">{reciter.name}</span>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </CardContent>\n          </Card>\n\n          {/* Voice Recognition Card */}\n          <Card className=\"md:col-span-1\">\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm\">Voice Search</CardTitle>\n            </CardHeader>\n            <CardContent className=\"flex items-end h-full pb-3\">\n              {verses && (\n                <VoiceRecognitionButton\n                  verses={verses}\n                  currentSurah={selectedSurah}\n                  onNavigate={(surah, ayah) => {\n                    setSelectedSurah(surah);\n                    setExpandedVerses(new Set([ayah - 1]));\n                  }}\n                />\n              )}\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Surah Info */}\n        {currentSurah && (\n          <Card className=\"mb-6 bg-primary/5 border-primary/20\">\n            <CardContent className=\"pt-6\">\n              <div className=\"text-center\">\n                <p className=\"text-lg font-semibold\">{currentSurah.number}. <span className=\"font-arabic\">{currentSurah.name}</span></p>\n                <p className=\"text-sm text-muted-foreground mt-1\">{currentSurah.numberOfAyahs} verses â€¢ {currentSurah.revelationType}</p>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Verses Dictionary */}\n        {isVersesLoading ? (\n          <div className=\"space-y-4\">\n            {Array.from({ length: 5 }).map((_, i) => (\n              <Card key={i}>\n                <CardContent className=\"pt-6\">\n                  <Skeleton className=\"h-6 w-12 mb-4\" />\n                  <Skeleton className=\"h-20 w-full\" />\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        ) : verses && verses.length > 0 ? (\n          <div className=\"space-y-3\">\n            {verses.map((verse, index) => (\n              <Card key={verse.ayah.number} className=\"hover-elevate\">\n                <CardHeader className=\"pb-3 cursor-pointer\" onClick={() => toggleVerse(index)}>\n                  <div className=\"flex items-start justify-between gap-4\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2 mb-2\">\n                        <p className=\"text-sm font-semibold text-muted-foreground\">Verse {verse.ayah.numberInSurah}</p>\n                        <Button\n                          size=\"icon\"\n                          variant=\"ghost\"\n                          className=\"h-6 w-6\"\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            playVerse(verse.ayah.audio);\n                          }}\n                          data-testid={`btn-play-verse-${verse.ayah.numberInSurah}`}\n                        >\n                          <Volume2 className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                      <p className=\"font-arabic text-2xl leading-loose text-right\">{verse.ayah.text}</p>\n                    </div>\n                    <Button\n                      size=\"icon\"\n                      variant=\"ghost\"\n                      className=\"h-6 w-6 flex-shrink-0\"\n                      onClick={() => toggleVerse(index)}\n                    >\n                      {expandedVerses.has(index) ? (\n                        <ChevronUp className=\"w-4 h-4\" />\n                      ) : (\n                        <ChevronDown className=\"w-4 h-4\" />\n                      )}\n                    </Button>\n                  </div>\n                </CardHeader>\n\n                {/* Expanded Content */}\n                {expandedVerses.has(index) && (\n                  <CardContent className=\"border-t pt-4 space-y-4\">\n                    {/* English Translation */}\n                    <div>\n                      <p className=\"text-xs font-semibold text-muted-foreground mb-2 uppercase\">English Translation</p>\n                      <p className=\"text-sm leading-relaxed text-foreground\">\n                        {verse.englishTranslation?.text || \"Translation not available\"}\n                      </p>\n                      {verse.englishTranslation?.translator && (\n                        <p className=\"text-xs text-muted-foreground mt-1\">\n                          â€” {verse.englishTranslation.translator}\n                        </p>\n                      )}\n                    </div>\n\n                    {/* Urdu Translation */}\n                    {verse.urduTranslation?.text && (\n                      <div className=\"border-t pt-4\">\n                        <p className=\"text-xs font-semibold text-muted-foreground mb-2 uppercase\">Ø§Ø±Ø¯Ùˆ ØªØ±Ø¬Ù…Û (Urdu)</p>\n                        <p className=\"text-sm leading-relaxed text-right font-urdu\">\n                          {verse.urduTranslation.text}\n                        </p>\n                        {verse.urduTranslation?.translator && (\n                          <p className=\"text-xs text-muted-foreground mt-1 text-right\">\n                            â€” {verse.urduTranslation.translator}\n                          </p>\n                        )}\n                      </div>\n                    )}\n\n                    {/* Recitation Button */}\n                    <div className=\"border-t pt-4\">\n                      <Button\n                        variant=\"default\"\n                        size=\"sm\"\n                        className=\"w-full gap-2\"\n                        onClick={() => playVerse(verse.ayah.audio)}\n                      >\n                        <Volume2 className=\"w-4 h-4\" />\n                        Listen to Recitation\n                      </Button>\n                    </div>\n                  </CardContent>\n                )}\n              </Card>\n            ))}\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center py-16 text-center\">\n            <BookOpen className=\"w-16 h-16 text-muted-foreground/50 mb-4\" />\n            <p className=\"text-lg font-medium mb-2\">No verses found</p>\n            <p className=\"text-sm text-muted-foreground\">Please select a surah to view the dictionary</p>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n","size_bytes":11609},"client/src/pages/QuranicStories.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { ChevronDown, BookOpen } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\ninterface QuranicStory {\n  id: string;\n  title: string;\n  arabicTitle: string;\n  protagonist: string;\n  surahReferences: { surah: string; number: number; para: string; ayat: string }[];\n  summary: string;\n  keyLessons: string[];\n  narrative: string;\n}\n\ninterface AsbaabNuzool {\n  id: string;\n  surah: string;\n  surahNumber: number;\n  ayat: string;\n  para: string;\n  reason: string;\n  historicalContext: string;\n}\n\nconst stories: QuranicStory[] = [\n  {\n    id: \"yusuf\",\n    title: \"Prophet Yusuf (Joseph) - The Best of Stories\",\n    arabicTitle: \"Ø³ÙˆØ±Ø© ÙŠÙˆØ³Ù\",\n    protagonist: \"Yusuf (Joseph)\",\n    surahReferences: [\n      { surah: \"Yusuf\", number: 12, para: \"Para 12-13\", ayat: \"12:4-5, 12:15-22, 12:24-35, 12:50-93\" }\n    ],\n    summary: \"The comprehensive story of Prophet Yusuf, from jealousy and trials to triumph and mercy\",\n    keyLessons: [\n      \"Allah's protection of the righteous even in darkness\",\n      \"Patience (Sabr) leads to divine victory\",\n      \"Maintaining chastity and purity despite temptation\",\n      \"Interpretation of dreams through Allah's wisdom\",\n      \"Forgiveness is greater than revenge\",\n      \"Allah elevates the humble to positions of honor\",\n      \"Testing faith refines character\",\n      \"Trust in Allah's plan despite seemingly impossible situations\"\n    ],\n    narrative: \"Yusuf, the beloved son of Ya'qub, was thrown into a well by jealous brothers and sold into slavery in Egypt. Potiphar's wife falsely accused him; he was imprisoned unjustly. Yet he remained patient, truthful, and relied on Allah. His interpretation of prisoners' dreams eventually reached Pharaoh, who freed him and made him treasurer of Egypt. Years later, his starving family came to Egypt for grain. Yusuf recognized them but initially tested them, ultimately revealing his identity with profound forgiveness and mercy. The entire family migrated to Egypt, and Yusuf's father's eyes were restored to sight.\"\n  },\n  {\n    id: \"musa\",\n    title: \"Prophet Musa (Moses) - The One Spoke To\",\n    arabicTitle: \"Ù…ÙˆØ³Ù‰\",\n    protagonist: \"Musa (Moses)\",\n    surahReferences: [\n      { surah: \"Al-Qasas (The Stories)\", number: 28, para: \"Para 20-21\", ayat: \"28:3-28, 28:36-46\" },\n      { surah: \"Taha\", number: 20, para: \"Para 16\", ayat: \"20:9-127\" },\n      { surah: \"Al-A'raf\", number: 7, para: \"Para 8-9\", ayat: \"7:103-162\" }\n    ],\n    summary: \"The journey of Musa from abandonment to receiving the Quran at Sinai to leading his people to freedom\",\n    keyLessons: [\n      \"Allah protects His messengers from harm\",\n      \"Courage to stand against tyranny with faith\",\n      \"Seeking help from Allah is the greatest strategy\",\n      \"Signs and miracles are for those who believe\",\n      \"Leadership requires patience with people\",\n      \"The Law (Torah) guides both faith and practice\",\n      \"Even after miracles, hearts can harden\",\n      \"Perseverance despite rejection and difficulty\"\n    ],\n    narrative: \"Musa's mother placed him in a basket on the Nile to escape Pharaoh's infanticide. Pharaoh's wife adopted him, unknowingly raising Allah's future prophet. At maturity, Musa witnessed injustice, killed an Egyptian in defense, and fled to Madyan. There, he married and tended sheep for his father-in-law. At Mount Tur, Allah called him to prophethood. Commissioned to confront Pharaoh, Musa performed miracles: his staff became a serpent, his hand shone white. Despite nine plagues, Pharaoh's heart hardened. Finally, Allah commanded the Israelites to leave. At the Red Sea, Allah parted the waters for them and drowned Pharaoh. On Sinai, Allah gave Musa the Tablets of the Law. Yet, in his absence, the people worshipped the golden calf. Musa's leadership involved constant patience with their rebellion, culminating in forty years of wilderness wandering as punishment.\"\n  },\n  {\n    id: \"ibrahim\",\n    title: \"Prophet Ibrahim (Abraham) - The Friend of Allah\",\n    arabicTitle: \"Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…\",\n    protagonist: \"Ibrahim (Abraham)\",\n    surahReferences: [\n      { surah: \"As-Saffat (The Ranks)\", number: 37, para: \"Para 23\", ayat: \"37:83-113\" },\n      { surah: \"An-Nahl (The Bee)\", number: 16, para: \"Para 14\", ayat: \"16:120-123\" },\n      { surah: \"Al-Baqarah\", number: 2, para: \"Para 3\", ayat: \"2:124-141\" }\n    ],\n    summary: \"Ibrahim's unwavering monotheism, his trials, and his foundation of faith for all humanity\",\n    keyLessons: [\n      \"Reject idolatry and establish pure monotheism\",\n      \"Wisdom in delivering the message of Allah\",\n      \"Absolute obedience transcends emotional bonds\",\n      \"Trust in Allah's plan in all circumstances\",\n      \"Prayer and dua are weapons of the believer\",\n      \"Building spiritual foundations for future generations\",\n      \"The Ka'bah - the House of Allah - is a beacon\",\n      \"Abraham is the father of believers and friend of Allah\"\n    ],\n    narrative: \"Ibrahim was born into a society of idolators. Through intellectual reasoning, he rejected their gods, famously destroying their idols to demonstrate their powerlessness. His family rejected him; he was cast into fire by King Nimrod, but Allah made the fire cool and safe. Commanded to leave his family in the barren valley of Makkah, Ibrahim obeyed, praying for its population. Tested to sacrifice his son Ismail, he proceeded in obedienceâ€”yet Allah substituted a ram. He built the Ka'bah with his son, establishing it as a sanctuary. After his trials, Allah declared him Khalil (Friend), elevated him as an Imam, and promised him righteous descendants. His legacy - monotheism - became the foundation of Judaism, Christianity, and Islam.\"\n  },\n  {\n    id: \"ayyub\",\n    title: \"Prophet Ayyub (Job) - The Patient One\",\n    arabicTitle: \"Ø£ÙŠÙˆØ¨\",\n    protagonist: \"Ayyub (Job)\",\n    surahReferences: [\n      { surah: \"Al-Anbiya (The Prophets)\", number: 21, para: \"Para 17\", ayat: \"21:83-84\" },\n      { surah: \"As-Sad (The Letter Sad)\", number: 38, para: \"Para 23\", ayat: \"38:41-44\" }\n    ],\n    summary: \"Ayyub's severe trials and miraculous recovery through patience and reliance on Allah\",\n    keyLessons: [\n      \"Patience (Sabr) is a virtue of the noble\",\n      \"Trials refine the soul and test sincerity\",\n      \"Wealth and health are temporary divine blessings\",\n      \"Call upon Allah directly in times of hardship\",\n      \"Despair is disbelief; hope is in Allah's mercy\",\n      \"The righteous are tested most severely\",\n      \"Prayer and dua during difficulty are powerful\",\n      \"Allah's mercy is always near for the sincere\"\n    ],\n    narrative: \"Ayyub was blessed abundantly - wealth, children, health, and faith. Satan challenged Allah, claiming Ayyub's devotion depended on prosperity. Allah permitted trials: the Devil took his wealth, his children died, and his body was afflicted with severe illness for years. His flesh decayed, his wealth vanished, his family abandoned him. Yet, he never despaired. His sole prayer: 'Truly, adversity has touched me, and You are the Most Merciful of the merciful.' Allah was pleased with his patience and sincerity. He restored his health, returned his wealth doubled, gave him new children, and the memory of Ayyub became eternalâ€”a symbol of steadfast patience in Islamic tradition.\"\n  },\n  {\n    id: \"nuh\",\n    title: \"Prophet Nuh (Noah) - The Preacher of Faith\",\n    arabicTitle: \"Ù†ÙˆØ­\",\n    protagonist: \"Nuh (Noah)\",\n    surahReferences: [\n      { surah: \"Nuh (Noah)\", number: 71, para: \"Para 29\", ayat: \"71:1-28\" },\n      { surah: \"Al-A'raf\", number: 7, para: \"Para 8\", ayat: \"7:59-64\" },\n      { surah: \"Hud\", number: 11, para: \"Para 12\", ayat: \"11:25-49\" }\n    ],\n    summary: \"Nuh's 950-year mission to guide his people to monotheism despite universal rejection\",\n    keyLessons: [\n      \"Perseverance in calling to truth despite rejection\",\n      \"Patience with stubborn hearts is virtuous\",\n      \"Few believe when most reject the message\",\n      \"Gentleness and wisdom in preaching\",\n      \"Allah's punishment comes to those who reject\",\n      \"The Flood - a merciful cleansing for the believers\",\n      \"One righteous soul is worth more than thousands\",\n      \"The mission of prophets spans generations\"\n    ],\n    narrative: \"Nuh preached monotheism to his people for 950 years. He called them day and night, openly and privately, with gentleness and wisdom. Yet, only a fewâ€”his family and believersâ€”heeded his message. The elite mocked him, saying, 'You are just a human like us, seeking honor.' Despite his compassion, the people mocked, ridiculed, and rejected him. None accepted except those who believed. His own son refused to board the Ark. When the appointed time arrived, Allah commanded Nuh: 'Build the Ark under Our eyes.' The flood came, destroying all who rejected, while the believers entered the Ark. Nuh's mission ended in the salvation of the few and the destruction of the disbelieversâ€”a mercy for believers and a punishment for rejectors.\"\n  },\n  {\n    id: \"isa\",\n    title: \"Prophet Isa (Jesus) - The Messenger Miracles\",\n    arabicTitle: \"Ø¹ÙŠØ³Ù‰\",\n    protagonist: \"Isa (Jesus)\",\n    surahReferences: [\n      { surah: \"Maryam (Mary)\", number: 19, para: \"Para 16\", ayat: \"19:16-35, 19:88-98\" },\n      { surah: \"Al-Imran (The Family of Imran)\", number: 3, para: \"Para 3-4\", ayat: \"3:45-58\" },\n      { surah: \"An-Nisa (The Women)\", number: 4, para: \"Para 5\", ayat: \"4:157-159\" }\n    ],\n    summary: \"Isa's miraculous birth, divine signs, message of monotheism, and protection from enemies\",\n    keyLessons: [\n      \"Allah's power transcends natural laws and biology\",\n      \"Miracles affirm the truth of messengers\",\n      \"Compassion and healing are acts of faith\",\n      \"Calling people to worship Allah alone\",\n      \"The pure will face opposition from the corrupt\",\n      \"Allah protects His truthful messengers\",\n      \"Humility in the face of miracles\",\n      \"The message is preserved despite misrepresentation\"\n    ],\n    narrative: \"Isa was born to Maryam (Mary), a virgin, through a special creation by Allah's will, without a father. When the people doubted, he spoke from the cradle, declaring his prophethood. Allah granted him miracles: healing the blind and lepers, reviving the deadâ€”all by Allah's permission. He created a bird from clay and breathed life into it. His message was clear: 'Worship Allah, my Lord and your Lord.' Yet, the priests and leaders felt threatened. They plotted against him. Allah ascended him to the heavens, and his followers preserved his teachings. He will return before the Day of Judgment to establish justice and true monotheism. His legacy remains as a sign of Allah's mercy and power.\"\n  },\n  {\n    id: \"luqman\",\n    title: \"Luqman the Wise - The Moral Teacher\",\n    arabicTitle: \"Ù„Ù‚Ù…Ø§Ù†\",\n    protagonist: \"Luqman (Wise Man)\",\n    surahReferences: [\n      { surah: \"Luqman\", number: 31, para: \"Para 21\", ayat: \"31:12-19\" }\n    ],\n    summary: \"Luqman's moral and spiritual advice to his son and humanity\",\n    keyLessons: [\n      \"Wisdom comes from fearing Allah and gratitude\",\n      \"Parents must teach children monotheism\",\n      \"Respect and honor toward parents is obligatory\",\n      \"Good character is manifested in all actions\",\n      \"Modesty and humility in speech and gait\",\n      \"The consequences of pride and arrogance\",\n      \"Justice and truth are foundations of society\",\n      \"Teaching children moral values is sacred trust\"\n    ],\n    narrative: \"While Luqman is not explicitly identified as a prophet, his wisdom in Surah Luqman is revered. He taught his son profound lessons: 'Do not associate partners with Allah - this is a great injustice,' 'Be good to your parents,' 'Establish prayer and command good,' 'Be patient over what befalls you,' 'Do not avert your face in contempt,' 'Speak in a moderate tone.' His advice addressed every aspect of lifeâ€”faith, family, society, and morality. His words remain timeless guidance for parents and children, representing the transmission of wisdom and moral values through generations. His teachings are among the most cherished ethical instructions in Islamic literature.\"\n  },\n  {\n    id: \"ashaab-alkahf\",\n    title: \"The Companions of the Cave - Faith in Isolation\",\n    arabicTitle: \"Ø£ØµØ­Ø§Ø¨ Ø§Ù„ÙƒÙ‡Ù\",\n    protagonist: \"Young Believers\",\n    surahReferences: [\n      { surah: \"Al-Kahf (The Cave)\", number: 18, para: \"Para 15-16\", ayat: \"18:9-26\" }\n    ],\n    summary: \"Youths who fled persecution and received divine protection in a cave\",\n    keyLessons: [\n      \"Courage to abandon comfort for faith\",\n      \"Seeking refuge in Allah is ultimate protection\",\n      \"Community of believers strengthens resolve\",\n      \"Allah's miracles preserve the faithful\",\n      \"Time is in Allah's hands alone\",\n      \"Resurrection and accountability are certain\",\n      \"The importance of spiritual counsel and support\",\n      \"Faith triumphs over material concerns\"\n    ],\n    narrative: \"These young believers lived during a time of religious persecution. Unwilling to worship idols, they fled to a cave, seeking only Allah's protection and mercy. They prayed, 'Our Lord, grant us from Yourself mercy and prepare for us from our affair right guidance.' Allah caused them to sleep for 309 years. When they awoke, they thought only a day had passed. They ventured to the city to buy food, unaware of the centuries that had elapsed. The people recognized them as signs of the resurrection. Their story exemplifies faith, courage, and divine protection. The cave became a place of pilgrimage, and their tomb a source of blessingâ€”a timeless reminder that Allah protects those who trust Him.\"\n  },\n  {\n    id: \"dhulqarnain\",\n    title: \"Dhul-Qarnayn - The Builder Against Gog and Magog\",\n    arabicTitle: \"Ø°Ùˆ Ø§Ù„Ù‚Ø±Ù†ÙŠÙ†\",\n    protagonist: \"Dhul-Qarnayn\",\n    surahReferences: [\n      { surah: \"Al-Kahf (The Cave)\", number: 18, para: \"Para 15-16\", ayat: \"18:83-98\" }\n    ],\n    summary: \"A just ruler who built a wall against Gog and Magog with faith and wisdom\",\n    keyLessons: [\n      \"Justice is the foundation of righteous leadership\",\n      \"Wisdom in governance includes consultation\",\n      \"Combining material means with trust in Allah\",\n      \"Preparedness against future threats\",\n      \"Humility despite power and authority\",\n      \"Protecting the vulnerable is a divine trust\",\n      \"The balance between action and reliance on Allah\",\n      \"Gratitude for divine blessings\"\n    ],\n    narrative: \"Dhul-Qarnayn traveled the lands, establishing justice and preaching monotheism. People sought his help against Gog and Magogâ€”destructive tribes who raided their settlements. Rather than accepting payment, he requested they work with him to build a wall of iron and copper. With divine assistance, they constructed a massive barrier. When Gog and Magog try to scale it on the Day of Judgment, they will break through. His story illustrates that true strength lies not in military might but in justice, consultation, and reliance on Allah. The wall remains a symbol of preparation and wisdom.\"\n  },\n  {\n    id: \"sulayman\",\n    title: \"Prophet Sulayman (Solomon) - Master of Knowledge\",\n    arabicTitle: \"Ø³Ù„ÙŠÙ…Ø§Ù†\",\n    protagonist: \"Sulayman (Solomon)\",\n    surahReferences: [\n      { surah: \"An-Naml (The Ant)\", number: 27, para: \"Para 19-20\", ayat: \"27:15-44\" },\n      { surah: \"Saba (Sheba)\", number: 34, para: \"Para 22\", ayat: \"34:12-13\" },\n      { surah: \"As-Sad (The Letter Sad)\", number: 38, para: \"Para 23\", ayat: \"38:30-40\" }\n    ],\n    summary: \"Sulayman's unique knowledge, authority over creation, and just rulership\",\n    keyLessons: [\n      \"Gratitude opens doors to greater blessings\",\n      \"Authority should be used justly and mercifully\",\n      \"Understanding creation reveals divine wisdom\",\n      \"Consultation and gentleness in leadership\",\n      \"Miracles demonstrate divine power and favor\",\n      \"Humility despite power and authority\",\n      \"Knowledge of the unseen is Allah's alone\",\n      \"Mercy toward all creation is virtue\"\n    ],\n    narrative: \"Sulayman, son of Dawud, inherited knowledge and authority. He prayed, 'My Lord, forgive me and grant me a kingdom such as none deserves after me.' Allah granted him unique powers: the wind obeyed his command, the brass flowed by his permission, the jinn worked under his supervision. He understood the speech of birds. When reviewing an army of jinn, humans, and birds, he noted the absence of a hoopoe and threatened punishment. The hoopoe returned with news of Sheba's queen and her people worshipping the sun. He requested the throne before they arrived. A demon brought it instantly. Upon its arrival, he thanked Allah. The queen and her people accepted Islam. His wisdom, mercy, and justice became legendaryâ€”a model of righteous governance.\"\n  },\n  {\n    id: \"ashaab-alkhayal\",\n    title: \"The Owners of the Garden - Greed's Consequences\",\n    arabicTitle: \"Ø£ØµØ­Ø§Ø¨ Ø§Ù„Ø¬Ù†Ø©\",\n    protagonist: \"The Rich Brothers\",\n    surahReferences: [\n      { surah: \"Al-Qalam (The Pen)\", number: 68, para: \"Para 29\", ayat: \"68:17-33\" }\n    ],\n    summary: \"Two brothers and their garden - a lesson on greed, ingratitude, and divine warning\",\n    keyLessons: [\n      \"Ingratitude turns blessings into punishment\",\n      \"Greed blinds the heart to truth\",\n      \"Boasting about possessions invites divine wrath\",\n      \"Mutual respect and consultation preserve wealth\",\n      \"Charity and gratitude protect blessings\",\n      \"Arrogance leads to destruction\",\n      \"Wealth is a test from Allah\",\n      \"The poor and needy deserve consideration\"\n    ],\n    narrative: \"Two brothers received a beautiful garden from their father, blessed with dates, vines, and springs. One brother, arrogant and ungrateful, said to his believing brother, 'I am greater than you in wealth and mightier in men.' His brother, faithful, replied, 'Perhaps Allah will grant me something better. Do not associate partners with Allah.' One night, Allah sent a calamity that destroyed the entire garden, leaving it blackened and barren. The arrogant brother stood in regret, wishing he had never associated partners with Allah. His wealth could not protect him, nor his people. The story warns against ingratitude, arrogance, and the temporary nature of worldly possessionsâ€”a Divine reminder that true wealth is piety and gratitude.\"\n  }\n];\n\nconst asbaabNuzool: AsbaabNuzool[] = [\n  {\n    id: \"ayat-al-kursee\",\n    surah: \"Al-Baqarah\",\n    surahNumber: 2,\n    ayat: \"2:255\",\n    para: \"Para 3\",\n    reason: \"Revealed regarding Allah's comprehensive knowledge and protection\",\n    historicalContext: \"This verse was revealed as a reminder of Allah's might and omniscience. It serves as protection and reassurance for believers.\"\n  },\n  {\n    id: \"hijab-ayat\",\n    surah: \"Al-Ahzab\",\n    surahNumber: 33,\n    ayat: \"33:53\",\n    para: \"Para 22\",\n    reason: \"Revealed after an incident regarding the modesty of the Prophet's wives during a meal\",\n    historicalContext: \"When the Prophet's wives were served at a gathering, guests lingered. Allah revealed the hijab injunction to establish boundaries and protect the Prophet's family.\"\n  },\n  {\n    id: \"surah-tauba\",\n    surah: \"At-Taubah\",\n    surahNumber: 9,\n    ayat: \"9:1-10\",\n    para: \"Para 10-11\",\n    reason: \"Revealed to announce the breaking of treaties with polytheists\",\n    historicalContext: \"Concerning the declaration of war against those who repeatedly violated treaties with the Muslims.\"\n  },\n  {\n    id: \"surah-nur\",\n    surah: \"An-Nur\",\n    surahNumber: 24,\n    ayat: \"24:2-10\",\n    para: \"Para 18\",\n    reason: \"Revealed regarding an accusation against Aisha in the Ifk incident\",\n    historicalContext: \"When hypocrites spread false rumors about the Prophet's wife, Allah revealed verses defending her honor and establishing legal principles for accusations.\"\n  },\n  {\n    id: \"khamr-ayat\",\n    surah: \"Al-Baqarah\",\n    surahNumber: 2,\n    ayat: \"2:219\",\n    para: \"Para 2\",\n    reason: \"Revealed addressing questions about intoxicants and gambling\",\n    historicalContext: \"Companions asked about wine and gambling. This verse was revealed explaining their harmful effects and restrictions.\"\n  },\n  {\n    id: \"riba-ayat\",\n    surah: \"Al-Baqarah\",\n    surahNumber: 2,\n    ayat: \"2:275-280\",\n    para: \"Para 3\",\n    reason: \"Revealed concerning the prohibition of interest (Riba) in transactions\",\n    historicalContext: \"Allah clearly prohibited usury and established fair economic principles for believers.\"\n  },\n  {\n    id: \"hijra-ayat\",\n    surah: \"An-Nahl\",\n    surahNumber: 16,\n    ayat: \"16:41-42\",\n    para: \"Para 14\",\n    reason: \"Regarding the migration of believers from Makkah to Madinah\",\n    historicalContext: \"These verses were revealed encouraging believers to emigrate from persecution to safety.\"\n  },\n  {\n    id: \"zakat-ayat\",\n    surah: \"At-Taubah\",\n    surahNumber: 9,\n    ayat: \"9:60\",\n    para: \"Para 10\",\n    reason: \"Revealed specifying the recipients and categories of Zakat (charity)\",\n    historicalContext: \"Allah clarified who deserves Zakat and the principles of charitable distribution.\"\n  },\n  {\n    id: \"hajj-ayat\",\n    surah: \"Al-Hajj\",\n    surahNumber: 22,\n    ayat: \"22:27-28\",\n    para: \"Para 17\",\n    reason: \"Revealed regarding the rituals and spirituality of Hajj pilgrimage\",\n    historicalContext: \"Allah described the sacred rituals and spiritual significance of the Hajj for believers.\"\n  },\n  {\n    id: \"wudu-ayat\",\n    surah: \"Al-Maidah\",\n    surahNumber: 5,\n    ayat: \"5:6\",\n    para: \"Para 6\",\n    reason: \"Revealed concerning the ritual purification before prayer\",\n    historicalContext: \"Allah established the method and importance of ritual purification (Wudu) before prayer.\"\n  }\n];\n\nexport default function QuranicStories() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [expandedStory, setExpandedStory] = useState<string | null>(null);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <TopNav title=\"Quranic Stories\" subtitle=\"Tales with Ayaat & Lessons\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"stories\" />\n\n      <main className=\"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-8\">\n        <Tabs defaultValue=\"stories\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n            <TabsTrigger value=\"stories\" data-testid=\"tab-stories\" className=\"text-xs sm:text-sm\">\n              Stories\n            </TabsTrigger>\n            <TabsTrigger value=\"asbab\" data-testid=\"tab-asbab\" className=\"text-xs sm:text-sm\">\n              Asbab Al-Nuzool\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"stories\" className=\"space-y-4\">\n            <div className=\"mb-6 text-center\">\n              <h2 className=\"text-2xl sm:text-3xl font-bold mb-2\">Stories from the Quran</h2>\n              <p className=\"text-sm sm:text-base text-muted-foreground\">Complete narratives with Ayaat references, Para numbers, and spiritual lessons</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-4 sm:gap-6\">\n              {stories.map((story) => (\n                <Card\n                  key={story.id}\n                  className=\"hover-elevate cursor-pointer transition-all\"\n                  onClick={() => setExpandedStory(expandedStory === story.id ? null : story.id)}\n                  data-testid={`story-card-${story.id}`}\n                >\n                  <CardHeader className=\"pb-3 sm:pb-6\">\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <div className=\"flex-1 min-w-0\">\n                        <CardTitle className=\"text-base sm:text-lg mb-1\">{story.title}</CardTitle>\n                        <CardDescription className=\"text-xs sm:text-sm\">\n                          {story.surahReferences.map((ref, idx) => (\n                            <span key={idx}>\n                              {ref.surah} {ref.number} â€¢ Para {ref.para.split(\"-\")[0].trim()} â€¢ Ayaat: {ref.ayat}\n                              {idx < story.surahReferences.length - 1 && \" | \"}\n                            </span>\n                          ))}\n                        </CardDescription>\n                      </div>\n                      <span className=\"font-arabic text-lg sm:text-xl shrink-0\">{story.arabicTitle}</span>\n                      <ChevronDown\n                        className={`w-4 h-4 sm:w-5 sm:h-5 transition-transform shrink-0 ${\n                          expandedStory === story.id ? \"rotate-180\" : \"\"\n                        }`}\n                      />\n                    </div>\n                  </CardHeader>\n\n                  {expandedStory === story.id && (\n                    <CardContent className=\"space-y-4 sm:space-y-6 p-3 sm:p-6 border-t pt-4 sm:pt-6\">\n                      <div>\n                        <h3 className=\"font-semibold text-sm sm:text-base mb-2\">The Narrative</h3>\n                        <p className=\"text-xs sm:text-sm text-muted-foreground leading-relaxed\">{story.narrative}</p>\n                      </div>\n\n                      <div>\n                        <h3 className=\"font-semibold text-sm sm:text-base mb-2\">Key Lessons</h3>\n                        <ul className=\"space-y-1\">\n                          {story.keyLessons.map((lesson, idx) => (\n                            <li key={idx} className=\"flex gap-2 text-xs sm:text-sm\">\n                              <span className=\"text-primary shrink-0\">â€¢</span>\n                              <span className=\"text-muted-foreground\">{lesson}</span>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n\n                      <div className=\"bg-primary/5 p-3 sm:p-4 rounded-lg\">\n                        <p className=\"text-xs sm:text-sm font-medium mb-1\">Quranic References:</p>\n                        {story.surahReferences.map((ref, idx) => (\n                          <p key={idx} className=\"text-xs sm:text-sm text-muted-foreground\">\n                            {ref.surah} (Surah {ref.number}) â€¢ Para {ref.para} â€¢ Verses: {ref.ayat}\n                          </p>\n                        ))}\n                      </div>\n                    </CardContent>\n                  )}\n                </Card>\n              ))}\n            </div>\n          </TabsContent>\n\n          <TabsContent value=\"asbab\" className=\"space-y-4\">\n            <div className=\"mb-6 text-center\">\n              <h2 className=\"text-2xl sm:text-3xl font-bold mb-2\">Asbab Al-Nuzool</h2>\n              <p className=\"text-sm sm:text-base text-muted-foreground\">Reasons and historical context for the revelation of Quranic verses</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 gap-4\">\n              {asbaabNuzool.map((nuzool) => (\n                <Card key={nuzool.id} className=\"hover-elevate p-4 sm:p-6\">\n                  <div className=\"flex justify-between items-start gap-3 mb-3\">\n                    <div>\n                      <h3 className=\"font-semibold text-sm sm:text-base mb-1\">\n                        {nuzool.surah} {nuzool.surahNumber}:{nuzool.ayat.split(\":\")[1]}\n                      </h3>\n                      <p className=\"text-xs sm:text-sm text-muted-foreground\">Para {nuzool.para}</p>\n                    </div>\n                    <span className=\"text-xs bg-primary/10 px-2 py-1 rounded\">Verse {nuzool.ayat}</span>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <div>\n                      <p className=\"text-xs font-medium mb-1\">Reason for Revelation:</p>\n                      <p className=\"text-xs sm:text-sm text-muted-foreground\">{nuzool.reason}</p>\n                    </div>\n                    <div>\n                      <p className=\"text-xs font-medium mb-1\">Historical Context:</p>\n                      <p className=\"text-xs sm:text-sm text-muted-foreground\">{nuzool.historicalContext}</p>\n                    </div>\n                  </div>\n                </Card>\n              ))}\n            </div>\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":28831},"client/src/pages/MemoQuran.tsx":{"content":"import { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Loader2, Play, Pause, Volume2, Zap, RotateCcw, BookOpen } from \"lucide-react\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { VoiceRecognitionButton } from \"@/components/VoiceRecognitionButton\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Surah, VerseWithTranslations, availableReciters, allJuz } from \"@shared/schema\";\n\nexport default function MemoQuran() {\n  const [mode, setMode] = useState<'surah' | 'juz'>('surah');\n  const [selectedSurah, setSelectedSurah] = useState(1);\n  const [selectedJuz, setSelectedJuz] = useState(1);\n  const [startVerse, setStartVerse] = useState(1);\n  const [endVerse, setEndVerse] = useState(7);\n  const [selectedReciter, setSelectedReciter] = useState(availableReciters[0].identifier);\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [playbackSpeed, setPlaybackSpeed] = useState(1.0);\n  const [repeatCount, setRepeatCount] = useState(1);\n  const [repeatAfterReciter, setRepeatAfterReciter] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentVerseIndex, setCurrentVerseIndex] = useState(0);\n  const [mainTab, setMainTab] = useState('lesson');\n  const [continueMode, setContinueMode] = useState(true); // Auto-play next verse\n  const [audioMode, setAudioMode] = useState<'recitation' | 'translation'>('recitation'); // Recitation or translation audio\n  const [pausePerVerse, setPausePerVerse] = useState(false); // Pause after each verse\n  const [currentRepeatCount, setCurrentRepeatCount] = useState(1); // Track repeats for current verse\n  const audioRef = useRef<HTMLAudioElement>(null);\n\n  // Handle Juz selection\n  const handleJuzChange = (juzNumber: number) => {\n    const juz = allJuz.find(j => j.number === juzNumber);\n    if (juz) {\n      setSelectedJuz(juzNumber);\n      setSelectedSurah(juz.startSurah);\n      setStartVerse(juz.startAyah);\n      setEndVerse(Math.min(juz.endAyah, 286)); // Max verses in any surah\n      setCurrentVerseIndex(0); // Reset to first verse when switching Juz\n      setIsPlaying(false); // Stop any ongoing playback\n    }\n  };\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n      document.documentElement.classList.toggle('dark', savedTheme === 'dark');\n    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      setTheme('dark');\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  const { data: surahs, isLoading: isSurahsLoading } = useQuery<Surah[]>({\n    queryKey: ['/api/surahs'],\n  });\n\n  // For Juz mode: fetch multiple surahs if needed\n  const shouldFetchMultipleSurahs = mode === 'juz';\n  const juzData = allJuz[selectedJuz - 1];\n  const surahsToFetch = shouldFetchMultipleSurahs && juzData \n    ? Array.from({ length: juzData.endSurah - juzData.startSurah + 1 }, (_, i) => juzData.startSurah + i)\n    : [selectedSurah];\n\n  // Fetch first surah verses\n  const { data: verses, isLoading: isVersesLoading } = useQuery<VerseWithTranslations[]>({\n    queryKey: ['/api/surah', selectedSurah, selectedReciter],\n    enabled: selectedSurah > 0,\n  });\n\n  // Fetch additional surahs for Juz if needed\n  const { data: additionalVerses, isLoading: isAdditionalLoading } = useQuery<VerseWithTranslations[]>({\n    queryKey: ['/api/surah', shouldFetchMultipleSurahs && surahsToFetch.length > 1 ? surahsToFetch[1] : selectedSurah, selectedReciter],\n    enabled: shouldFetchMultipleSurahs && surahsToFetch.length > 1,\n  });\n\n  // Combine all verses for Juz mode\n  const allVerses = shouldFetchMultipleSurahs && juzData && verses && additionalVerses \n    ? [...verses, ...additionalVerses]\n    : verses;\n\n  const currentSurah = surahs?.find(s => s.number === selectedSurah);\n  const maxVerses = currentSurah?.numberOfAyahs || 7;\n\n  useEffect(() => {\n    if (endVerse > maxVerses && mode === 'surah') {\n      setEndVerse(maxVerses);\n    }\n  }, [maxVerses, mode]);\n\n  const getVerseRange = () => {\n    if (!allVerses) return [];\n    if (mode === 'juz' && juzData) {\n      // For Juz: include all verses from start to end\n      return allVerses;\n    }\n    // For Surah: use startVerse and endVerse\n    const start = Math.max(0, startVerse - 1);\n    const end = Math.min(allVerses.length, endVerse);\n    return allVerses.slice(start, end);\n  };\n\n  const verseRange = getVerseRange();\n\n  const playCurrentVerse = useCallback(() => {\n    // Check if verses are loaded\n    if (!allVerses || allVerses.length === 0) {\n      console.warn('Verses not loaded yet');\n      return;\n    }\n    \n    if (currentVerseIndex >= verseRange.length) {\n      setCurrentVerseIndex(0);\n      setIsPlaying(false);\n      return;\n    }\n    \n    const verse = verseRange[currentVerseIndex];\n    let audioUrl: string | undefined;\n    \n    // Select audio based on audioMode\n    if (audioMode === 'recitation') {\n      audioUrl = verse?.ayah?.audio;\n    } else {\n      // Translation audio not available, use recitation instead\n      audioUrl = verse?.ayah?.audio;\n    }\n    \n    if (audioUrl && audioRef.current) {\n      audioRef.current.src = audioUrl;\n      audioRef.current.playbackRate = playbackSpeed;\n      audioRef.current.play().catch(err => console.error('Play error:', err));\n      setIsPlaying(true);\n    }\n  }, [allVerses, verseRange, currentVerseIndex, playbackSpeed, audioMode]);\n\n  useEffect(() => {\n    if (!audioRef.current) return;\n    const audio = audioRef.current;\n    const handleEnded = () => {\n      if (currentRepeatCount > 1) {\n        setCurrentRepeatCount(prev => prev - 1);\n        setTimeout(() => playCurrentVerse(), 500);\n      } else {\n        // Verse finished - decide what to do next\n        setCurrentRepeatCount(repeatCount);\n        \n        if (pausePerVerse) {\n          // Stop and pause on each verse\n          setIsPlaying(false);\n        } else if (continueMode) {\n          // Auto-play next verse\n          const newIndex = currentVerseIndex + 1;\n          if (newIndex >= verseRange.length) {\n            setIsPlaying(false);\n            return;\n          }\n          setCurrentVerseIndex(newIndex);\n        } else {\n          // Stop at end of verse\n          setIsPlaying(false);\n        }\n      }\n    };\n    audio.addEventListener('ended', handleEnded);\n    return () => audio.removeEventListener('ended', handleEnded);\n  }, [currentVerseIndex, repeatCount, pausePerVerse, continueMode, verseRange.length, playCurrentVerse]);\n\n  const handlePlayClick = () => {\n    if (isPlaying) {\n      audioRef.current?.pause();\n      setIsPlaying(false);\n    } else {\n      // Check if verses are loaded before playing\n      if (!verses || verses.length === 0) {\n        console.warn('Please wait for verses to load');\n        return;\n      }\n      setCurrentVerseIndex(0);\n      setCurrentRepeatCount(repeatCount);\n      // Store repeat count for auto-progression\n      localStorage.setItem('lastRepeatCount', repeatCount.toString());\n      playCurrentVerse();\n    }\n  };\n\n  const handleVerseClick = (verseIndex: number) => {\n    setCurrentVerseIndex(verseIndex);\n    localStorage.setItem('lastRepeatCount', repeatCount.toString());\n    // Play the clicked verse immediately\n    setTimeout(() => {\n      const verse = verseRange[verseIndex];\n      const audioUrl = verse?.ayah?.audio;\n      if (audioUrl && audioRef.current) {\n        audioRef.current.src = audioUrl;\n        audioRef.current.playbackRate = playbackSpeed;\n        audioRef.current.play().catch(err => console.error('Play error:', err));\n        setIsPlaying(true);\n      }\n    }, 100);\n  };\n\n  const handleStopClick = () => {\n    audioRef.current?.pause();\n    setIsPlaying(false);\n    setCurrentVerseIndex(0);\n  };\n\n  const increaseSpeed = () => {\n    const newSpeed = Math.min(playbackSpeed + 0.25, 2.0);\n    setPlaybackSpeed(newSpeed);\n    if (audioRef.current) audioRef.current.playbackRate = newSpeed;\n  };\n\n  const decreaseSpeed = () => {\n    const newSpeed = Math.max(playbackSpeed - 0.25, 0.5);\n    setPlaybackSpeed(newSpeed);\n    if (audioRef.current) audioRef.current.playbackRate = newSpeed;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <audio ref={audioRef} />\n      <TopNav title=\"Memorize Quran\" subtitle=\"Learn & Practice\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"quran\" />\n\n      <main className=\"max-w-4xl mx-auto px-3 sm:px-6 py-4 sm:py-6\">\n        {/* Tabs */}\n        <Tabs value={mainTab} onValueChange={setMainTab} className=\"w-full mb-6\">\n          <div className=\"flex items-center justify-between gap-2 mb-6\">\n            <TabsList className=\"grid grid-cols-2\">\n              <TabsTrigger value=\"lesson\" className=\"flex items-center gap-2\">\n                <span>Lesson</span>\n              </TabsTrigger>\n              <TabsTrigger value=\"guide\" className=\"flex items-center gap-2\">\n                <span>Guide</span>\n              </TabsTrigger>\n            </TabsList>\n            {allVerses && (\n              <VoiceRecognitionButton\n                verses={allVerses}\n                currentSurah={selectedSurah}\n                onNavigate={(surah, ayah) => {\n                  setSelectedSurah(surah);\n                  setStartVerse(ayah);\n                  setEndVerse(Math.min(ayah + 10, surahs?.find(s => s.number === surah)?.numberOfAyahs || ayah + 10));\n                  setCurrentVerseIndex(0);\n                }}\n              />\n            )}\n          </div>\n\n          <TabsContent value=\"lesson\" className=\"space-y-4\">\n            {/* Mode Toggle */}\n            <Card>\n              <CardContent className=\"pt-6\">\n                <div className=\"flex gap-2\">\n                  <Button \n                    size=\"sm\" \n                    variant={mode === 'surah' ? 'default' : 'outline'}\n                    onClick={() => setMode('surah')}\n                    className=\"flex-1\"\n                    data-testid=\"btn-mode-surah\"\n                  >\n                    Surah Mode\n                  </Button>\n                  <Button \n                    size=\"sm\" \n                    variant={mode === 'juz' ? 'default' : 'outline'}\n                    onClick={() => setMode('juz')}\n                    className=\"flex-1\"\n                    data-testid=\"btn-mode-juz\"\n                  >\n                    Juz Mode\n                  </Button>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Reciter Selection */}\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm\">Select Reciter</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <Select value={selectedReciter} onValueChange={setSelectedReciter}>\n                  <SelectTrigger className=\"border-primary/50\" data-testid=\"select-reciter\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {availableReciters.map((reciter) => (\n                      <SelectItem key={reciter.identifier} value={reciter.identifier}>\n                        {reciter.name}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </CardContent>\n            </Card>\n\n            {/* Surah or Juz Selection */}\n            {mode === 'surah' ? (\n              <Card>\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-sm\">Select Surah</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <Select value={selectedSurah.toString()} onValueChange={(val) => {\n                    setSelectedSurah(parseInt(val));\n                    setStartVerse(1);\n                    setEndVerse(7);\n                  }}>\n                    <SelectTrigger className=\"border-primary/50 h-10\" data-testid=\"select-surah\">\n                      <SelectValue placeholder=\"Choose a Surah\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {surahs?.map((surah) => (\n                        <SelectItem key={surah.number} value={surah.number.toString()}>\n                          <span className=\"font-semibold\">{surah.number}. <span className=\"font-arabic\">{surah.name}</span></span>\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  {currentSurah && (\n                    <div className=\"bg-primary/10 border border-primary/20 rounded-md p-3 text-center\">\n                      <p className=\"text-xs text-muted-foreground mb-1\">Selected Surah</p>\n                      <p className=\"text-base font-semibold\">{currentSurah.number}. <span className=\"font-arabic\">{currentSurah.name}</span></p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">{currentSurah.numberOfAyahs} verses â€¢ {currentSurah.revelationType}</p>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            ) : (\n              <Card>\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-sm\">Select Juz (Para)</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  <Select value={selectedJuz.toString()} onValueChange={(val) => handleJuzChange(parseInt(val))}>\n                    <SelectTrigger className=\"border-primary/50 h-10\" data-testid=\"select-juz\">\n                      <SelectValue placeholder=\"Choose a Juz\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {allJuz.map((juz) => (\n                        <SelectItem key={juz.number} value={juz.number.toString()}>\n                          <span className=\"font-semibold\">Juz {juz.number}: {juz.name}</span>\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  {allJuz[selectedJuz - 1] && (\n                    <div className=\"bg-primary/10 border border-primary/20 rounded-md p-3 text-center\">\n                      <p className=\"text-xs text-muted-foreground mb-1\">Selected Juz</p>\n                      <p className=\"text-base font-semibold\">Juz {selectedJuz}: {allJuz[selectedJuz - 1].name}</p>\n                      <p className=\"text-xs text-muted-foreground mt-1\">Surah {allJuz[selectedJuz - 1].startSurah} - {allJuz[selectedJuz - 1].endSurah}</p>\n                      {allJuz[selectedJuz - 1].arabicName && <p className=\"text-xs font-arabic mt-1\">{allJuz[selectedJuz - 1].arabicName}</p>}\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Verse Range Selection */}\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm\">Verse Range</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-3\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-xs text-muted-foreground mb-1 block\">Start Verse</label>\n                    <div className=\"flex items-center gap-1\">\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => setStartVerse(Math.max(1, startVerse - 1))} data-testid=\"btn-start-down\">âˆ’</Button>\n                      <input type=\"number\" value={startVerse} onChange={(e) => setStartVerse(parseInt(e.target.value) || 1)} className=\"flex-1 text-center border rounded-md bg-background text-sm py-1\" min=\"1\" max={maxVerses} data-testid=\"input-start-verse\" />\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => setStartVerse(Math.min(maxVerses, startVerse + 1))} data-testid=\"btn-start-up\">+</Button>\n                    </div>\n                  </div>\n                  <div>\n                    <label className=\"text-xs text-muted-foreground mb-1 block\">End Verse</label>\n                    <div className=\"flex items-center gap-1\">\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => setEndVerse(Math.max(startVerse, endVerse - 1))} data-testid=\"btn-end-down\">âˆ’</Button>\n                      <input type=\"number\" value={endVerse} onChange={(e) => setEndVerse(parseInt(e.target.value) || startVerse)} className=\"flex-1 text-center border rounded-md bg-background text-sm py-1\" min={startVerse} max={maxVerses} data-testid=\"input-end-verse\" />\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => setEndVerse(Math.min(maxVerses, endVerse + 1))} data-testid=\"btn-end-up\">+</Button>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Loading indicator for Juz mode */}\n            {mode === 'juz' && isVersesLoading && (\n              <Card className=\"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800\">\n                <CardContent className=\"pt-4 flex items-center gap-2\">\n                  <Loader2 className=\"w-4 h-4 animate-spin text-blue-600 dark:text-blue-400\" />\n                  <p className=\"text-sm text-blue-700 dark:text-blue-300\">Loading Juz verses...</p>\n                </CardContent>\n              </Card>\n            )}\n\n            {/* Playback Settings */}\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm\">Playback Settings</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"space-y-2\">\n                  <label className=\"text-xs text-muted-foreground\">Repeat each Verse</label>\n                  <Select value={repeatCount.toString()} onValueChange={(val) => setRepeatCount(parseInt(val))}>\n                    <SelectTrigger className=\"border-primary/50\" data-testid=\"select-repeat\">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {[1, 3, 5, 7, 10].map((num) => (\n                        <SelectItem key={num} value={num.toString()}>{num}x</SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <label className=\"text-xs\">Repeat after Reciter</label>\n                  <Button size=\"sm\" variant={repeatAfterReciter ? \"default\" : \"outline\"} onClick={() => setRepeatAfterReciter(!repeatAfterReciter)} data-testid=\"btn-repeat-after\">\n                    {repeatAfterReciter ? 'On' : 'Off'}\n                  </Button>\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <label className=\"text-xs\">Continue to Next Verse</label>\n                  <Button size=\"sm\" variant={continueMode ? \"default\" : \"outline\"} onClick={() => setContinueMode(!continueMode)} data-testid=\"btn-continue-mode\">\n                    {continueMode ? 'On' : 'Off'}\n                  </Button>\n                </div>\n\n                <div className=\"flex items-center justify-between\">\n                  <label className=\"text-xs\">Pause After Each Verse</label>\n                  <Button size=\"sm\" variant={pausePerVerse ? \"default\" : \"outline\"} onClick={() => setPausePerVerse(!pausePerVerse)} data-testid=\"btn-pause-per-verse\">\n                    {pausePerVerse ? 'On' : 'Off'}\n                  </Button>\n                </div>\n\n                <div className=\"space-y-2\">\n                  <label className=\"text-xs text-muted-foreground\">Audio Source</label>\n                  <div className=\"p-2 bg-muted/50 rounded-md\">\n                    <p className=\"text-xs font-semibold text-foreground\">Quranic Recitation</p>\n                    <p className=\"text-xs text-muted-foreground mt-1\">Translation audio available in Quran Dictionary</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Speed & Control */}\n            <Card>\n              <CardHeader className=\"pb-3\">\n                <CardTitle className=\"text-sm\">Playback Speed</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex items-center justify-between gap-2\">\n                  <Button size=\"sm\" variant=\"outline\" onClick={decreaseSpeed} data-testid=\"btn-speed-down\">âˆ’</Button>\n                  <span className=\"text-center font-semibold text-sm min-w-12\">{playbackSpeed.toFixed(2)}x</span>\n                  <Button size=\"sm\" variant=\"outline\" onClick={increaseSpeed} data-testid=\"btn-speed-up\">+</Button>\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <Button \n                    size=\"lg\" \n                    className=\"flex-1 gap-2\" \n                    onClick={handlePlayClick} \n                    data-testid=\"btn-play-pause\"\n                    disabled={isVersesLoading}\n                  >\n                    {isPlaying ? <Pause className=\"w-5 h-5\" /> : <Play className=\"w-5 h-5\" />}\n                    {isPlaying ? 'Pause' : 'Play'}\n                  </Button>\n                  <Button size=\"lg\" variant=\"outline\" onClick={handleStopClick} data-testid=\"btn-stop\">Stop</Button>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Current Verse Display */}\n            {isVersesLoading && (\n              <div className=\"flex items-center justify-center py-8\">\n                <Loader2 className=\"w-6 h-6 animate-spin text-primary\" />\n              </div>\n            )}\n\n            {verseRange.length > 0 && !isVersesLoading && (\n              <>\n                <Card>\n                  <CardHeader className=\"pb-2 border-b\">\n                    <div className=\"flex items-center justify-between\">\n                      <div>\n                        <CardTitle className=\"text-sm\">Surah {currentSurah?.name} â€¢ Verse {currentVerseIndex + startVerse}/{endVerse}</CardTitle>\n                        <CardDescription className=\"text-xs mt-1\">{verseRange[currentVerseIndex + 1] ? `Verse ${currentVerseIndex + 1}/${verseRange.length}` : 'Last verse'}</CardDescription>\n                      </div>\n                    </div>\n                  </CardHeader>\n                  <CardContent className=\"space-y-3 pt-4\">\n                    {verseRange[currentVerseIndex] && (\n                      <div className=\"text-center space-y-3 bg-muted/50 p-4 rounded-md\">\n                        <p className=\"font-arabic text-3xl leading-loose\">{verseRange[currentVerseIndex].ayah?.text}</p>\n                        <p className=\"text-xs text-muted-foreground font-semibold\">Ayah {currentVerseIndex + startVerse}</p>\n                        {verseRange[currentVerseIndex].urduTranslation && <p className=\"text-xs text-foreground/80 mt-2\">{verseRange[currentVerseIndex].urduTranslation.text}</p>}\n                        {verseRange[currentVerseIndex].englishTranslation && <p className=\"text-xs text-foreground/70 mt-2\">{verseRange[currentVerseIndex].englishTranslation.text}</p>}\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n\n                {/* All Verses List */}\n                <Card>\n                  <CardHeader className=\"pb-3\">\n                    <CardTitle className=\"text-sm\">All Verses ({verseRange.length})</CardTitle>\n                    <CardDescription className=\"text-xs\">Click any verse to play from there</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-2\">\n                      {verseRange.map((verse, index) => (\n                        <button\n                          key={index}\n                          onClick={() => handleVerseClick(index)}\n                          data-testid={`btn-verse-${index}`}\n                          className={`w-full text-left p-3 rounded-md border-2 transition-all ${\n                            currentVerseIndex === index\n                              ? 'border-primary bg-primary/10'\n                              : 'border-muted hover-elevate hover:bg-muted/50'\n                          }`}\n                        >\n                          <div className=\"flex items-start justify-between gap-2\">\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"font-arabic text-lg leading-relaxed text-left\">{verse.ayah?.text}</p>\n                              {verse.englishTranslation && <p className=\"text-xs text-muted-foreground mt-1\">{verse.englishTranslation.text}</p>}\n                            </div>\n                            <span className=\"text-xs font-semibold shrink-0 whitespace-nowrap px-2 py-1 bg-muted rounded\">\n                              {index + startVerse}\n                            </span>\n                          </div>\n                        </button>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              </>\n            )}\n          </TabsContent>\n\n          <TabsContent value=\"guide\" className=\"space-y-4\">\n            <Card>\n              <CardHeader>\n                <CardTitle>How to Use This Tool</CardTitle>\n                <CardDescription>Tips for effective Quran memorization</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4 text-sm\">\n                <div className=\"space-y-3\">\n                  <div>\n                    <h4 className=\"font-semibold text-sm mb-1\">1. Select Your Reciter</h4>\n                    <p className=\"text-muted-foreground\">Choose from authentic Quranic reciters with clear, accurate pronunciations.</p>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-sm mb-1\">2. Choose Surah & Verses</h4>\n                    <p className=\"text-muted-foreground\">Select the Surah and set the verse range you want to memorize. Start with shorter ranges.</p>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-sm mb-1\">3. Adjust Speed</h4>\n                    <p className=\"text-muted-foreground\">Slow down the recitation to catch every word. Gradually increase speed as you memorize.</p>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-sm mb-1\">4. Use Repeat Function</h4>\n                    <p className=\"text-muted-foreground\">Repeat each verse multiple times (3x-7x recommended) to reinforce memorization.</p>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-sm mb-1\">5. Practice Consistently</h4>\n                    <p className=\"text-muted-foreground\">Regular daily practice is key. Start with small portions and gradually expand your memorization.</p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-sm\">Memorization Tips</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-2 text-xs text-muted-foreground\">\n                <p>â€¢ Listen to the pronunciation multiple times before attempting to memorize</p>\n                <p>â€¢ Try to follow along with the Arabic text</p>\n                <p>â€¢ Understand the meaning with the translation provided</p>\n                <p>â€¢ Practice reciting out loud after listening</p>\n                <p>â€¢ Review previously memorized verses regularly</p>\n              </CardContent>\n            </Card>\n          </TabsContent>\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":28507},"client/src/components/DuasSection.tsx":{"content":"import { useState } from \"react\";\nimport { Volume2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\ninterface Dua {\n  id: string;\n  title: string;\n  arabicDua: string;\n  transliteration: string;\n  translation: string;\n  reference: string;\n  time: string; // When to recite\n  benefits: string[];\n}\n\nconst duas: Dua[] = [\n  {\n    id: \"morning\",\n    title: \"Morning Dua\",\n    arabicDua: \"Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ€Ù°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù\",\n    transliteration: \"Bismillah ar-Rahman ar-Rahim\",\n    translation: \"In the name of Allah, the Most Gracious, the Most Merciful\",\n    reference: \"Recited at the beginning of all actions\",\n    time: \"Morning\",\n    benefits: [\"Brings blessings to the day\", \"Protects from harm\", \"Increases consciousness of Allah\"]\n  },\n  {\n    id: \"sleep\",\n    title: \"Before Sleep Dua\",\n    arabicDua: \"Ø¨ÙØ§Ø³Ù’Ù…ÙÙƒÙ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ Ø£ÙÙ…ÙÙˆØªÙ ÙˆÙØ£ÙØ­Ù’ÙŠÙØ§\",\n    transliteration: \"Bismika Allahumma amutu wa ahya\",\n    translation: \"In Your name, O Allah, I die and I live\",\n    reference: \"Surah Al-An'am 6:118\",\n    time: \"Before sleeping\",\n    benefits: [\"Peaceful sleep\", \"Divine protection at night\", \"Remembrance of Allah\"]\n  },\n  {\n    id: \"waking\",\n    title: \"Upon Waking Dua\",\n    arabicDua: \"Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù Ø§Ù„ÙÙ‘Ø°ÙÙŠ Ø£ÙØ­Ù’ÙŠÙØ§Ù†ÙØ§ Ø¨ÙØ¹Ù’Ø¯Ù Ù…ÙØ§ Ø£ÙÙ…ÙØ§ØªÙÙ†ÙØ§ ÙˆÙØ¥ÙÙ„ÙÙŠÙ’Ù‡Ù Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù\",\n    transliteration: \"Alhamdulillah alladhi ahyana ba'da ma amatana wa ilayhi an-nushur\",\n    translation: \"Praise be to Allah who gave us life after death and to Him is the return\",\n    reference: \"Surah Al-Baqarah 2:56\",\n    time: \"Upon waking\",\n    benefits: [\"Gratitude for another day\", \"New beginning\", \"Remembrance of Allah's power\"]\n  },\n  {\n    id: \"parents\",\n    title: \"Dua for Parents\",\n    arabicDua: \"Ø±ÙØ¨ÙÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙˆÙÙ„ÙÙˆÙØ§Ù„ÙØ¯ÙÙŠÙÙ‘ ÙˆÙÙ„ÙÙ…ÙÙ† Ø¯ÙØ®ÙÙ„Ù Ø¨ÙÙŠÙ’ØªÙÙŠÙ Ù…ÙØ¤Ù’Ù…ÙÙ†Ø§Ù‹\",\n    transliteration: \"Rabbi ighfir li wa li-waliday-ya wa liman dakhala bayti mu'minan\",\n    translation: \"My Lord, forgive me and my parents and whoever enters my house as a believer\",\n    reference: \"Surah Nuh 71:28\",\n    time: \"Regularly\",\n    benefits: [\"Honors parents\", \"Seeks forgiveness for them\", \"Brings family together in faith\"]\n  },\n  {\n    id: \"knowledge\",\n    title: \"Dua for Knowledge\",\n    arabicDua: \"Ø±ÙØ¨ÙÙ‘ Ø§Ø´Ù’Ø±ÙØ­Ù’ Ù„ÙÙŠ ØµÙØ¯Ù’Ø±ÙÙŠ ÙˆÙÙŠÙØ³ÙÙ‘Ø±Ù’ Ù„ÙÙŠ Ø£ÙÙ…Ù’Ø±ÙÙŠ\",\n    transliteration: \"Rabbi ishrah li sadri wa yassir li amri\",\n    translation: \"O my Lord, expand my chest and ease my affair\",\n    reference: \"Surah Taha 20:25-26\",\n    time: \"Before studying\",\n    benefits: [\"Clarity of mind\", \"Ease in learning\", \"Opens the heart to knowledge\"]\n  },\n  {\n    id: \"protection\",\n    title: \"Dua for Protection\",\n    arabicDua: \"Ø£ÙØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙÙ„ÙÙ…ÙØ§ØªÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØªÙÙ‘Ø§Ù…ÙÙ‘Ø©Ù Ù…ÙÙ† Ø´ÙØ±ÙÙ‘ Ù…ÙØ§ Ø®ÙÙ„ÙÙ‚Ù\",\n    transliteration: \"A'udhu bi-kalimati Allahi at-tammati min sharri ma khalaq\",\n    translation: \"I seek refuge in the perfect words of Allah from the evil of what He has created\",\n    reference: \"Surah Al-A'raf 7:180\",\n    time: \"Anytime\",\n    benefits: [\"Protection from harm\", \"Evil eye protection\", \"Divine shield\"]\n  }\n];\n\nexport function DuasSection() {\n  const [selectedDua, setSelectedDua] = useState<Dua | null>(duas[0]);\n\n  const playDuaAudio = (arabicText: string) => {\n    if (!('speechSynthesis' in window)) {\n      console.log('Speech synthesis not available');\n      return;\n    }\n\n    try {\n      window.speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(arabicText);\n      utterance.lang = 'ar-SA';\n      utterance.rate = 0.8;\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('Error in speech synthesis:', error);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-xl sm:text-2xl font-bold mb-2\">Learn Duas</h2>\n        <p className=\"text-sm sm:text-base text-muted-foreground\">\n          Essential Islamic duas to learn and practice regularly\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n        {/* Duas List */}\n        <div className=\"space-y-2\">\n          {duas.map((dua) => (\n            <Card\n              key={dua.id}\n              className={`hover-elevate active-elevate-2 cursor-pointer transition-all p-3 sm:p-4 ${\n                selectedDua?.id === dua.id ? 'bg-primary/5 border-primary' : ''\n              }`}\n              onClick={() => setSelectedDua(dua)}\n              data-testid={`dua-card-${dua.id}`}\n            >\n              <div className=\"flex items-start justify-between gap-2\">\n                <div className=\"min-w-0 flex-1\">\n                  <h3 className=\"text-sm sm:text-base font-semibold\">{dua.title}</h3>\n                  <p className=\"text-xs sm:text-sm text-muted-foreground\">{dua.time}</p>\n                </div>\n              </div>\n            </Card>\n          ))}\n        </div>\n\n        {/* Dua Details */}\n        {selectedDua && (\n          <Card className=\"hover-elevate\">\n            <CardHeader className=\"pb-3 sm:pb-6\">\n              <CardTitle className=\"text-base sm:text-lg\">{selectedDua.title}</CardTitle>\n              <CardDescription className=\"text-xs sm:text-sm\">{selectedDua.reference}</CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4 p-3 sm:p-6\">\n              <div>\n                <div className=\"bg-primary/5 p-4 rounded-lg mb-3\">\n                  <p className=\"text-lg sm:text-2xl font-arabic text-center leading-loose mb-2\" dir=\"rtl\">\n                    {selectedDua.arabicDua}\n                  </p>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    className=\"w-full gap-2\"\n                    onClick={() => playDuaAudio(selectedDua.arabicDua)}\n                    data-testid={`button-speak-dua-${selectedDua.id}`}\n                  >\n                    <Volume2 className=\"w-4 h-4\" />\n                    Hear Pronunciation\n                  </Button>\n                </div>\n\n                <div className=\"space-y-3\">\n                  <div>\n                    <p className=\"text-xs sm:text-sm font-medium mb-1\">Transliteration:</p>\n                    <p className=\"text-xs sm:text-sm text-muted-foreground italic\">\n                      {selectedDua.transliteration}\n                    </p>\n                  </div>\n\n                  <div>\n                    <p className=\"text-xs sm:text-sm font-medium mb-1\">Meaning:</p>\n                    <p className=\"text-xs sm:text-sm text-muted-foreground\">\n                      {selectedDua.translation}\n                    </p>\n                  </div>\n\n                  <div>\n                    <p className=\"text-xs sm:text-sm font-medium mb-2\">Benefits of this Dua:</p>\n                    <ul className=\"space-y-1\">\n                      {selectedDua.benefits.map((benefit, idx) => (\n                        <li key={idx} className=\"flex gap-2 text-xs sm:text-sm\">\n                          <span className=\"text-primary shrink-0\">â€¢</span>\n                          <span className=\"text-muted-foreground\">{benefit}</span>\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}\n","size_bytes":7742},"client/src/pages/Fiqh.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { ChevronDown, Book } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\ninterface FiqhTopic {\n  id: string;\n  title: string;\n  arabicTitle: string;\n  description: string;\n  rules: FiqhRule[];\n}\n\ninterface FiqhRule {\n  title: string;\n  description: string;\n  details?: string[];\n  conditions?: string[];\n}\n\nconst fiqhTopics: FiqhTopic[] = [\n  {\n    id: \"wudhu\",\n    title: \"Wudhu (Ablution)\",\n    arabicTitle: \"Ø§Ù„ÙˆØ¶ÙˆØ¡\",\n    description: \"Ritual purification before prayer and Quran recitation\",\n    rules: [\n      {\n        title: \"Pillars (Fard) of Wudhu\",\n        description: \"Essential actions that must be performed\",\n        details: [\n          \"Intention (Niyyah) - Make intention in the heart to purify for prayer\",\n          \"Washing the face - From hairline to chin, including mouth and nose\",\n          \"Washing the arms - From elbows to fingertips (right arm first)\",\n          \"Wiping the head - At least a quarter of the head\",\n          \"Washing the feet - Including between toes up to ankles (right foot first)\"\n        ]\n      },\n      {\n        title: \"Procedure (Sunnah) of Wudhu\",\n        description: \"The recommended way to perform Wudhu\",\n        details: [\n          \"Begin with 'Bismillah' (In the name of Allah)\",\n          \"Wash hands three times up to wrists\",\n          \"Rinse mouth three times\",\n          \"Sniff water into nostrils three times\",\n          \"Wash face three times with both hands\",\n          \"Wash right arm three times from fingertips to above elbow\",\n          \"Wash left arm three times from fingertips to above elbow\",\n          \"Wipe entire head once, including ears\",\n          \"Wash right foot three times up to ankle\",\n          \"Wash left foot three times up to ankle\"\n        ]\n      },\n      {\n        title: \"Things that Break Wudhu\",\n        description: \"Actions that invalidate ablution\",\n        details: [\n          \"Any emission from the front or back passage (urine, stool, gas)\",\n          \"Deep sleep\",\n          \"Loss of consciousness\",\n          \"Bleeding from wounds that flow beyond the wound\",\n          \"Vomiting\"\n        ]\n      },\n      {\n        title: \"Conditions of Valid Wudhu\",\n        description: \"Prerequisites for acceptance\",\n        conditions: [\n          \"Use of pure water (not contaminated)\",\n          \"Water should not be excessive or deficient\",\n          \"Proper intention must be made\",\n          \"Following the correct sequence\",\n          \"Rubbing all parts while washing\",\n          \"Continuity (completing all parts without long interruption)\"\n        ]\n      }\n    ]\n  },\n  {\n    id: \"ghusal\",\n    title: \"Ghusal (Full Body Ablation)\",\n    arabicTitle: \"Ø§Ù„ØºØ³Ù„\",\n    description: \"Complete ritual bath required after major impurity\",\n    rules: [\n      {\n        title: \"When Ghusal is Obligatory (Wajib)\",\n        description: \"Situations requiring full body ablation\",\n        details: [\n          \"After sexual intercourse\",\n          \"After emission of semen\",\n          \"After menstruation (for women)\",\n          \"After postpartum bleeding (for women)\",\n          \"Preparing a deceased person for burial\",\n          \"For a convert to Islam\"\n        ]\n      },\n      {\n        title: \"Procedure (Sunnah) of Ghusal\",\n        description: \"The recommended way to perform Ghusal\",\n        details: [\n          \"Make intention (Niyyah) in the heart\",\n          \"Begin with 'Bismillah'\",\n          \"Wash hands thoroughly three times\",\n          \"Clean private parts with left hand\",\n          \"Perform wudhu (except feet, which will be washed later)\",\n          \"Pour water over the entire body three times, starting from head\",\n          \"Rub the body thoroughly while water flows\",\n          \"Pour water over the feet\",\n          \"Ensure water reaches all parts of the body including hair roots\"\n        ]\n      },\n      {\n        title: \"Conditions of Valid Ghusal\",\n        description: \"Requirements for acceptance\",\n        details: [\n          \"Pure water must be used\",\n          \"All parts of the body must be washed\",\n          \"No impurity should remain on the body\",\n          \"Must be performed with intention\",\n          \"Water should reach the skin under hair\",\n          \"Cannot be performed while in a state of major impurity remains\"\n        ]\n      },\n      {\n        title: \"Things that Require Ghusal\",\n        description: \"Additional situations\",\n        details: [\n          \"Waking up from sleep after experiencing nocturnal emission\",\n          \"Any sexual activity between spouses\",\n          \"Death - the deceased person must be given Ghusal (Ghusl-al-Mayyit)\"\n        ]\n      }\n    ]\n  },\n  {\n    id: \"salah\",\n    title: \"Salah (Prayer)\",\n    arabicTitle: \"Ø§Ù„ØµÙ„Ø§Ø©\",\n    description: \"The five daily prayers - pillars of Islam\",\n    rules: [\n      {\n        title: \"The Five Daily Prayers\",\n        description: \"Times and names of obligatory prayers\",\n        details: [\n          \"Fajr - Before sunrise (2 Rak'ahs)\",\n          \"Dhuhr - When sun passes zenith (4 Rak'ahs)\",\n          \"Asr - Late afternoon (4 Rak'ahs)\",\n          \"Maghrib - Just after sunset (3 Rak'ahs)\",\n          \"Isha - After dark (4 Rak'ahs)\"\n        ]\n      },\n      {\n        title: \"Pillars (Fard) of Salah\",\n        description: \"Essential components of prayer\",\n        details: [\n          \"Intention (Niyyah) - Determine which prayer you are praying\",\n          \"Standing (for those able) - Facing Qibla (direction of Ka'bah)\",\n          \"Takbir (Allahu Akbar) - Begin prayer with 'Allahu Akbar'\",\n          \"Recitation of Surah Al-Fatihah - In every Rak'ah\",\n          \"Ruku (Bowing) - Bow with hands on knees\",\n          \"Sujud (Prostration) - Twice in each Rak'ah\",\n          \"Sitting between prostrations (Jalsah) - Sit up briefly\",\n          \"Tashahhud - Recite the testimony sitting at the end\",\n          \"Taslim (Salam) - Conclude prayer with 'Assalamu Alaikum'\"\n        ]\n      },\n      {\n        title: \"Conditions for Valid Prayer\",\n        description: \"Prerequisites that must be met\",\n        conditions: [\n          \"Wudhu (ablution) or Ghusal must be performed\",\n          \"Body and clothes must be clean\",\n          \"Prayer place must be clean\",\n          \"Awrah (private parts) must be covered - chest and thighs for men; entire body except face, hands, feet for women\",\n          \"Facing Qibla (Mecca) is required\",\n          \"Time of prayer must have entered\",\n          \"Intention must be made\",\n          \"Attention and focus (Khushu) in heart\"\n        ]\n      },\n      {\n        title: \"Things that Break Prayer\",\n        description: \"Actions that invalidate prayer\",\n        details: [\n          \"Speaking or unnecessary sounds\",\n          \"Eating or drinking\",\n          \"Passing wind or any major impurity\",\n          \"Excessive movement not required by prayer\",\n          \"Turning away from Qibla without valid reason\",\n          \"Uncovering of awrah\",\n          \"Laughing loudly\",\n          \"Leaving a pillar intentionally\"\n        ]\n      },\n      {\n        title: \"Encouraged Acts (Sunnah)\",\n        description: \"Recommended practices to enhance prayer\",\n        details: [\n          \"Early takbir - Start with first congregational takbir\",\n          \"Prolonged recitation - Extend Quran recitation\",\n          \"Lengthy bowing and prostration - Increase time in Ruku and Sujud\",\n          \"Quiet breathing (khushu) - Focus with full attention\",\n          \"Sending blessings upon Prophet Muhammad (ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…)\",\n          \"Making Dua after prayers\"\n        ]\n      }\n    ]\n  },\n  {\n    id: \"fasting\",\n    title: \"Fasting (Sawm)\",\n    arabicTitle: \"Ø§Ù„ØµÙŠØ§Ù…\",\n    description: \"Abstaining from food and drink during Ramadan\",\n    rules: [\n      {\n        title: \"Intention (Niyyah) for Fasting\",\n        description: \"Essential requirement for valid fast\",\n        details: [\n          \"Intention must be made before Fajr (dawn) time\",\n          \"For obligatory (Fard) fasting, intention can be made anytime before Fajr\",\n          \"For voluntary fasting, intention must be made before noon if starting same day\",\n          \"Intention should be from the heart\",\n          \"Can be made silently - no verbal declaration needed\"\n        ]\n      },\n      {\n        title: \"Pillars (Fard) of Fasting\",\n        description: \"Essential actions of a valid fast\",\n        details: [\n          \"Intention (Niyyah) - To fast for Allah's sake\",\n          \"Abstaining from food - From Fajr until Maghrib\",\n          \"Abstaining from drink - From Fajr until Maghrib\",\n          \"Abstaining from sexual intercourse - During fasting hours\",\n          \"Guarding the tongue and private parts - From sins and disobedience\"\n        ]\n      },\n      {\n        title: \"Things that Break the Fast\",\n        description: \"Actions that invalidate fasting\",\n        details: [\n          \"Eating intentionally during fasting hours\",\n          \"Drinking intentionally during fasting hours\",\n          \"Sexual intercourse during fasting hours\",\n          \"Deliberate vomiting\",\n          \"Emission from private parts due to lustful thoughts\",\n          \"Menstruation (for women)\",\n          \"Postpartum bleeding (for women)\",\n          \"Apostasy or rejecting faith\"\n        ]\n      },\n      {\n        title: \"Who is Excused from Fasting\",\n        description: \"Valid reasons for postponement\",\n        details: [\n          \"Children before puberty (not obligatory)\",\n          \"Elderly who cannot fast (can feed poor instead)\",\n          \"Chronically ill persons (can feed poor)\",\n          \"Traveler on journey (can make up later)\",\n          \"Menstruating women (make up days later)\",\n          \"Pregnant women if fasting harms them (make up later)\",\n          \"Breastfeeding women if fasting harms baby (make up later or feed poor)\",\n          \"Anyone with medical emergency requiring nutrition\"\n        ]\n      },\n      {\n        title: \"Encouraged Practices (Sunnah)\",\n        description: \"Recommended acts during fasting\",\n        details: [\n          \"Suhur (pre-dawn meal) - Eat light meal before Fajr\",\n          \"Iftar (breaking fast) - Break fast with dates and water at Maghrib\",\n          \"Reciting Quran extensively during Ramadan\",\n          \"Performing Taraweeh prayers in congregation\",\n          \"Increased charity and generosity\",\n          \"Avoiding idle talk and disputes\",\n          \"Sleeping and resting appropriately\",\n          \"Making sincere Dua (supplication)\"\n        ]\n      }\n    ]\n  },\n  {\n    id: \"zakat\",\n    title: \"Zakat (Obligatory Charity)\",\n    arabicTitle: \"Ø§Ù„Ø²ÙƒØ§Ø©\",\n    description: \"Annual purification of wealth by giving to the poor\",\n    rules: [\n      {\n        title: \"Conditions for Zakat Obligation\",\n        description: \"When Zakat becomes mandatory\",\n        details: [\n          \"Must be Muslim - Non-Muslims do not pay Zakat\",\n          \"Must possess minimum wealth (Nisab) - Equivalent to 87.48 grams of gold or 612.36 grams of silver\",\n          \"Must have owned wealth for one lunar year (Hawl) - Full Islamic year of possession\",\n          \"Wealth must be surplus to basic needs - After meeting living expenses\",\n          \"Must be of zakatable property - Gold, silver, cash, merchandise, livestock, crops\",\n          \"Must reach maturity and have sound mind\"\n        ]\n      },\n      {\n        title: \"Percentage (Rate) of Zakat\",\n        description: \"Amount of Zakat due on different types of wealth\",\n        details: [\n          \"Gold and Silver: 2.5% (1/40) of total amount\",\n          \"Cash and Savings: 2.5% (1/40) of total amount\",\n          \"Livestock - Sheep/Goats: 1 sheep/goat per 40 animals\",\n          \"Livestock - Cattle/Buffalo: 1 animal per 30 animals\",\n          \"Livestock - Camels: 1 camel per 5 camels\",\n          \"Agricultural Produce: 5-10% depending on irrigation method\",\n          \"Merchandise (Business Stock): 2.5% of total value\"\n        ]\n      },\n      {\n        title: \"Deserving Recipients of Zakat\",\n        description: \"Eight categories who can receive Zakat\",\n        details: [\n          \"Al-Fuqara (The Poor) - Those with no means of sustenance\",\n          \"Al-Masakin (The Needy) - Those with insufficient means\",\n          \"Al-Amilin (Workers) - Those collecting and distributing Zakat\",\n          \"Al-Muallafah Qulubuhum (Those whose hearts are inclined) - New converts\",\n          \"Ar-Riqab (Freeing Slaves) - Those seeking to free themselves\",\n          \"Al-Gharimin (The Indebted) - Those with debts beyond ability to pay\",\n          \"Fi Sabilillah (In the way of Allah) - Islamic causes and defense\",\n          \"Ibnu Assabil (Wayfarers) - Travelers stranded without means\"\n        ]\n      },\n      {\n        title: \"Timing and Method of Zakat\",\n        description: \"When and how to give Zakat\",\n        details: [\n          \"Due after one lunar year (Hawl) of ownership\",\n          \"Can be calculated on Islamic calendar or Gregorian calendar (be consistent)\",\n          \"Should be paid as soon as it becomes due\",\n          \"Can be paid in advance if Zakat will become due soon\",\n          \"Must be given with pure intention (Niyyah) for Allah's pleasure\",\n          \"Can be given directly or through Islamic organizations\",\n          \"Giving anonymously is preferable (protects dignity of receiver)\",\n          \"Amount should be clear and accurate\"\n        ]\n      },\n      {\n        title: \"Who Cannot Receive Zakat\",\n        description: \"Categories prohibited from receiving Zakat\",\n        details: [\n          \"Rich and wealthy persons\",\n          \"Those able to work and earn\",\n          \"Non-Muslims (unless they are the eight categories)\",\n          \"Parents, grandparents, and ancestors of the giver\",\n          \"Children and grandchildren of the giver\",\n          \"Spouse of the giver\",\n          \"Ahl-al-Bayt (family members of Prophet Muhammad ï·º - in some conditions)\"\n        ]\n      }\n    ]\n  },\n  {\n    id: \"hajj\",\n    title: \"Hajj (Pilgrimage)\",\n    arabicTitle: \"Ø§Ù„Ø­Ø¬\",\n    description: \"The pilgrimage to Makkah - one of the Five Pillars of Islam\",\n    rules: [\n      {\n        title: \"Who Must Perform Hajj\",\n        description: \"Conditions making Hajj obligatory\",\n        details: [\n          \"Must be Muslim - Non-Muslims cannot perform Hajj\",\n          \"Must reach maturity - Children do not have obligation\",\n          \"Must have sound mind - Those mentally ill are excused\",\n          \"Must have physical ability - Can walk, ride, or be carried\",\n          \"Must have financial means - Can afford travel and expenses\",\n          \"Must have safe travel - No extreme danger on route\",\n          \"Must have permission from spouse (if married)\",\n          \"Women must have Mahram (male guardian) - To travel with them\"\n        ]\n      },\n      {\n        title: \"Pillars (Fard) of Hajj\",\n        description: \"Essential rituals that must be performed\",\n        details: [\n          \"Intention (Niyyah) - Make intention to perform Hajj for Allah\",\n          \"Ihram - Enter state of sanctity with specific dress (2 unstitched sheets for men, modest dress for women)\",\n          \"Tawaf - Circumambulate Ka'bah 7 times counterclockwise\",\n          \"Sa'y - Walk between Safa and Marwah mountains 7 times\",\n          \"Wuquf at Arafah - Stand at Mount Arafah from noon to sunset on 9th Dhul-Hijjah\",\n          \"Muzdalifah - Spend night at Muzdalifah collecting pebbles\",\n          \"Ramy (Stoning the Pillars) - Stone three pillars at Mina\",\n          \"Halq (Shaving) or Qasar (Trimming) - Cut hair to end Ihram state\"\n        ]\n      },\n      {\n        title: \"Stages of Hajj\",\n        description: \"Sequential steps of the pilgrimage\",\n        details: [\n          \"1. Ihram - Make intention and don the sacred garments (before Miqat)\",\n          \"2. Tawaf Al-Qudum - Initial circumambulation of Ka'bah\",\n          \"3. Sa'y - Walk between Safa and Marwah mountains\",\n          \"4. Traveling to Arafah - Journey to Mount Arafah\",\n          \"5. Wuquf - Stand in meditation at Arafah from noon to sunset\",\n          \"6. Traveling to Muzdalifah - Journey there after sunset\",\n          \"7. Spending Night - Rest and collect pebbles at Muzdalifah\",\n          \"8. Morning Travel to Mina - Proceed before sunrise on 10th\",\n          \"9. Ramy - Stone the Jamrat Al-Aqabah (first pillar)\",\n          \"10. Sacrificing Animal - Perform Qurbani (animal sacrifice)\",\n          \"11. Halq/Qasar - Cut hair to exit Ihram state\",\n          \"12. Tawaf Al-Ifadah - Final circumambulation of Ka'bah\",\n          \"13. Ramy Days - Stone all three pillars on 11th and 12th (Days of Tashreeq)\"\n        ]\n      },\n      {\n        title: \"Prohibitions During Ihram\",\n        description: \"Things forbidden while in state of sanctity\",\n        details: [\n          \"Men cannot wear stitched clothing or headwear\",\n          \"Women cannot wear face veil or gloves\",\n          \"Cutting hair or nails\",\n          \"Perfume or fragrances\",\n          \"Hunting or killing animals\",\n          \"Sexual relations or lustful behavior\",\n          \"Arguing or disputing with others\",\n          \"Fighting or violence\",\n          \"Disobedience to Allah or sin\"\n        ]\n      },\n      {\n        title: \"Days of Hajj\",\n        description: \"Sacred timing of Hajj rituals\",\n        details: [\n          \"7th Dhul-Hijjah - Day of Tarwiyah (preparation)\",\n          \"8th Dhul-Hijjah - Pilgrims proceed to Mina\",\n          \"9th Dhul-Hijjah - Day of Arafah (most important day of Hajj)\",\n          \"10th Dhul-Hijjah - Eid Al-Adha (Day of Sacrifice and Halq)\",\n          \"11th & 12th Dhul-Hijjah - Days of Tashreeq (stoning ritual days)\",\n          \"13th Dhul-Hijjah - Last day for stoning (optional)\",\n          \"Whole Month - Umrah can be performed anytime in Dhul-Hijjah\"\n        ]\n      }\n    ]\n  }\n];\n\nexport default function Fiqh() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [expandedTopics, setExpandedTopics] = useState<Set<string>>(new Set());\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  const toggleTopic = (topicId: string) => {\n    const newExpanded = new Set(expandedTopics);\n    if (newExpanded.has(topicId)) {\n      newExpanded.delete(topicId);\n    } else {\n      newExpanded.add(topicId);\n    }\n    setExpandedTopics(newExpanded);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <TopNav title=\"Islamic Fiqh\" subtitle=\"Basic Rules & Principles\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"fiqh\" />\n\n      <main className=\"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-8\">\n        <div className=\"mb-6 sm:mb-8\">\n          <h2 className=\"text-2xl sm:text-3xl font-bold mb-2\">Islamic Fiqh (Jurisprudence)</h2>\n          <p className=\"text-sm sm:text-base text-muted-foreground\">\n            Learn the basic rules and principles of Islamic practices\n          </p>\n        </div>\n\n        <Tabs defaultValue=\"wudhu\" className=\"w-full\">\n          <div className=\"overflow-x-auto mb-6\">\n            <TabsList className=\"flex w-full gap-2 p-1 bg-muted rounded-lg\">\n              {fiqhTopics.map((topic) => (\n                <TabsTrigger\n                  key={topic.id}\n                  value={topic.id}\n                  data-testid={`tab-${topic.id}`}\n                  className=\"text-xs sm:text-sm whitespace-nowrap shrink-0\"\n                >\n                  {topic.title.split(\" \")[0]}\n                </TabsTrigger>\n              ))}\n            </TabsList>\n          </div>\n\n          {fiqhTopics.map((topic) => (\n            <TabsContent key={topic.id} value={topic.id} className=\"space-y-4 sm:space-y-6\">\n              <div className=\"mb-6\">\n                <div className=\"flex items-start justify-between gap-2 mb-2\">\n                  <div>\n                    <h2 className=\"text-2xl sm:text-3xl font-bold\">{topic.title}</h2>\n                    <p className=\"text-sm sm:text-base text-muted-foreground mt-1\">{topic.description}</p>\n                  </div>\n                  <span className=\"font-arabic text-xl sm:text-2xl shrink-0\">{topic.arabicTitle}</span>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-1 gap-4 sm:gap-6\">\n                {topic.rules.map((rule, idx) => (\n                  <Card key={idx} className=\"hover-elevate\">\n                    <CardHeader className=\"pb-3 sm:pb-4\">\n                      <div className=\"flex items-start justify-between gap-2\">\n                        <div>\n                          <CardTitle className=\"text-base sm:text-lg\">{rule.title}</CardTitle>\n                          <CardDescription className=\"text-xs sm:text-sm mt-1\">{rule.description}</CardDescription>\n                        </div>\n                      </div>\n                    </CardHeader>\n\n                    <CardContent className=\"space-y-4\">\n                      {rule.details && rule.details.length > 0 && (\n                        <div>\n                          <h4 className=\"font-semibold text-sm sm:text-base mb-3\">Details:</h4>\n                          <ul className=\"space-y-2 sm:space-y-3\">\n                            {rule.details.map((detail, detailIdx) => (\n                              <li key={detailIdx} className=\"flex gap-2 sm:gap-3 text-xs sm:text-sm\">\n                                <span className=\"text-primary font-semibold shrink-0 mt-0.5\">â€¢</span>\n                                <span className=\"text-muted-foreground\">{detail}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n\n                      {rule.conditions && rule.conditions.length > 0 && (\n                        <div className=\"pt-2 sm:pt-4 border-t border-border\">\n                          <h4 className=\"font-semibold text-sm sm:text-base mb-3\">Conditions:</h4>\n                          <ul className=\"space-y-2 sm:space-y-3\">\n                            {rule.conditions.map((condition, condIdx) => (\n                              <li key={condIdx} className=\"flex gap-2 sm:gap-3 text-xs sm:text-sm\">\n                                <span className=\"text-primary font-semibold shrink-0 mt-0.5\">âœ“</span>\n                                <span className=\"text-muted-foreground\">{condition}</span>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            </TabsContent>\n          ))}\n        </Tabs>\n      </main>\n    </div>\n  );\n}\n","size_bytes":23216},"client/src/hooks/use-voice-recognition.ts":{"content":"import { useEffect, useState, useCallback } from \"react\";\n\ninterface VoiceRecognitionResult {\n  transcript: string;\n  isFinal: boolean;\n}\n\nexport function useVoiceRecognition() {\n  const [isListening, setIsListening] = useState(false);\n  const [transcript, setTranscript] = useState(\"\");\n  const [error, setError] = useState<string | null>(null);\n  const [recognition, setRecognition] = useState<any>(null);\n\n  useEffect(() => {\n    const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\n    if (!SpeechRecognition) {\n      setError(\"Speech Recognition not supported in your browser\");\n      return;\n    }\n\n    const recognitionInstance = new SpeechRecognition();\n    recognitionInstance.continuous = true; // Keep listening for longer speech\n    recognitionInstance.interimResults = true;\n    \n    // Try generic \"ar\" first, then ar-SA, then let browser try both\n    // Chrome/Firefox handle \"ar\" better for Quranic recitation\n    recognitionInstance.lang = \"ar\";\n\n    recognitionInstance.onstart = () => {\n      setIsListening(true);\n      setError(null);\n      setTranscript(\"\");\n    };\n\n    recognitionInstance.onresult = (event: any) => {\n      let interim = \"\";\n      let final = \"\";\n      \n      for (let i = event.resultIndex; i < event.results.length; i++) {\n        const text = event.results[i][0].transcript;\n        if (event.results[i].isFinal) {\n          final += text + \" \";\n        } else {\n          interim += text + \" \";\n        }\n      }\n      \n      // Prioritize final results, but show interim for real-time feedback\n      if (final.trim()) {\n        setTranscript(final.trim());\n      } else if (interim.trim()) {\n        setTranscript(interim.trim());\n      }\n    };\n\n    recognitionInstance.onerror = (event: any) => {\n      console.error(\"Speech Recognition Error:\", event.error);\n      // Don't show error for \"aborted\" - that's normal when user stops\n      if (event.error !== \"aborted\") {\n        setError(`Error: ${event.error}. Please check your microphone.`);\n      }\n      setIsListening(false);\n    };\n\n    recognitionInstance.onend = () => {\n      setIsListening(false);\n    };\n\n    setRecognition(recognitionInstance);\n  }, []);\n\n  const startListening = useCallback(() => {\n    if (recognition) {\n      try {\n        setTranscript(\"\");\n        setError(null);\n        recognition.start();\n      } catch (err) {\n        console.error(\"Error starting recognition:\", err);\n      }\n    }\n  }, [recognition]);\n\n  const stopListening = useCallback(() => {\n    if (recognition) {\n      try {\n        recognition.stop();\n      } catch (err) {\n        console.error(\"Error stopping recognition:\", err);\n      }\n    }\n  }, [recognition]);\n\n  return {\n    isListening,\n    transcript,\n    error,\n    startListening,\n    stopListening,\n  };\n}\n","size_bytes":2820},"client/src/pages/NooraniBaida.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Volume2, BookOpen } from \"lucide-react\";\n\nconst nooraaniContent = {\n  intro: \"Noorani Qaida is the foundation for learning to read the Quran with proper pronunciation and rules.\",\n  lessons: [\n    {\n      title: \"Lesson 1: The 28 Arabic Letters (Alif Baa)\",\n      content: `\nØ§ Ø¨ Øª Ø« Ø¬ Ø­ Ø® Ø¯ Ø° Ø± Ø² Ø³ Ø´ Øµ Ø¶ Ø· Ø¸ Ø¹ Øº Ù Ù‚ Ùƒ Ù„ Ù… Ù† Ù‡ Ùˆ ÙŠ\n\nAlif - Baa - Taa - Thaa - Jeem - Haa - Khaa - Dal - Thal - Raa - Zay\nSeen - Sheen - Saad - Daad - Taa - Zaa - Ain - Ghain - Faa - Qaaf - Kaaf\nLam - Meem - Noon - Haa - Waw - Yaa\n\nEach letter has 4 forms:\nâ€¢ Beginning of word\nâ€¢ Middle of word  \nâ€¢ End of word\nâ€¢ Standalone\n      `\n    },\n    {\n      title: \"Lesson 2: Short Vowels (Harakaat)\",\n      content: `\n1. FATHA (Ù) - sounds like 'a' in \"cat\"\n   Ø¨Ù (ba) - pronounced \"bah\"\n\n2. DAMMA (Ù) - sounds like 'u' in \"put\"\n   Ø¨Ù (bu) - pronounced \"boo\"\n\n3. KASRA (Ù) - sounds like 'i' in \"sit\"\n   Ø¨Ù (bi) - pronounced \"bee\"\n\n4. SUKUN (Ù’) - no vowel sound\n   Ø¨Ù’ (b) - consonant only\n      `\n    },\n    {\n      title: \"Lesson 3: Long Vowels (Madd)\",\n      content: `\n1. ALIF - extends 'a' sound\n   Ø¢ or Ø§Ù = \"aaa\"\n\n2. WAW - extends 'u' sound\n   Ù€ÙˆÙ = \"uuu\"\n\n3. YAA - extends 'i' sound\n   Ù€ÙŠÙ = \"iii\"\n\nDuration: Hold long vowels for 2-3 beats\n      `\n    },\n    {\n      title: \"Lesson 4: Tanwin (Nunation)\",\n      content: `\nAdding 'n' sound to the end:\n\n1. Fathatan (Ù‹) = \"an\" \n   Ù…ÙØ­ÙÙ…ÙÙ‘Ø¯ÙŒ (Muhammadan)\n\n2. Dammatan (ÙŒ) = \"un\"\n   ÙƒÙØªÙØ§Ø¨ÙŒ (kitabun)\n\n3. Kasratan (Ù) = \"in\"\n   Ø¬ÙÙ†ÙÙ‘Ø©ÙŒ (janatin)\n      `\n    },\n    {\n      title: \"Lesson 5: Shadda (Double Letter)\",\n      content: `\nThe Shadda (Ù‘) means the letter is pronounced twice:\n\nÙ…ÙØ±ÙÙ‘ (marra) - \"passed\" - the 'r' is doubled\nØ³ÙØ±ÙÙ‘ (sarra) - \"gladdened\" - the 'r' is doubled\n\nWhen a letter has Shadda, hold it for 2 beats.\n      `\n    },\n    {\n      title: \"Lesson 6: Connecting Letters\",\n      content: `\n28 Arabic letters, 22 connect to the right, 6 do not:\n\nNon-connecting letters:\nØ§ Ø¯ Ø° Ø± Ø² Ùˆ\n\nConnecting letters connect within words to make reading flow.\n\nExample:\nØ¹Ù„Ù… ('ilm) - knowledge - letters connect smoothly\n      `\n    },\n    {\n      title: \"Lesson 7: Tajweed Rules - Noon Sakinah Rules\",\n      content: `\nWhen Noon (Ù†) has Sukun (no vowel):\n\n1. IZHAR (clear) - before throat letters\n   Ù†Ù’ + Ø­ Ø¹ Ù‡ Øº Ø® = pronounced clearly\n\n2. IDGHAM (merge) - before specific letters\n   Ù†Ù’ + ÙŠ Ù† Ù… Ù„ Ùˆ Ø± = merged with next letter\n\n3. IQLAB (convert) - before Ba\n   Ù†Ù’ + Ø¨ = pronounced as \"m\"\n\n4. IKHFAA (hide) - before other letters\n   Ù†Ù’ = hidden soft 'n'\n      `\n    },\n    {\n      title: \"Lesson 8: Meem Sakinah Rules\",\n      content: `\nWhen Meem (Ù…) has Sukun (no vowel):\n\n1. IDGHAM - before Meem\n   Ù…Ù’ + Ù… = pronounced as one extended meem\n\n2. IKHFAA - before Ba\n   Ù…Ù’ + Ø¨ = hidden soft 'm' (lips come close but don't seal)\n\n3. IZHAR - before other letters\n   Ù…Ù’ + (all other letters) = pronounced clearly\n      `\n    },\n    {\n      title: \"Lesson 9: Stopping Rules (Waqf)\",\n      content: `\nHow to stop at the end of a word:\n\n1. WAQF AAM (full stop) - complete pause\n   Used at end of sentence or major pause\n\n2. WAQF ASS - permissible pause\n   Can stop but not required\n\n3. WAQF LAZIM - must stop\n   Indicated by (Û›) - must pause here\n\nWhen stopping on a word with vowel:\nDrop the vowel and just say the consonant\nExample: Ù…Ø­Ù…Ø¯ (Muhammadu) â†’ stop at (Muhammad)\n      `\n    }\n  ]\n};\n\nexport default function NooraniBaida() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [selectedLesson, setSelectedLesson] = useState(0);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n      document.documentElement.classList.toggle('dark', savedTheme === 'dark');\n    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      setTheme('dark');\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <TopNav title=\"Noorani Qaida\" subtitle=\"Master Arabic Reading\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"kids\" />\n\n      <main className=\"max-w-4xl mx-auto px-3 sm:px-6 py-4 sm:py-6\">\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <CardTitle>Noorani Qaida - Complete Text Lessons</CardTitle>\n            <CardDescription>Learn to read Arabic and Quranic script with proper pronunciation</CardDescription>\n          </CardHeader>\n        </Card>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3 mb-6\">\n          {nooraaniContent.lessons.map((lesson, index) => (\n            <Button\n              key={index}\n              variant={selectedLesson === index ? \"default\" : \"outline\"}\n              onClick={() => setSelectedLesson(index)}\n              className=\"text-xs sm:text-sm\"\n              data-testid={`btn-lesson-${index}`}\n            >\n              Lesson {index + 1}\n            </Button>\n          ))}\n        </div>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">{nooraaniContent.lessons[selectedLesson].title}</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"prose prose-sm dark:prose-invert max-w-none\">\n              <pre className=\"whitespace-pre-wrap text-sm font-arabic bg-muted/50 p-4 rounded-lg overflow-x-auto\">\n                {nooraaniContent.lessons[selectedLesson].content}\n              </pre>\n            </div>\n          </CardContent>\n        </Card>\n\n\n        <div className=\"mt-8 p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg\">\n          <p className=\"text-sm text-amber-900 dark:text-amber-100 mb-3\">\n            ğŸ“š <strong>Study Guide:</strong> Work through each lesson sequentially. Spend time on the Arabic letters first, then progress through vowels, rules, and advanced tajweed.\n          </p>\n          <p className=\"text-xs text-amber-800 dark:text-amber-200\">\n            For best results: Read, understand, and practice pronouncing each lesson multiple times before moving to the next.\n          </p>\n        </div>\n      </main>\n    </div>\n  );\n}\n","size_bytes":6820},"client/src/pages/AllSurahs.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Search, BookOpen } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { TopNav } from \"@/components/TopNav\";\n\ninterface Surah {\n  number: number;\n  name: string;\n  arabicName: string;\n  ayatCount: number;\n  para: string;\n  revelation: \"Meccan\" | \"Medinan\";\n  summary: string;\n  theme: string;\n}\n\nconst surahs: Surah[] = [\n  { number: 1, name: \"Al-Fatihah\", arabicName: \"Ø§Ù„ÙØ§ØªØ­Ø©\", ayatCount: 7, para: \"1\", revelation: \"Meccan\", theme: \"The Opening, Prayer\", summary: \"The opening chapter and foundation of Islamic prayer. A supplication for guidance, containing the core principles of Islamic faith and seeking the straight path.\" },\n  { number: 2, name: \"Al-Baqarah\", arabicName: \"Ø§Ù„Ø¨Ù‚Ø±Ø©\", ayatCount: 286, para: \"1-3\", revelation: \"Medinan\", theme: \"The Cow\", summary: \"The longest surah addressing the Muslim community's social, legal, and spiritual matters including fasting, pilgrimage, banking, family law, and moral conduct.\" },\n  { number: 3, name: \"Al-Imran\", arabicName: \"Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†\", ayatCount: 200, para: \"3-4\", revelation: \"Medinan\", theme: \"The Family of Imran\", summary: \"Discusses the family of Imran, Jesus' birth, Islamic teachings versus other faiths, and encourages steadfastness in belief and community.\" },\n  { number: 4, name: \"An-Nisa\", arabicName: \"Ø§Ù„Ù†Ø³Ø§Ø¡\", ayatCount: 176, para: \"4-5\", revelation: \"Medinan\", theme: \"The Women\", summary: \"Addresses women's rights, inheritance laws, guardianship, marriage, and social justice, establishing comprehensive principles for women's dignity and protection.\" },\n  { number: 5, name: \"Al-Maidah\", arabicName: \"Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©\", ayatCount: 120, para: \"6-7\", revelation: \"Medinan\", theme: \"The Table\", summary: \"Covers lawful and unlawful food, covenant with believers, justice, and warns against those who reject faith after understanding the truth.\" },\n  { number: 6, name: \"Al-An'am\", arabicName: \"Ø§Ù„Ø£Ù†Ø¹Ø§Ù…\", ayatCount: 165, para: \"7-8\", revelation: \"Meccan\", theme: \"The Cattle\", summary: \"Emphasizes tawheed (monotheism), refutes polytheism, and uses examples from creation to demonstrate Allah's oneness and wisdom in creation.\" },\n  { number: 7, name: \"Al-A'raf\", arabicName: \"Ø§Ù„Ø£Ø¹Ø±Ø§Ù\", ayatCount: 206, para: \"8-9\", revelation: \"Meccan\", theme: \"The Heights\", summary: \"Contains stories of prophets, the fall of Satan, and warns against arrogance, establishing the distinction between believers and disbelievers on the Day of Judgment.\" },\n  { number: 8, name: \"Al-Anfal\", arabicName: \"Ø§Ù„Ø£Ù†ÙØ§Ù„\", ayatCount: 75, para: \"9-10\", revelation: \"Medinan\", theme: \"The Spoils\", summary: \"Addresses the Battle of Badr, war ethics, distribution of spoils, and emphasizes unity, obedience, and trust in Allah during conflict.\" },\n  { number: 9, name: \"At-Taubah\", arabicName: \"Ø§Ù„ØªÙˆØ¨Ø©\", ayatCount: 129, para: \"10-11\", revelation: \"Medinan\", theme: \"The Repentance\", summary: \"Discusses the breaking of treaties, conditions of Hajj, Jizya tax, and emphasizes sincere repentance and commitment to Allah's path.\" },\n  { number: 10, name: \"Yunus\", arabicName: \"ÙŠÙˆÙ†Ø³\", ayatCount: 109, para: \"11-12\", revelation: \"Meccan\", theme: \"Jonah\", summary: \"Narrates Prophet Yunus's story, emphasizes the Quran's guidance, warns of consequences of rejection, and invites reflection on divine signs.\" },\n  { number: 11, name: \"Hud\", arabicName: \"Ù‡ÙˆØ¯\", ayatCount: 123, para: \"12\", revelation: \"Meccan\", theme: \"Hud\", summary: \"Contains stories of prophets sending warnings to their people, emphasizing patience, trust, and the consistent pattern of divine punishment for rejectors.\" },\n  { number: 12, name: \"Yusuf\", arabicName: \"ÙŠÙˆØ³Ù\", ayatCount: 111, para: \"12-13\", revelation: \"Meccan\", theme: \"Joseph\", summary: \"The most detailed story in the Quran about Prophet Yusuf's trials, patience, and triumph, illustrating divine wisdom and justice in all circumstances.\" },\n  { number: 13, name: \"Ar-Ra'd\", arabicName: \"Ø§Ù„Ø±Ø¹Ø¯\", ayatCount: 43, para: \"13\", revelation: \"Medinan\", theme: \"The Thunder\", summary: \"Describes natural phenomena as signs of Allah's power, reassures the Prophet, and emphasizes that truth will ultimately prevail over falsehood.\" },\n  { number: 14, name: \"Ibrahim\", arabicName: \"Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…\", ayatCount: 52, para: \"13-14\", revelation: \"Meccan\", theme: \"Abraham\", summary: \"Narrates Prophet Ibrahim's struggle against idolatry, his supplications, and the consequences of gratitude and ingratitude in individual and collective life.\" },\n  { number: 15, name: \"Al-Hijr\", arabicName: \"Ø§Ù„Ø­Ø¬Ø±\", ayatCount: 99, para: \"14\", revelation: \"Meccan\", theme: \"The Rocky Tract\", summary: \"Addresses concerns about the Quran's revelation, mentions the destruction of past peoples, and assures the Prophet of divine protection and support.\" },\n  { number: 16, name: \"An-Nahl\", arabicName: \"Ø§Ù„Ù†Ø­Ù„\", ayatCount: 128, para: \"14-15\", revelation: \"Meccan\", theme: \"The Bee\", summary: \"Reflects on divine blessings (livestock, honey, water) as signs of Allah's care, and emphasizes gratitude, family relations, and moral conduct.\" },\n  { number: 17, name: \"Al-Isra\", arabicName: \"Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡\", ayatCount: 111, para: \"15\", revelation: \"Meccan\", theme: \"The Night Journey\", summary: \"Describes the Prophet's night journey and ascension, emphasizing moral conduct, respect for parents, and the Quran's comprehensive guidance.\" },\n  { number: 18, name: \"Al-Kahf\", arabicName: \"Ø§Ù„ÙƒÙ‡Ù\", ayatCount: 110, para: \"15-16\", revelation: \"Meccan\", theme: \"The Cave\", summary: \"Contains stories of the Companions of the Cave, Dhul-Qarnayn's wall, emphasizing faith's protection and the protection from trials by remembering Allah.\" },\n  { number: 19, name: \"Maryam\", arabicName: \"Ù…Ø±ÙŠÙ…\", ayatCount: 98, para: \"16\", revelation: \"Meccan\", theme: \"Mary\", summary: \"Narrates the miraculous birth of Jesus and John, emphasizing Allah's power over natural laws and the importance of prophetic lineage.\" },\n  { number: 20, name: \"Taha\", arabicName: \"Ø·Ù‡\", ayatCount: 135, para: \"16\", revelation: \"Meccan\", theme: \"Ta Ha\", summary: \"Covers Prophet Musa's commission, the golden calf incident, and warns against being led astray after receiving guidance.\" },\n  { number: 21, name: \"Al-Anbiya\", arabicName: \"Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡\", ayatCount: 112, para: \"17\", revelation: \"Meccan\", theme: \"The Prophets\", summary: \"Reviews stories of various prophets, their miraculous acts, and emphasizes the resurrection and divine justice on the Day of Judgment.\" },\n  { number: 22, name: \"Al-Hajj\", arabicName: \"Ø§Ù„Ø­Ø¬\", ayatCount: 78, para: \"17-18\", revelation: \"Medinan\", theme: \"The Pilgrimage\", summary: \"Describes Hajj rituals and their spiritual significance, encourages sacrifice for Allah, and emphasizes unity of believers from all nations.\" },\n  { number: 23, name: \"Al-Mu'minun\", arabicName: \"Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†\", ayatCount: 118, para: \"18\", revelation: \"Meccan\", theme: \"The Believers\", summary: \"Describes the characteristics of successful believers, warns the disbelievers, and emphasizes the sequential creation of humans and divine justice.\" },\n  { number: 24, name: \"An-Nur\", arabicName: \"Ø§Ù„Ù†ÙˆØ±\", ayatCount: 64, para: \"18\", revelation: \"Medinan\", theme: \"The Light\", summary: \"Addresses personal conduct, modesty, rules for visiting homes, and contains the famous Light Verse depicting Allah's guidance as illumination.\" },\n  { number: 25, name: \"Al-Furqan\", arabicName: \"Ø§Ù„ÙØ±Ù‚Ø§Ù†\", ayatCount: 77, para: \"18-19\", revelation: \"Meccan\", theme: \"The Criterion\", summary: \"Emphasizes the Quran as the criterion distinguishing truth from falsehood, warns of the Day of Judgment, and encourages humble worship.\" },\n  { number: 26, name: \"Ash-Shuara\", arabicName: \"Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡\", ayatCount: 227, para: \"19-20\", revelation: \"Meccan\", theme: \"The Poets\", summary: \"Contains detailed stories of prophets, refutes polytheism through their narratives, and concludes with the contrast between believers and disbelievers.\" },\n  { number: 27, name: \"An-Naml\", arabicName: \"Ø§Ù„Ù†Ù…Ù„\", ayatCount: 93, para: \"20\", revelation: \"Meccan\", theme: \"The Ant\", summary: \"Narrates Sulayman's kingdom, his dialogue with the ant, the Queen of Sheba's throne, and emphasizes gratitude and divine wisdom in governance.\" },\n  { number: 28, name: \"Al-Qasas\", arabicName: \"Ø§Ù„Ù‚ØµØµ\", ayatCount: 88, para: \"20-21\", revelation: \"Meccan\", theme: \"The Stories\", summary: \"Tells the comprehensive story of Prophet Musa's birth, escape, refuge, and return to Egypt, emphasizing divine providence and protection.\" },\n  { number: 29, name: \"Al-Ankabut\", arabicName: \"Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª\", ayatCount: 69, para: \"21\", revelation: \"Meccan\", theme: \"The Spider\", summary: \"Warns that faith requires trial and patience, emphasizes the weakness of idolatry, and encourages believers to serve Allah sincerely.\" },\n  { number: 30, name: \"Ar-Rum\", arabicName: \"Ø§Ù„Ø±ÙˆÙ…\", ayatCount: 60, para: \"21\", revelation: \"Meccan\", theme: \"The Romans\", summary: \"Predicts the Byzantine victory, reflects on divine signs in creation, and emphasizes the resurrection and accountability on the Day of Judgment.\" },\n  { number: 31, name: \"Luqman\", arabicName: \"Ù„Ù‚Ù…Ø§Ù†\", ayatCount: 34, para: \"21-22\", revelation: \"Meccan\", theme: \"Luqman\", summary: \"Contains Luqman's moral and ethical teachings to his son, emphasizing wisdom, gratitude, respect for parents, and obedience to Allah.\" },\n  { number: 32, name: \"As-Sajdah\", arabicName: \"Ø§Ù„Ø³Ø¬Ø¯Ø©\", ayatCount: 30, para: \"22\", revelation: \"Meccan\", theme: \"The Prostration\", summary: \"Describes the creation of humans in six days, emphasizes the Quran's truth, and encourages remembrance and prostration before Allah.\" },\n  { number: 33, name: \"Al-Ahzab\", arabicName: \"Ø§Ù„Ø£Ø­Ø²Ø§Ø¨\", ayatCount: 73, para: \"22\", revelation: \"Medinan\", theme: \"The Combined Forces\", summary: \"Addresses the Battle of the Trench, rules for the Prophet's wives, etiquette of visiting, and the importance of obedience to the Prophet.\" },\n  { number: 34, name: \"Saba\", arabicName: \"Ø³Ø¨Ø£\", ayatCount: 54, para: \"22-23\", revelation: \"Meccan\", theme: \"Sheba\", summary: \"Narrates the story of the People of Sheba, their destruction due to ingratitude, and emphasizes gratitude as the key to maintaining divine blessings.\" },\n  { number: 35, name: \"Fatir\", arabicName: \"ÙØ§Ø·Ø±\", ayatCount: 45, para: \"22-23\", revelation: \"Meccan\", theme: \"The Originator\", summary: \"Emphasizes Allah as the Creator of all, describes the diversity of creation as signs, and warns of consequences of rejecting guidance.\" },\n  { number: 36, name: \"Ya-Sin\", arabicName: \"ÙŠØ³\", ayatCount: 83, para: \"23\", revelation: \"Meccan\", theme: \"Ya Sin\", summary: \"Emphasizes the Quran's guidance, warns of resurrection, and contains the story of a believer calling his people to believe in the messengers.\" },\n  { number: 37, name: \"As-Saffat\", arabicName: \"Ø§Ù„ØµØ§ÙØ§Øª\", ayatCount: 182, para: \"23-24\", revelation: \"Meccan\", theme: \"The Ranks\", summary: \"Praises angels in their ranks, contains stories of prophets, and warns of punishment for those who reject the message and claim falsehoods.\" },\n  { number: 38, name: \"As-Sad\", arabicName: \"Øµ\", ayatCount: 88, para: \"23-24\", revelation: \"Meccan\", theme: \"The Letter Sad\", summary: \"Contains stories of David, Solomon, and Job, emphasizes repentance and forgiveness, and warns of the final judgment and accountability.\" },\n  { number: 39, name: \"Az-Zumar\", arabicName: \"Ø§Ù„Ø²Ù…Ø±\", ayatCount: 75, para: \"24\", revelation: \"Meccan\", theme: \"The Groups\", summary: \"Describes people in different groups on the Day of Judgment, emphasizes sincere worship of Allah alone, and warns of false gods and partners.\" },\n  { number: 40, name: \"Ghafir\", arabicName: \"ØºØ§ÙØ±\", ayatCount: 85, para: \"24\", revelation: \"Meccan\", theme: \"The Forgiver\", summary: \"Emphasizes Allah's forgiveness, describes the Pharaoh's believer arguing with him, and assures believers of divine support despite opposition.\" },\n  { number: 41, name: \"Fussilat\", arabicName: \"ÙØµÙ„Øª\", ayatCount: 54, para: \"24-25\", revelation: \"Meccan\", theme: \"Explained in Detail\", summary: \"Details the creation of earth in six days, refutes disbelievers' arguments, and emphasizes the Quran's clear signs and miracles.\" },\n  { number: 42, name: \"Ash-Shura\", arabicName: \"Ø§Ù„Ø´ÙˆØ±Ù‰\", ayatCount: 53, para: \"25\", revelation: \"Meccan\", theme: \"Consultation\", summary: \"Emphasizes consultation in governance, warns of arrogance, and describes believers' characteristics and reward in Paradise.\" },\n  { number: 43, name: \"Az-Zukhruf\", arabicName: \"Ø§Ù„Ø²Ø®Ø±Ù\", ayatCount: 89, para: \"25\", revelation: \"Meccan\", theme: \"The Ornament\", summary: \"Warns against being distracted by worldly adornment, tells of Moses' message, and emphasizes the truth of the Quran despite disbelief.\" },\n  { number: 44, name: \"Ad-Dukhan\", arabicName: \"Ø§Ù„Ø¯Ø®Ø§Ù†\", ayatCount: 59, para: \"25\", revelation: \"Meccan\", theme: \"The Smoke\", summary: \"Describes divine mercy and warning signs, narrates the Pharaoh's rejection, and emphasizes the Quran's clarity and the certainty of resurrection.\" },\n  { number: 45, name: \"Al-Jathiyah\", arabicName: \"Ø§Ù„Ø¬Ø§Ø«ÙŠØ©\", ayatCount: 37, para: \"25\", revelation: \"Meccan\", theme: \"The Kneeling\", summary: \"Reflects on creation and resurrection as signs, warns against following desires, and emphasizes the Quran as a mercy and guidance for believers.\" },\n  { number: 46, name: \"Al-Ahqaf\", arabicName: \"Ø§Ù„Ø£Ø­Ù‚Ø§Ù\", ayatCount: 35, para: \"26\", revelation: \"Meccan\", theme: \"The Wind Curves\", summary: \"Narrates the story of Hud, warns of arrogance leading to destruction, and mentions jinn believing in the Quran and warning their people.\" },\n  { number: 47, name: \"Muhammad\", arabicName: \"Ù…Ø­Ù…Ø¯\", ayatCount: 38, para: \"26\", revelation: \"Medinan\", theme: \"Muhammad\", summary: \"Addresses believers about fighting in defense of faith, warns of outcomes, and emphasizes obedience to Allah and the Prophet.\" },\n  { number: 48, name: \"Al-Fath\", arabicName: \"Ø§Ù„ÙØªØ­\", ayatCount: 29, para: \"26\", revelation: \"Medinan\", theme: \"The Victory\", summary: \"Announces the Treaty of Hudaybiyyah as a clear victory, emphasizes believers' commitment, and predicts the conquest of Makkah.\" },\n  { number: 49, name: \"Al-Hujurat\", arabicName: \"Ø§Ù„Ø­Ø¬Ø±Ø§Øª\", ayatCount: 18, para: \"26\", revelation: \"Medinan\", theme: \"The Rooms\", summary: \"Establishes protocols for believers' conduct with the Prophet and each other, emphasizing respect, verification of news, and reconciliation.\" },\n  { number: 50, name: \"Qaf\", arabicName: \"Ù‚\", ayatCount: 45, para: \"26-27\", revelation: \"Meccan\", theme: \"Qaf\", summary: \"Emphasizes the Quran's warning and mercy, depicts the Day of Resurrection vividly, and assures the Prophet of protection against disbelief.\" },\n  { number: 51, name: \"Ad-Dhariyat\", arabicName: \"Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª\", ayatCount: 60, para: \"27\", revelation: \"Meccan\", theme: \"The Scattering Winds\", summary: \"Uses natural phenomena as oaths to establish truth, narrates Abraham's story, and warns of consequences for those who reject divine signs.\" },\n  { number: 52, name: \"At-Tur\", arabicName: \"Ø§Ù„Ø·ÙˆØ±\", ayatCount: 49, para: \"27\", revelation: \"Meccan\", theme: \"The Mount\", summary: \"Describes the Day of Judgment with vivid imagery, reassures the Prophet, and warns of punishment for the prideful and arrogant.\" },\n  { number: 53, name: \"An-Najm\", arabicName: \"Ø§Ù„Ù†Ø¬Ù…\", ayatCount: 62, para: \"27\", revelation: \"Meccan\", theme: \"The Star\", summary: \"Emphasizes the Prophet's honesty and divine guidance, warns against following desires instead of revelation, and describes accountability on the Day of Judgment.\" },\n  { number: 54, name: \"Al-Qamar\", arabicName: \"Ø§Ù„Ù‚Ù…Ø±\", ayatCount: 55, para: \"27-28\", revelation: \"Meccan\", theme: \"The Moon\", summary: \"Narrates stories of Noah, Hud, Salih, and Lot warning their peoples, describing destruction of rejectors, and the splitting of the moon as a sign.\" },\n  { number: 55, name: \"Ar-Rahman\", arabicName: \"Ø§Ù„Ø±Ø­Ù…Ù†\", ayatCount: 78, para: \"27-28\", revelation: \"Medinan\", theme: \"The Most Merciful\", summary: \"Emphasizes Allah's mercy, describes Paradise and its blessings in detail, and encourages gratitude and remembrance of divine bounties.\" },\n  { number: 56, name: \"Al-Waqi'ah\", arabicName: \"Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©\", ayatCount: 96, para: \"27-28\", revelation: \"Meccan\", theme: \"The Inevitable\", summary: \"Describes the certainty of the resurrection, categorizes people into three groups on the Day of Judgment, and emphasizes the Quran's preservation.\" },\n  { number: 57, name: \"Al-Hadid\", arabicName: \"Ø§Ù„Ø­Ø¯ÙŠØ¯\", ayatCount: 29, para: \"28\", revelation: \"Medinan\", theme: \"The Iron\", summary: \"Addresses believers' roles in spreading Islam, encourages charity and spending in the way of Allah, and emphasizes faith as the foundation of action.\" },\n  { number: 58, name: \"Al-Mujadalah\", arabicName: \"Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©\", ayatCount: 22, para: \"28\", revelation: \"Medinan\", theme: \"The Dispute\", summary: \"Addresses rules for disputation and argument, establishes protocols for believers' gatherings, and emphasizes justice and truthfulness in disputes.\" },\n  { number: 59, name: \"Al-Hashr\", arabicName: \"Ø§Ù„Ø­Ø´Ø±\", ayatCount: 24, para: \"28\", revelation: \"Medinan\", theme: \"The Gathering\", summary: \"Describes the expulsion of a Jewish tribe, emphasizes unity among believers, and warns of learning from others' mistakes.\" },\n  { number: 60, name: \"Al-Mumtahanah\", arabicName: \"Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©\", ayatCount: 13, para: \"28\", revelation: \"Medinan\", theme: \"The Woman to be Tested\", summary: \"Establishes rules for believers regarding relations with disbelievers, emphasizing loyalty to Allah and His Prophet over family ties.\" },\n  { number: 61, name: \"As-Saff\", arabicName: \"Ø§Ù„ØµÙ\", ayatCount: 14, para: \"28\", revelation: \"Medinan\", theme: \"The Row\", summary: \"Criticizes inconsistency between saying and doing, emphasizes united action against falsehood, and mentions Jesus' prophecy of the Prophet Muhammad.\" },\n  { number: 62, name: \"Al-Jumu'ah\", arabicName: \"Ø§Ù„Ø¬Ù…Ø¹Ø©\", ayatCount: 11, para: \"28\", revelation: \"Medinan\", theme: \"The Congregation\", summary: \"Emphasizes the importance of Friday prayer congregation, warns against preoccupation with worldly matters, and encourages seeking knowledge from Allah.\" },\n  { number: 63, name: \"Al-Munafiqun\", arabicName: \"Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†\", ayatCount: 11, para: \"28\", revelation: \"Medinan\", theme: \"The Hypocrites\", summary: \"Exposes the characteristics of hypocrites, warns believers against their deception, and emphasizes sincerity and dedication to Allah's cause.\" },\n  { number: 64, name: \"At-Taghabun\", arabicName: \"Ø§Ù„ØªØºØ§Ø¨Ù†\", ayatCount: 18, para: \"28-29\", revelation: \"Medinan\", theme: \"The Mutual Deception\", summary: \"Describes the Day of Judgment as mutual loss and gain for believers and disbelievers, encourages family kindness, and emphasizes obedience to Allah.\" },\n  { number: 65, name: \"At-Talaq\", arabicName: \"Ø§Ù„Ø·Ù„Ø§Ù‚\", ayatCount: 12, para: \"28-29\", revelation: \"Medinan\", theme: \"The Divorce\", summary: \"Establishes legal procedures and ethics for divorce, emphasizes reconciliation, and addresses women's and men's rights during marital separation.\" },\n  { number: 66, name: \"At-Tahrim\", arabicName: \"Ø§Ù„ØªØ­Ø±ÙŠÙ…\", ayatCount: 12, para: \"29\", revelation: \"Medinan\", theme: \"The Prohibition\", summary: \"Addresses an incident between the Prophet and his wives, establishes rules against false oaths, and emphasizes obedience and family unity.\" },\n  { number: 67, name: \"Al-Mulk\", arabicName: \"Ø§Ù„Ù…Ù„Ùƒ\", ayatCount: 30, para: \"29\", revelation: \"Meccan\", theme: \"The Dominion\", summary: \"Emphasizes Allah's sovereignty and perfect creation, warns of resurrection and accountability, and encourages reflection on divine wisdom in creation.\" },\n  { number: 68, name: \"Al-Qalam\", arabicName: \"Ø§Ù„Ù‚Ù„Ù…\", ayatCount: 52, para: \"29\", revelation: \"Meccan\", theme: \"The Pen\", summary: \"Defends the Prophet's character against accusations, warns of severe punishment for the arrogant, and encourages moral character and truthfulness.\" },\n  { number: 69, name: \"Al-Haqqah\", arabicName: \"Ø§Ù„Ø­Ø§Ù‚Ø©\", ayatCount: 52, para: \"29\", revelation: \"Meccan\", theme: \"The Reality\", summary: \"Describes the terrible Day of Judgment, warns of punishment for rejectors, and emphasizes the certainty of resurrection and divine justice.\" },\n  { number: 70, name: \"Al-Ma'arij\", arabicName: \"Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬\", ayatCount: 44, para: \"29\", revelation: \"Meccan\", theme: \"The Ways of Ascent\", summary: \"Describes the Day of Resurrection with vivid imagery, emphasizes human ingratitude and haste, and highlights the virtues of patient believers.\" },\n  { number: 71, name: \"Nuh\", arabicName: \"Ù†ÙˆØ­\", ayatCount: 28, para: \"29\", revelation: \"Meccan\", theme: \"Noah\", summary: \"Presents Noah's preaching and rejection by his people for 950 years, emphasizes perseverance in calling to Allah despite opposition.\" },\n  { number: 72, name: \"Al-Jinn\", arabicName: \"Ø§Ù„Ø¬Ù†\", ayatCount: 28, para: \"29-30\", revelation: \"Meccan\", theme: \"The Jinn\", summary: \"Describes jinn listening to the Quran and believing, warns of protection through Quranic recitation, and emphasizes Allah's guidance and justice.\" },\n  { number: 73, name: \"Al-Muzzammil\", arabicName: \"Ø§Ù„Ù…Ø²Ù…Ù„\", ayatCount: 20, para: \"29-30\", revelation: \"Meccan\", theme: \"The Enveloped One\", summary: \"Commands night prayer and Quran recitation, warns of severe punishment for rejectors, and emphasizes patience and trust in Allah.\" },\n  { number: 74, name: \"Al-Muddaththir\", arabicName: \"Ø§Ù„Ù…Ø¯Ø«Ø±\", ayatCount: 56, para: \"29-30\", revelation: \"Meccan\", theme: \"The Cloaked One\", summary: \"Describes the Prophet's commission and initial revelation, warns of Hell's severity, and emphasizes the Quran's certainty and divine origin.\" },\n  { number: 75, name: \"Al-Qiyamah\", arabicName: \"Ø§Ù„Ù‚ÙŠØ§Ù…Ø©\", ayatCount: 40, para: \"30\", revelation: \"Meccan\", theme: \"The Resurrection\", summary: \"Emphasizes the certainty of resurrection and the Final Day, warns against swearing false oaths, and describes the certainty of accountability.\" },\n  { number: 76, name: \"Al-Insan\", arabicName: \"Ø§Ù„Ø¥Ù†Ø³Ø§Ù†\", ayatCount: 31, para: \"30\", revelation: \"Medinan\", theme: \"The Human\", summary: \"Describes the creation of humans and their choice of gratitude or ingratitude, emphasizes Paradise's rewards for the righteous and believers.\" },\n  { number: 77, name: \"Al-Mursalat\", arabicName: \"Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª\", ayatCount: 50, para: \"30\", revelation: \"Meccan\", theme: \"Those Sent Forth\", summary: \"Uses oaths to establish the reality of the Day of Judgment, warns of Hell's punishment, and emphasizes belief in the afterlife.\" },\n  { number: 78, name: \"An-Naba'\", arabicName: \"Ø§Ù„Ù†Ø¨Ø£\", ayatCount: 40, para: \"30\", revelation: \"Meccan\", theme: \"The Great News\", summary: \"Announces the Day of Judgment, describes creation and day/night cycle as signs, and warns of eternal consequences for rejectors and believers alike.\" },\n  { number: 79, name: \"An-Nazi'at\", arabicName: \"Ø§Ù„Ù†Ø§Ø¹\", ayatCount: 46, para: \"30\", revelation: \"Meccan\", theme: \"Those Who Pull Out\", summary: \"Describes the escaping of souls at death, narrates Moses and Pharaoh's story, and warns of the Day of Judgment's reality.\" },\n  { number: 80, name: \"'Abasa\", arabicName: \"Ø¹Ø¨Ø³\", ayatCount: 42, para: \"30\", revelation: \"Meccan\", theme: \"He Frowned\", summary: \"Teaches the Prophet not to turn away a blind believer seeking knowledge, emphasizing that all are equally worthy of guidance and respect.\" },\n  { number: 81, name: \"At-Takwir\", arabicName: \"Ø§Ù„ØªÙƒÙˆÙŠØ±\", ayatCount: 29, para: \"30\", revelation: \"Meccan\", theme: \"The Darkening\", summary: \"Describes cosmic events at the end of the world, emphasizes the Quran as a trustworthy revelation, and warns of the Day of Judgment.\" },\n  { number: 82, name: \"Al-Infitar\", arabicName: \"Ø§Ù„Ø¥Ù†ÙØ·Ø§Ø±\", ayatCount: 19, para: \"30\", revelation: \"Meccan\", theme: \"The Splitting\", summary: \"Describes the Day of Judgment's events, mentions recording angels, and warns of accountability for all deeds before Allah.\" },\n  { number: 83, name: \"Al-Mutaffifin\", arabicName: \"Ø§Ù„Ù…Ø·ÙÙÙŠÙ†\", ayatCount: 36, para: \"30\", revelation: \"Meccan\", theme: \"The Cheaters\", summary: \"Warns against cheating in business and measurements, describes the punishment of the dishonest, and emphasizes the rewards of the righteous.\" },\n  { number: 84, name: \"Al-Inshiqaq\", arabicName: \"Ø§Ù„Ø¥Ù†Ø´Ù‚Ø§Ù‚\", ayatCount: 25, para: \"30\", revelation: \"Meccan\", theme: \"The Splitting Asunder\", summary: \"Describes cosmic transformations on the Day of Judgment, emphasizes every soul's knowledge of its deeds, and warns of accountability.\" },\n  { number: 85, name: \"Al-Buruj\", arabicName: \"Ø§Ù„Ø¨Ø±ÙˆØ¬\", ayatCount: 22, para: \"30\", revelation: \"Meccan\", theme: \"The Constellations\", summary: \"Narrates the story of believers in the ditch persecuted for their faith, warns of divine punishment for oppressors, and emphasizes Allah's protection.\" },\n  { number: 86, name: \"At-Tariq\", arabicName: \"Ø§Ù„Ø·Ø§Ø±Ù‚\", ayatCount: 17, para: \"30\", revelation: \"Meccan\", theme: \"The Night Comer\", summary: \"Emphasizes each soul's accountability for its deeds, warns of the reality of resurrection, and assures believers of divine remembrance.\" },\n  { number: 87, name: \"Al-A'la\", arabicName: \"Ø§Ù„Ø£Ø¹Ù„Ù‰\", ayatCount: 19, para: \"30\", revelation: \"Meccan\", theme: \"The Most High\", summary: \"Praises Allah's majesty and creation, encourages remembrance and purification, and assures Paradise for those who believe and do good.\" },\n  { number: 88, name: \"Al-Ghashiyah\", arabicName: \"Ø§Ù„ØºØ§Ø´ÙŠØ©\", ayatCount: 26, para: \"30\", revelation: \"Meccan\", theme: \"The Overwhelming\", summary: \"Describes the Day of Judgment's overwhelming nature, contrasts the fates of believers and disbelievers, and emphasizes the Quran's warning.\" },\n  { number: 89, name: \"Al-Fajr\", arabicName: \"Ø§Ù„ÙØ¬Ø±\", ayatCount: 30, para: \"30\", revelation: \"Meccan\", theme: \"The Dawn\", summary: \"Uses historical examples of destroyed peoples to warn disbelievers, emphasizes soul's accountability, and promises Paradise for the righteous.\" },\n  { number: 90, name: \"Al-Balad\", arabicName: \"Ø§Ù„Ø¨Ù„Ø¯\", ayatCount: 20, para: \"30\", revelation: \"Meccan\", theme: \"The City\", summary: \"Describes the path to Paradise through spending wealth and freeing slaves, emphasizes difficulty of achieving righteousness, and warns of Hell.\" },\n  { number: 91, name: \"Ash-Shams\", arabicName: \"Ø§Ù„Ø´Ù…Ø³\", ayatCount: 15, para: \"30\", revelation: \"Meccan\", theme: \"The Sun\", summary: \"Uses celestial bodies and creation as signs of Allah's wisdom, emphasizes the soul's choice of piety or sin, and warns of consequences.\" },\n  { number: 92, name: \"Al-Layl\", arabicName: \"Ø§Ù„Ù„ÙŠÙ„\", ayatCount: 21, para: \"30\", revelation: \"Meccan\", theme: \"The Night\", summary: \"Contrasts the rewards of spending for Allah's sake with the punishment of hoarding, emphasizes guidance available to all willing to receive it.\" },\n  { number: 93, name: \"Ad-Duha\", arabicName: \"Ø§Ù„Ø¶Ø­Ù‰\", ayatCount: 11, para: \"30\", revelation: \"Meccan\", theme: \"The Morning Brightness\", summary: \"Consoles the Prophet during a period of silence in revelation, emphasizes Allah's care and provision, and encourages generosity to the needy.\" },\n  { number: 94, name: \"Ash-Sharh\", arabicName: \"Ø§Ù„Ø´Ø±Ø­\", ayatCount: 8, para: \"30\", revelation: \"Meccan\", theme: \"The Opening Up\", summary: \"Emphasizes Allah's easing of difficulties for the Prophet, encourages reliance on Allah, and assures divine help in all endeavors.\" },\n  { number: 95, name: \"At-Tin\", arabicName: \"Ø§Ù„ØªÙŠÙ†\", ayatCount: 8, para: \"30\", revelation: \"Meccan\", theme: \"The Fig\", summary: \"Honors the sacred geography of revelation, emphasizes human dignity, and warns of accountability for those who deny divine guidance.\" },\n  { number: 96, name: \"Al-Alaq\", arabicName: \"Ø§Ù„Ø¹Ù„Ù‚\", ayatCount: 19, para: \"30\", revelation: \"Meccan\", theme: \"The Clot\", summary: \"The first revelation to the Prophet emphasizing knowledge and creation, commands reading and learning, and warns of arrogance and denial.\" },\n  { number: 97, name: \"Al-Qadr\", arabicName: \"Ø§Ù„Ù‚Ø¯Ø±\", ayatCount: 5, para: \"30\", revelation: \"Meccan\", theme: \"The Power\", summary: \"Emphasizes the greatness of Laylat Al-Qadr (Night of Power), describes angels' descending with blessings, and promises peace and mercy.\" },\n  { number: 98, name: \"Al-Bayyinah\", arabicName: \"Ø§Ù„Ø¨ÙŠÙ†Ø©\", ayatCount: 8, para: \"30\", revelation: \"Medinan\", theme: \"The Clear Proof\", summary: \"Emphasizes the clarity of the Quran as proof, describes believers' reward and disbelievers' punishment, and emphasizes truth's clarity.\" },\n  { number: 99, name: \"Az-Zilzal\", arabicName: \"Ø§Ù„Ø²Ù„Ø²Ø§Ù„\", ayatCount: 8, para: \"30\", revelation: \"Medinan\", theme: \"The Earthquake\", summary: \"Describes the earth's shaking on the Day of Judgment, emphasizes accountability for deeds, and warns that all will see results of actions.\" },\n  { number: 100, name: \"Al-Adiyat\", arabicName: \"Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª\", ayatCount: 11, para: \"30\", revelation: \"Meccan\", theme: \"The Courser\", summary: \"Uses oath about galloping horses to emphasize ingratitude, warns of divine punishment, and emphasizes witnessing of deeds.\" },\n  { number: 101, name: \"Al-Qari'ah\", arabicName: \"Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©\", ayatCount: 11, para: \"30\", revelation: \"Meccan\", theme: \"The Calamity\", summary: \"Describes the terrifying events of the Day of Judgment, emphasizes the lightness of good deeds will determine eternal fate.\" },\n  { number: 102, name: \"At-Takathur\", arabicName: \"Ø§Ù„ØªÙƒØ§Ø«Ø±\", ayatCount: 8, para: \"30\", revelation: \"Meccan\", theme: \"The Rivalry in Abundance\", summary: \"Warns against preoccupation with worldly competition and material accumulation, emphasizes perspective on death and accountability.\" },\n  { number: 103, name: \"Al-Asr\", arabicName: \"Ø§Ù„Ø¹ØµØ±\", ayatCount: 3, para: \"30\", revelation: \"Meccan\", theme: \"The Time\", summary: \"Among the shortest surahs, emphasizes that humans are in loss except believers who do good deeds and remain patient in truth.\" },\n  { number: 104, name: \"Al-Humazah\", arabicName: \"Ø§Ù„Ù‡Ù…Ø²Ø©\", ayatCount: 9, para: \"30\", revelation: \"Meccan\", theme: \"The Backbiter\", summary: \"Warns against backbiting and mocking others, describes punishment in Hell for the slanderous, and emphasizes dignity of all believers.\" },\n  { number: 105, name: \"Al-Fil\", arabicName: \"Ø§Ù„ÙÙŠÙ„\", ayatCount: 5, para: \"30\", revelation: \"Meccan\", theme: \"The Elephant\", summary: \"Narrates the historical event when Abraha's army with elephants attacked Makkah, describes divine intervention to protect the Ka'bah.\" },\n  { number: 106, name: \"Quraysh\", arabicName: \"Ù‚Ø±ÙŠØ´\", ayatCount: 4, para: \"30\", revelation: \"Meccan\", theme: \"Quraysh\", summary: \"Reminds Quraysh of Allah's care and provision through trade, encourages gratitude, and implies obligation to worship Allah alone.\" },\n  { number: 107, name: \"Al-Ma'un\", arabicName: \"Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†\", ayatCount: 7, para: \"30\", revelation: \"Meccan\", theme: \"The Assistance\", summary: \"Criticizes those who neglect prayer and withhold charity, emphasizes small acts of kindness, and encourages social responsibility.\" },\n  { number: 108, name: \"Al-Kawthar\", arabicName: \"Ø§Ù„ÙƒÙˆØ«Ø±\", ayatCount: 3, para: \"30\", revelation: \"Meccan\", theme: \"The Abundance\", summary: \"Assures the Prophet of abundance and blessings, encourages prayer, and describes the river of Kawthar in Paradise.\" },\n  { number: 109, name: \"Al-Kafirun\", arabicName: \"Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†\", ayatCount: 6, para: \"30\", revelation: \"Meccan\", theme: \"The Disbelievers\", summary: \"Establishes clear separation from disbelievers' beliefs, maintains respect while rejecting false worship, emphasizes religious freedom and choice.\" },\n  { number: 110, name: \"An-Nasr\", arabicName: \"Ø§Ù„Ù†ØµØ±\", ayatCount: 3, para: \"30\", revelation: \"Medinan\", theme: \"The Succor\", summary: \"Announces victory in Makkah's conquest, encourages celebration through prayer and gratitude, and marks the Prophet's final spiritual message.\" },\n  { number: 111, name: \"Al-Masad\", arabicName: \"Ø§Ù„Ù…Ø³Ø¯\", ayatCount: 5, para: \"30\", revelation: \"Meccan\", theme: \"The Flame\", summary: \"Warns the Prophet's uncle Abu Lahab of punishment, emphasizes divine justice against arrogance and opposition to the Prophet.\" },\n  { number: 112, name: \"Al-Ikhlas\", arabicName: \"Ø§Ù„Ø¥Ø®Ù„Ø§Øµ\", ayatCount: 4, para: \"30\", revelation: \"Meccan\", theme: \"The Sincerity\", summary: \"Defines Allah's oneness and perfection, denies any partnership or comparison, emphasizes pure monotheism as foundation of faith.\" },\n  { number: 113, name: \"Al-Falaq\", arabicName: \"Ø§Ù„ÙÙ„Ù‚\", ayatCount: 5, para: \"30\", revelation: \"Meccan\", theme: \"The Daybreak\", summary: \"Seeks refuge in Allah from evils of darkness and creation, emphasizes divine protection against unseen harms and negative influences.\" },\n  { number: 114, name: \"An-Nas\", arabicName: \"Ø§Ù„Ù†Ø§Ø³\", ayatCount: 6, para: \"30\", revelation: \"Meccan\", theme: \"The Mankind\", summary: \"Seeks refuge in Allah from the Devil's whispers, emphasizes divine protection and guidance for all mankind against evil influences.\" }\n];\n\nexport default function AllSurahs() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      setTheme('dark');\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  const filteredSurahs = surahs.filter(surah =>\n    surah.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    surah.arabicName.includes(searchQuery) ||\n    surah.number.toString().includes(searchQuery) ||\n    surah.theme.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <TopNav title=\"All Surahs\" subtitle=\"114 Chapters of the Quran\" theme={theme} onThemeToggle={toggleTheme} pageIcon=\"surahs\" />\n      \n      <div className=\"sticky top-16 z-30 bg-background/95 backdrop-blur border-b border-border\">\n        <div className=\"max-w-6xl mx-auto px-3 sm:px-6 py-3 sm:py-4\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-muted-foreground\" />\n            <Input\n              placeholder=\"Search Surah by name, number, or theme...\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              className=\"pl-9 sm:pl-10 h-10 sm:h-12 text-sm sm:text-base\"\n              data-testid=\"input-search-surahs\"\n            />\n          </div>\n        </div>\n      </div>\n\n      <main className=\"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-8\">\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl sm:text-3xl font-bold mb-2\">The 114 Surahs of the Quran</h2>\n          <p className=\"text-sm sm:text-base text-muted-foreground\">\n            Complete summaries of all chapters â€¢ {filteredSurahs.length} results found\n          </p>\n        </div>\n\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4\">\n          {filteredSurahs.map((surah) => (\n            <Card key={surah.number} className=\"hover-elevate cursor-pointer transition-all p-3 sm:p-4\">\n              <div className=\"mb-2\">\n                <div className=\"flex items-start justify-between gap-2 mb-2\">\n                  <div>\n                    <h3 className=\"text-sm sm:text-base font-semibold\">{surah.number}. {surah.name}</h3>\n                    <p className=\"text-xs sm:text-sm text-muted-foreground\">{surah.theme}</p>\n                  </div>\n                  <span className=\"font-arabic text-lg sm:text-xl shrink-0\">{surah.arabicName}</span>\n                </div>\n\n                <div className=\"flex flex-wrap gap-2 mb-3 text-xs\">\n                  <span className=\"bg-primary/10 px-2 py-1 rounded\">{surah.ayatCount} Ayat</span>\n                  <span className=\"bg-primary/10 px-2 py-1 rounded\">Para {surah.para}</span>\n                  <span className={`px-2 py-1 rounded ${surah.revelation === 'Meccan' ? 'bg-blue-500/10' : 'bg-green-500/10'}`}>\n                    {surah.revelation}\n                  </span>\n                </div>\n              </div>\n\n              <p className=\"text-xs sm:text-sm text-muted-foreground leading-relaxed line-clamp-3\">\n                {surah.summary}\n              </p>\n            </Card>\n          ))}\n        </div>\n\n        {filteredSurahs.length === 0 && (\n          <div className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No Surahs found matching your search.</p>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n","size_bytes":37320},"client/src/components/VoiceRecognitionButton.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Mic, X, Volume2, Search } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport { useVoiceRecognition } from \"@/hooks/use-voice-recognition\";\nimport { VerseWithTranslations, Surah } from \"@shared/schema\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\n\ninterface VoiceRecognitionButtonProps {\n  verses: VerseWithTranslations[] | undefined;\n  surahs: Surah[] | undefined;\n  currentSurah: number;\n  onNavigate: (surah: number, ayah: number) => void;\n}\n\nfunction extractNumbers(text: string): number[] {\n  const numberMatches = text.match(/[\\dÙ -Ù©Û°-Û¹]+/g) || [];\n  \n  return numberMatches.map(match => {\n    return parseInt(\n      match\n        .replace(/[Ù -Ù©]/g, d => String(d.charCodeAt(0) - 0x0660))\n        .replace(/[Û°-Û¹]/g, d => String(d.charCodeAt(0) - 0x06F0))\n    );\n  });\n}\n\nfunction normalizeArabic(text: string): string {\n  return text\n    .replace(/[\\u064B-\\u0652]/g, '')\n    .replace(/[\\u0640\\u061C\\u200E\\u200F]/g, '')\n    .replace(/Ø£/g, 'Ø§')\n    .replace(/Ø¥/g, 'Ø§')\n    .replace(/Ø¢/g, 'Ø§')\n    .replace(/Ø©/g, 'Ù‡')\n    .replace(/Ù‰/g, 'ÙŠ')\n    .replace(/\\s+/g, ' ')\n    .trim();\n}\n\nexport function VoiceRecognitionButton({\n  verses,\n  surahs,\n  currentSurah,\n  onNavigate,\n}: VoiceRecognitionButtonProps) {\n  const { isListening, transcript, error, startListening, stopListening } =\n    useVoiceRecognition();\n  const [isOpen, setIsOpen] = useState(false);\n  const [matchedVerseText, setMatchedVerseText] = useState<string>(\"\");\n  const [matchScore, setMatchScore] = useState(0);\n  const [matchedSurah, setMatchedSurah] = useState<number | null>(null);\n  const [matchedAyah, setMatchedAyah] = useState<number | null>(null);\n  const [lastProcessedTranscript, setLastProcessedTranscript] = useState(\"\");\n  const [textSearchInput, setTextSearchInput] = useState(\"\");\n  const [textSearchResults, setTextSearchResults] = useState<VerseWithTranslations[]>([]);\n  const [activeTab, setActiveTab] = useState(\"voice\");\n  const [isSearching, setIsSearching] = useState(false);\n\n  useEffect(() => {\n    if (isOpen && !isListening && activeTab === \"voice\") {\n      startListening();\n    }\n  }, [isOpen, isListening, startListening, activeTab]);\n\n  // Process transcript when received\n  useEffect(() => {\n    if (!transcript || transcript === lastProcessedTranscript || isListening) {\n      return;\n    }\n\n    console.log(\"\\n=== PROCESSING TRANSCRIPT ===\");\n    console.log(\"Raw transcript:\", transcript);\n    setLastProcessedTranscript(transcript);\n\n    // Try extracting numbers first (Surah navigation)\n    const numbers = extractNumbers(transcript);\n    \n    if (numbers.length > 0) {\n      const firstNum = numbers[0];\n      \n      if (firstNum >= 1 && firstNum <= 114) {\n        console.log(`âœ… Detected Surah number: ${firstNum}`);\n        const secondNum = numbers.length > 1 ? numbers[1] : 1;\n        setMatchedVerseText(`Surah ${firstNum}${secondNum > 1 ? `, Verse ${secondNum}` : \"\"}`);\n        setMatchScore(1.0);\n        setMatchedSurah(firstNum);\n        setMatchedAyah(secondNum);\n        \n        console.log(`ğŸš€ NAVIGATING TO: Surah ${firstNum}, Verse ${secondNum}`);\n        onNavigate(firstNum, Math.max(1, secondNum));\n        \n        setTimeout(() => {\n          setIsOpen(false);\n          setMatchedVerseText(\"\");\n          setMatchScore(0);\n          setMatchedSurah(null);\n          setMatchedAyah(null);\n          setLastProcessedTranscript(\"\");\n        }, 500);\n        return;\n      }\n    }\n\n    // Call global search API\n    const searchGlobal = async () => {\n      setIsSearching(true);\n      try {\n        console.log(`ğŸ” Searching globally for: ${transcript}`);\n        const response = await fetch(\"/api/search-ayah\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ searchText: transcript })\n        });\n\n        if (response.ok) {\n          const data: {\n            surahNumber: number;\n            ayahNumber: number;\n            text: string;\n            surahName: string;\n            surahEnglishName: string;\n            score: number;\n          } = await response.json();\n\n          console.log(`âœ… FOUND MATCH - Surah ${data.surahNumber}, Verse ${data.ayahNumber} with score ${data.score.toFixed(2)}`);\n          setMatchedVerseText(data.text);\n          setMatchScore(data.score);\n          setMatchedSurah(data.surahNumber);\n          setMatchedAyah(data.ayahNumber);\n          \n          console.log(`ğŸš€ NAVIGATING TO: Surah ${data.surahNumber}, Verse ${data.ayahNumber}`);\n          onNavigate(data.surahNumber, data.ayahNumber);\n          \n          setTimeout(() => {\n            setIsOpen(false);\n            setMatchedVerseText(\"\");\n            setMatchScore(0);\n            setMatchedSurah(null);\n            setMatchedAyah(null);\n            setLastProcessedTranscript(\"\");\n          }, 500);\n        } else {\n          console.log(\"âŒ No match found\");\n        }\n      } catch (error: any) {\n        console.log(\"âŒ Error searching:\", error);\n        setMatchedVerseText(\"\");\n        setMatchScore(0);\n        setMatchedSurah(null);\n        setMatchedAyah(null);\n      } finally {\n        setIsSearching(false);\n      }\n    };\n\n    searchGlobal();\n  }, [transcript, isListening, lastProcessedTranscript, onNavigate]);\n\n  const handleTextSearch = (value: string) => {\n    setTextSearchInput(value);\n\n    if (value.trim().length < 2) {\n      setTextSearchResults([]);\n      return;\n    }\n\n    const normalized = normalizeArabic(value);\n    const results = verses?.filter(v => \n      normalizeArabic(v.ayah.text).includes(normalized)\n    ).slice(0, 5) || [];\n\n    setTextSearchResults(results);\n  };\n\n  const handleSelectVerse = (verse: VerseWithTranslations) => {\n    setMatchedVerseText(verse.ayah.text);\n    setMatchScore(1.0);\n    setMatchedSurah(currentSurah);\n    setMatchedAyah(verse.ayah.numberInSurah);\n    \n    console.log(`ğŸš€ NAVIGATING TO: Surah ${currentSurah}, Verse ${verse.ayah.numberInSurah}`);\n    onNavigate(currentSurah, verse.ayah.numberInSurah);\n    \n    setTimeout(() => {\n      setIsOpen(false);\n      setMatchedVerseText(\"\");\n      setMatchScore(0);\n      setMatchedSurah(null);\n      setMatchedAyah(null);\n      setTextSearchInput(\"\");\n      setTextSearchResults([]);\n    }, 500);\n  };\n\n  const handleDialogOpenChange = (open: boolean) => {\n    setIsOpen(open);\n    if (!open) {\n      stopListening();\n      setMatchedVerseText(\"\");\n      setMatchScore(0);\n      setMatchedSurah(null);\n      setMatchedAyah(null);\n      setLastProcessedTranscript(\"\");\n      setTextSearchInput(\"\");\n      setTextSearchResults([]);\n      setIsSearching(false);\n    }\n  };\n\n  const surahName = matchedSurah && surahs ? surahs.find(s => s.number === matchedSurah)?.englishName : \"\";\n\n  return (\n    <>\n      <Button\n        variant=\"outline\"\n        size=\"icon\"\n        onClick={() => setIsOpen(true)}\n        data-testid=\"button-voice-recognition\"\n        title=\"Voice search\"\n      >\n        <Mic className={`w-4 h-4 ${isListening ? \"animate-pulse\" : \"\"}`} />\n      </Button>\n\n      <Dialog open={isOpen} onOpenChange={handleDialogOpenChange}>\n        <DialogContent className=\"max-w-lg\">\n          <DialogHeader>\n            <DialogTitle>Search Ayah</DialogTitle>\n            <DialogDescription>\n              Say Surah number or recite any Ayah from any Surah\n            </DialogDescription>\n          </DialogHeader>\n\n          <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"voice\">Voice</TabsTrigger>\n              <TabsTrigger value=\"search\">Text Search</TabsTrigger>\n            </TabsList>\n\n            <TabsContent value=\"voice\" className=\"space-y-4\">\n              <div\n                className={`p-6 rounded-lg border-2 transition-all ${\n                  isSearching\n                    ? \"border-primary bg-primary/5\"\n                    : isListening\n                    ? \"border-primary bg-primary/5\"\n                    : \"border-border bg-background\"\n                }`}\n              >\n                <div className=\"flex items-center gap-3 mb-3\">\n                  {isSearching ? (\n                    <Volume2 className=\"w-5 h-5 animate-pulse text-primary\" />\n                  ) : (\n                    <Volume2\n                      className={`w-5 h-5 ${isListening ? \"animate-pulse text-primary\" : \"\"}`}\n                    />\n                  )}\n                  <span className=\"font-medium\">\n                    {isSearching \n                      ? \"Searching...\" \n                      : isListening \n                      ? \"Listening...\" \n                      : \"Ready\"}\n                  </span>\n                </div>\n                <p className=\"text-sm text-muted-foreground\">\n                  {isSearching\n                    ? \"Searching across all 114 Surahs...\"\n                    : \"Say Surah number or recite any Ayah\"}\n                </p>\n              </div>\n\n              {transcript && (\n                <div className=\"p-4 rounded-lg bg-secondary/50 border border-border\">\n                  <p className=\"text-xs text-muted-foreground mb-2\">Recognized:</p>\n                  <p className=\"text-sm font-medium line-clamp-3 dir-rtl\">{transcript}</p>\n                </div>\n              )}\n\n              {error && (\n                <div className=\"p-4 rounded-lg bg-destructive/10 border border-destructive/30\">\n                  <p className=\"text-sm text-destructive\">{error}</p>\n                </div>\n              )}\n\n              {matchedVerseText && matchedSurah && matchedAyah && (\n                <div className=\"p-4 rounded-lg bg-green-500/10 border border-green-500/30\">\n                  <p className=\"text-xs text-muted-foreground mb-2\">Found ({Math.round(matchScore * 100)}%):</p>\n                  <p className=\"text-sm font-medium dir-rtl mb-3 line-clamp-3\">\n                    {matchedVerseText}\n                  </p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Surah {matchedSurah}{surahName ? ` (${surahName})` : \"\"}, Verse {matchedAyah}\n                  </p>\n                </div>\n              )}\n\n              <div className=\"flex gap-2\">\n                {isListening && (\n                  <Button\n                    variant=\"destructive\"\n                    onClick={stopListening}\n                    className=\"flex-1 gap-2\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                    Stop\n                  </Button>\n                )}\n                {!isListening && !matchedVerseText && transcript && !isSearching && (\n                  <Button\n                    onClick={() => {\n                      setLastProcessedTranscript(\"\");\n                      startListening();\n                    }}\n                    className=\"flex-1\"\n                  >\n                    Try Again\n                  </Button>\n                )}\n                <Button\n                  variant=\"outline\"\n                  onClick={() => handleDialogOpenChange(false)}\n                  className=\"flex-1\"\n                >\n                  Close\n                </Button>\n              </div>\n            </TabsContent>\n\n            <TabsContent value=\"search\" className=\"space-y-4\">\n              <div className=\"space-y-4\">\n                <div className=\"relative\">\n                  <Search className=\"absolute left-3 top-3 w-4 h-4 text-muted-foreground\" />\n                  <Input\n                    placeholder=\"Type Arabic text...\"\n                    value={textSearchInput}\n                    onChange={(e) => handleTextSearch(e.target.value)}\n                    className=\"pl-10\"\n                    dir=\"rtl\"\n                  />\n                </div>\n\n                {textSearchResults.length > 0 ? (\n                  <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n                    {textSearchResults.map((verse) => (\n                      <button\n                        key={verse.ayah.number}\n                        onClick={() => handleSelectVerse(verse)}\n                        className=\"w-full p-3 rounded-lg border border-border hover:bg-secondary/50 text-left transition-colors\"\n                      >\n                        <p className=\"text-sm font-medium dir-rtl line-clamp-2 mb-1\">\n                          {verse.ayah.text}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          Verse {verse.ayah.numberInSurah}\n                        </p>\n                      </button>\n                    ))}\n                  </div>\n                ) : textSearchInput.trim().length >= 2 ? (\n                  <div className=\"p-4 rounded-lg bg-amber-500/10 border border-amber-500/30\">\n                    <p className=\"text-sm text-amber-700 dark:text-amber-400\">\n                      No verses found\n                    </p>\n                  </div>\n                ) : null}\n              </div>\n            </TabsContent>\n          </Tabs>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n","size_bytes":13414},"client/src/pages/Books.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { TopNav } from \"@/components/TopNav\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Download, Plus } from \"lucide-react\";\n\nconst categories = [\"Quran\", \"Hadith\", \"Tafseer\", \"Seerah\", \"Akhlaq\", \"Sahabah\", \"Kid Stories\"];\n\ninterface Book {\n  id: number;\n  title: string;\n  category: string;\n  description?: string;\n  pdfUrl?: string;\n  uploadedAt?: string;\n}\n\nexport default function Books() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  const [activeCategory, setActiveCategory] = useState(categories[0]);\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark' | null;\n    if (savedTheme) {\n      setTheme(savedTheme);\n      document.documentElement.classList.toggle('dark', savedTheme === 'dark');\n    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\n      setTheme('dark');\n      document.documentElement.classList.add('dark');\n    }\n  }, []);\n\n  const toggleTheme = () => {\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n    setTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n    document.documentElement.classList.toggle('dark', newTheme === 'dark');\n  };\n\n  const { data: books = [] } = useQuery<Book[]>({\n    queryKey: ['/api/books'],\n    staleTime: 1000 * 60 * 5,\n  });\n\n  const booksByCategory = books.filter(book => book.category === activeCategory);\n\n  return (\n    <div className=\"min-h-screen bg-background pb-20\">\n      <TopNav \n        title=\"Books\" \n        subtitle=\"Islamic Knowledge Library\" \n        theme={theme} \n        onThemeToggle={toggleTheme} \n        pageIcon=\"quran\"\n      />\n\n      <main className=\"max-w-6xl mx-auto px-3 sm:px-6 py-4 sm:py-6\">\n        <Card className=\"mb-6\">\n          <CardHeader>\n            <CardTitle>Islamic Books Library</CardTitle>\n            <CardDescription>Browse and download Islamic books across multiple categories</CardDescription>\n          </CardHeader>\n        </Card>\n\n        <div className=\"flex justify-between items-center mb-6\">\n          <Tabs value={activeCategory} onValueChange={setActiveCategory} className=\"flex-1\">\n            <TabsList className=\"grid grid-cols-4 sm:grid-cols-7 w-full\">\n              {categories.map((category) => (\n                <TabsTrigger \n                  key={category} \n                  value={category}\n                  className=\"text-xs sm:text-sm\"\n                  data-testid={`tab-category-${category.toLowerCase().replace(' ', '-')}`}\n                >\n                  {category}\n                </TabsTrigger>\n              ))}\n            </TabsList>\n          </Tabs>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6\">\n          {booksByCategory.length > 0 ? (\n            booksByCategory.map((book) => (\n              <Card \n                key={book.id} \n                className=\"flex flex-col\"\n                data-testid={`book-card-${book.id}`}\n              >\n                <CardHeader className=\"pb-3\">\n                  <CardTitle className=\"text-lg line-clamp-2\">{book.title}</CardTitle>\n                  {book.description && (\n                    <CardDescription className=\"line-clamp-2\">{book.description}</CardDescription>\n                  )}\n                </CardHeader>\n                <CardContent className=\"flex-1 flex flex-col justify-between\">\n                  <p className=\"text-xs text-muted-foreground mb-4\">\n                    Category: {book.category}\n                  </p>\n                  {book.pdfUrl && (\n                    <a\n                      href={book.pdfUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      data-testid={`link-download-${book.id}`}\n                    >\n                      <Button \n                        variant=\"outline\" \n                        size=\"sm\" \n                        className=\"w-full gap-2\"\n                      >\n                        <Download className=\"w-4 h-4\" />\n                        Download PDF\n                      </Button>\n                    </a>\n                  )}\n                </CardContent>\n              </Card>\n            ))\n          ) : (\n            <div className=\"col-span-full text-center py-12\">\n              <p className=\"text-muted-foreground mb-4\">No books in this category yet</p>\n            </div>\n          )}\n        </div>\n\n        <Card className=\"bg-primary/5\">\n          <CardHeader>\n            <CardTitle className=\"text-base\">About This Section</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-sm text-muted-foreground mb-4\">\n              Browse a comprehensive collection of Islamic books and PDFs organized by category. Access authentic Islamic knowledge including Quran studies, Hadith collections, Tafseer (interpretation), Islamic biographies (Seerah), Islamic ethics (Akhlaq), companion biographies (Sahabah), and educational stories for children.\n            </p>\n          </CardContent>\n        </Card>\n      </main>\n    </div>\n  );\n}\n","size_bytes":5363},"client/src/components/TopNav.tsx":{"content":"import { useState } from \"react\";\nimport { BookOpen, GraduationCap, Book, Menu, X, Moon, Sun } from \"lucide-react\";\nimport { Link, useLocation } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetTrigger,\n} from \"@/components/ui/sheet\";\n\ninterface NavItem {\n  name: string;\n  href: string;\n  icon: React.ReactNode;\n  testId: string;\n}\n\ninterface TopNavProps {\n  title: string;\n  subtitle?: string;\n  theme: 'light' | 'dark';\n  onThemeToggle: () => void;\n  pageIcon?: 'quran' | 'kids' | 'hadith' | 'fiqh' | 'surahs' | 'stories' | 'memorize';\n}\n\nexport function TopNav({ title, subtitle, theme, onThemeToggle, pageIcon }: TopNavProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [location] = useLocation();\n\n  const navItems: NavItem[] = [\n    { name: \"Quran\", href: \"/\", icon: <BookOpen className=\"w-4 h-4\" />, testId: \"button-nav-quran\" },\n    { name: \"Memorize\", href: \"/memorize\", icon: <BookOpen className=\"w-4 h-4\" />, testId: \"button-nav-memorize\" },\n    { name: \"Surahs\", href: \"/surahs\", icon: <BookOpen className=\"w-4 h-4\" />, testId: \"button-nav-surahs\" },\n    { name: \"Books\", href: \"/books\", icon: <BookOpen className=\"w-4 h-4\" />, testId: \"button-nav-books\" },\n    { name: \"Stories\", href: \"/stories\", icon: <BookOpen className=\"w-4 h-4\" />, testId: \"button-nav-stories\" },\n    { name: \"Fiqh\", href: \"/fiqh\", icon: <Book className=\"w-4 h-4\" />, testId: \"button-nav-fiqh\" },\n    { name: \"Kids\", href: \"/kids\", icon: <GraduationCap className=\"w-4 h-4\" />, testId: \"button-nav-kids\" },\n    { name: \"Hadith\", href: \"/hadith\", icon: <Book className=\"w-4 h-4\" />, testId: \"button-nav-hadith\" },\n  ];\n\n  const isActive = (href: string) => location === href || (href === \"/\" && location === \"/\");\n\n  const getPageIcon = () => {\n    switch (pageIcon) {\n      case 'quran':\n        return <BookOpen className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n      case 'kids':\n        return <GraduationCap className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n      case 'hadith':\n        return <Book className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n      case 'fiqh':\n        return <Book className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n      case 'surahs':\n        return <BookOpen className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n      case 'stories':\n        return <BookOpen className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n      case 'memorize':\n        return <BookOpen className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n      default:\n        return <BookOpen className=\"w-4 h-4 sm:w-5 sm:h-5 text-primary\" />;\n    }\n  };\n\n  return (\n    <header className=\"sticky top-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border\">\n      <div className=\"max-w-6xl mx-auto px-3 sm:px-6 py-3 sm:py-4\">\n        <div className=\"flex items-center justify-between gap-3 sm:gap-4\">\n          {/* Logo & Title */}\n          <Link href=\"/\">\n            <div className=\"flex items-center gap-2 sm:gap-3 min-w-0 cursor-pointer hover-elevate\">\n              <div className=\"flex items-center justify-center w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/10 shrink-0\">\n                {getPageIcon()}\n              </div>\n              <div className=\"min-w-0 hidden sm:block\">\n                <h1 className=\"text-base sm:text-lg font-semibold truncate\">{title}</h1>\n                {subtitle && <p className=\"text-xs text-muted-foreground truncate\">{subtitle}</p>}\n              </div>\n            </div>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <div className=\"hidden md:flex items-center gap-2\">\n            {navItems.map((item) => (\n              <Link key={item.href} href={item.href}>\n                <Button\n                  variant={isActive(item.href) ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  data-testid={item.testId}\n                  className=\"gap-2\"\n                >\n                  {item.icon}\n                  <span className=\"hidden lg:inline\">{item.name}</span>\n                </Button>\n              </Link>\n            ))}\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              onClick={onThemeToggle}\n              data-testid=\"button-theme-toggle\"\n              aria-label=\"Toggle theme\"\n            >\n              {theme === 'dark' ? (\n                <Sun className=\"w-4 h-4\" />\n              ) : (\n                <Moon className=\"w-4 h-4\" />\n              )}\n            </Button>\n          </div>\n\n          {/* Mobile Navigation */}\n          <div className=\"md:hidden flex items-center gap-2\">\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              onClick={onThemeToggle}\n              data-testid=\"button-theme-toggle\"\n              aria-label=\"Toggle theme\"\n            >\n              {theme === 'dark' ? (\n                <Sun className=\"w-4 h-4\" />\n              ) : (\n                <Moon className=\"w-4 h-4\" />\n              )}\n            </Button>\n\n            <Sheet open={isOpen} onOpenChange={setIsOpen}>\n              <SheetTrigger asChild>\n                <Button\n                  size=\"icon\"\n                  variant=\"outline\"\n                  data-testid=\"button-menu-toggle\"\n                  aria-label=\"Toggle menu\"\n                >\n                  <Menu className=\"w-5 h-5\" />\n                </Button>\n              </SheetTrigger>\n              <SheetContent side=\"right\" className=\"w-64\">\n                <nav className=\"flex flex-col gap-2 mt-8\">\n                  {navItems.map((item) => (\n                    <Link key={item.href} href={item.href}>\n                      <Button\n                        variant={isActive(item.href) ? \"default\" : \"ghost\"}\n                        className=\"w-full justify-start gap-3 text-base\"\n                        onClick={() => setIsOpen(false)}\n                        data-testid={item.testId}\n                      >\n                        {item.icon}\n                        {item.name}\n                      </Button>\n                    </Link>\n                  ))}\n                </nav>\n              </SheetContent>\n            </Sheet>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n","size_bytes":6254},"client/src/components/EnhancedQaidah.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { Play, Volume2, CheckCircle2 } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Progress } from \"@/components/ui/progress\";\n\n// Map Arabic letters to audio filenames\nconst letterAudioMap: { [key: string]: string } = {\n  \"Ø§\": \"alif\",\n  \"Ø¨\": \"baa\",\n  \"Øª\": \"taa\",\n  \"Ø«\": \"thaa\",\n  \"Ø¬\": \"jeem\",\n  \"Ø­\": \"haa\",\n  \"Ø®\": \"khaa\",\n  \"Ø¯\": \"dal\",\n  \"Ø°\": \"thal\",\n  \"Ø±\": \"raa\",\n  \"Ø²\": \"zay\",\n  \"Ø³\": \"seen\",\n  \"Ø´\": \"sheen\",\n  \"Øµ\": \"saad\",\n  \"Ø¶\": \"daad\",\n  \"Ø·\": \"taa_h\",\n  \"Ø¸\": \"zaa\",\n  \"Ø¹\": \"ayn\",\n  \"Øº\": \"ghayn\",\n  \"Ù\": \"faa\",\n  \"Ù‚\": \"qaaf\",\n  \"Ùƒ\": \"kaaf\",\n  \"Ù„\": \"laam\",\n  \"Ù…\": \"meem\",\n  \"Ù†\": \"noon\",\n  \"Ù‡\": \"haa_h\",\n  \"Ùˆ\": \"waaw\",\n  \"ÙŠ\": \"yaa\",\n};\n\ninterface Letter {\n  arabic: string;\n  name: string;\n  sound: string;\n  positions: {\n    isolated: string;\n    initial: string;\n    medial: string;\n    final: string;\n  };\n}\n\ninterface Lesson {\n  id: string;\n  title: string;\n  description: string;\n  level: \"beginner\" | \"intermediate\" | \"advanced\";\n  content: string;\n  tips: string[];\n  example: string;\n  completed?: boolean;\n}\n\ninterface QuranicWord {\n  arabic: string;\n  transliteration: string;\n  english: string;\n  surah: string;\n  ayah: number;\n}\n\ninterface DifficultWord {\n  arabic: string;\n  transliteration: string;\n  english: string;\n  meaning: string;\n  example: string;\n  surah: string;\n}\n\nconst quranicWords: QuranicWord[] = [\n  { arabic: \"Ø§Ù„Ø³Ù„Ø§Ù…\", transliteration: \"As-Salaam\", english: \"Peace\", surah: \"Surah At-Taubah\", ayah: 24 },\n  { arabic: \"Ø§Ù„Ø­Ù…Ø¯\", transliteration: \"Al-Hamd\", english: \"Praise\", surah: \"Surah Al-Fatihah\", ayah: 2 },\n  { arabic: \"Ù†ÙˆØ±\", transliteration: \"Noor\", english: \"Light\", surah: \"Surah An-Nur\", ayah: 35 },\n  { arabic: \"Ø±Ø²Ù‚\", transliteration: \"Rizq\", english: \"Provision/Sustenance\", surah: \"Surah An-Nahl\", ayah: 73 },\n  { arabic: \"ÙŠØ¹Ù…Ù„\", transliteration: \"Ya'mal\", english: \"Works/Does\", surah: \"Surah Al-Baqarah\", ayah: 110 },\n  { arabic: \"Ø¨Ø³Ù…\", transliteration: \"Bismillah\", english: \"In the name of\", surah: \"Surah Al-Fatihah\", ayah: 1 },\n  { arabic: \"Ø§Ù„Ù„Ù‡\", transliteration: \"Allah\", english: \"God\", surah: \"Surah Al-Fatihah\", ayah: 1 },\n  { arabic: \"Ø±Ø¨\", transliteration: \"Rabb\", english: \"Lord/Master\", surah: \"Surah Al-Fatihah\", ayah: 2 },\n  { arabic: \"Ø¹Ù…Ù„\", transliteration: \"Amal\", english: \"Deed/Action\", surah: \"Surah At-Taubah\", ayah: 105 },\n  { arabic: \"Ø¹Ù„Ù…\", transliteration: \"Ilm\", english: \"Knowledge\", surah: \"Surah Ta-Ha\", ayah: 114 },\n  { arabic: \"Ù‚Ù„Ø¨\", transliteration: \"Qalb\", english: \"Heart\", surah: \"Surah Al-Hajj\", ayah: 46 },\n  { arabic: \"Ù†ÙØ³\", transliteration: \"Nafs\", english: \"Soul/Self\", surah: \"Surah An-Naba\", ayah: 40 },\n  { arabic: \"Ø¯ÙŠÙ†\", transliteration: \"Deen\", english: \"Religion/Faith\", surah: \"Surah Al-Kafirun\", ayah: 1 },\n  { arabic: \"Ø§ÙŠÙ…Ø§Ù†\", transliteration: \"Iman\", english: \"Faith/Belief\", surah: \"Surah Al-Baqarah\", ayah: 285 },\n  { arabic: \"ØµØ§Ù„Ø­\", transliteration: \"Salih\", english: \"Good/Righteous\", surah: \"Surah Al-Baqarah\", ayah: 62 },\n];\n\nconst difficultWords: DifficultWord[] = [\n  { \n    arabic: \"ÙŠØµÙØ¯ÙÙ‘ÙˆÙ†\", \n    transliteration: \"Yasiddun\", \n    english: \"They turn away/prevent\", \n    meaning: \"To turn away, prevent, or obstruct from truth\",\n    example: \"Those who actively reject and turn people away from the path of Allah\",\n    surah: \"Surah Al-An'am\"\n  },\n  { \n    arabic: \"ØªÙ†Ø²ÙŠÙ„\", \n    transliteration: \"Tanzil\", \n    english: \"Revelation/Sending down\", \n    meaning: \"The gradual revelation of the Quran, something sent down from heaven\",\n    example: \"Used to describe the Quran as a revelation from Allah\",\n    surah: \"Surah Ha-Meem\"\n  },\n  { \n    arabic: \"Ø§Ø³ØªØ¨Ø±Ù‚\", \n    transliteration: \"Istabraq\", \n    english: \"Silk/Thick brocade\", \n    meaning: \"A luxurious thick silk fabric, used to describe Paradise\",\n    example: \"The gardens of Paradise are adorned with silk garments\",\n    surah: \"Surah Al-Kahf\"\n  },\n  { \n    arabic: \"Ø§Ù„Ø®Ù†Ø²ÙŠØ±\", \n    transliteration: \"Al-Khinzir\", \n    english: \"Pig/Swine\", \n    meaning: \"A forbidden animal in Islam, mentioned as haram (forbidden)\",\n    example: \"Pork and pig meat are haram (forbidden) in Islamic diet\",\n    surah: \"Surah Al-Baqarah\"\n  },\n  { \n    arabic: \"Ø¥Ø³ØªÙØªØ§Ùƒ\", \n    transliteration: \"Istiftaka\", \n    english: \"Ask you for a decision/judgment\", \n    meaning: \"To seek guidance, ruling, or judgment on religious matters\",\n    example: \"People come to Prophet Muhammad seeking religious guidance\",\n    surah: \"Surah An-Nisa\"\n  },\n  { \n    arabic: \"Ø³Ø¬ÙŠÙ„\", \n    transliteration: \"Sajil\", \n    english: \"Baked clay stones\", \n    meaning: \"Hard stones or clay stones used as projectiles in battle\",\n    example: \"The elephant army was attacked with stones of clay\",\n    surah: \"Surah Al-Fil\"\n  },\n  { \n    arabic: \"ÙŠØ³ØªÙØªÙˆÙ†\", \n    transliteration: \"Yastaftun\", \n    english: \"They ask for a decision/ruling\", \n    meaning: \"To seek guidance, ruling, or Islamic judgment\",\n    example: \"The companions ask the Prophet for rulings on religious matters\",\n    surah: \"Surah An-Nisa\"\n  },\n  { \n    arabic: \"Ø§Ù„ØµØ±Ø§Ø·\", \n    transliteration: \"As-Sirat\", \n    english: \"The Path/Way\", \n    meaning: \"The straight path leading to Allah, also the bridge in the afterlife\",\n    example: \"Guide us to the straight path (as-Sirat al-Mustaqim)\",\n    surah: \"Surah Al-Fatihah\"\n  },\n  { \n    arabic: \"Ø¶ÙŠÙ‚\", \n    transliteration: \"Dayiq\", \n    english: \"Narrow/Tight/Distressed\", \n    meaning: \"A state of narrowness, difficulty, or emotional distress\",\n    example: \"The chest becomes narrow when burdened with worry\",\n    surah: \"Surah Al-An'am\"\n  },\n  { \n    arabic: \"Ø§Ù„Ø£Ø±Ø§Ø¦Ùƒ\", \n    transliteration: \"Al-Ara'ik\", \n    english: \"Couches/Thrones\", \n    meaning: \"Luxurious couches or thrones described in Paradise\",\n    example: \"In Paradise, the believers will recline on magnificent couches\",\n    surah: \"Surah Ar-Rahman\"\n  },\n];\n\nconst letters: Letter[] = [\n  {\n    arabic: \"Ø§\",\n    name: \"Alif\",\n    sound: \"A\",\n    positions: { isolated: \"Ø§\", initial: \"Ø§\", medial: \"Ù€Ø§\", final: \"Ù€Ø§\" }\n  },\n  {\n    arabic: \"Ø¨\",\n    name: \"Baa\",\n    sound: \"B\",\n    positions: { isolated: \"Ø¨\", initial: \"Ø¨Ù€\", medial: \"Ù€Ø¨Ù€\", final: \"Ù€Ø¨\" }\n  },\n  {\n    arabic: \"Øª\",\n    name: \"Taa\",\n    sound: \"T\",\n    positions: { isolated: \"Øª\", initial: \"ØªÙ€\", medial: \"Ù€ØªÙ€\", final: \"Ù€Øª\" }\n  },\n  {\n    arabic: \"Ø«\",\n    name: \"Thaa\",\n    sound: \"Th\",\n    positions: { isolated: \"Ø«\", initial: \"Ø«Ù€\", medial: \"Ù€Ø«Ù€\", final: \"Ù€Ø«\" }\n  },\n  {\n    arabic: \"Ø¬\",\n    name: \"Jeem\",\n    sound: \"J\",\n    positions: { isolated: \"Ø¬\", initial: \"Ø¬Ù€\", medial: \"Ù€Ø¬Ù€\", final: \"Ù€Ø¬\" }\n  },\n  {\n    arabic: \"Ø­\",\n    name: \"Haa (strong)\",\n    sound: \"H\",\n    positions: { isolated: \"Ø­\", initial: \"Ø­Ù€\", medial: \"Ù€Ø­Ù€\", final: \"Ù€Ø­\" }\n  },\n  {\n    arabic: \"Ø®\",\n    name: \"Khaa\",\n    sound: \"Kh\",\n    positions: { isolated: \"Ø®\", initial: \"Ø®Ù€\", medial: \"Ù€Ø®Ù€\", final: \"Ù€Ø®\" }\n  },\n  {\n    arabic: \"Ø¯\",\n    name: \"Daal\",\n    sound: \"D\",\n    positions: { isolated: \"Ø¯\", initial: \"Ø¯\", medial: \"Ù€Ø¯\", final: \"Ù€Ø¯\" }\n  },\n  {\n    arabic: \"Ø°\",\n    name: \"Dhaal\",\n    sound: \"Dh\",\n    positions: { isolated: \"Ø°\", initial: \"Ø°\", medial: \"Ù€Ø°\", final: \"Ù€Ø°\" }\n  },\n  {\n    arabic: \"Ø±\",\n    name: \"Raa\",\n    sound: \"R\",\n    positions: { isolated: \"Ø±\", initial: \"Ø±\", medial: \"Ù€Ø±\", final: \"Ù€Ø±\" }\n  },\n];\n\nconst lessons: Lesson[] = [\n  {\n    id: \"intro\",\n    title: \"Introduction to Qaidah\",\n    description: \"Learn why proper reading technique is important for Quran recitation\",\n    level: \"beginner\",\n    content: \"Qaidah (Foundation) is the science of reading Arabic letters correctly with proper pronunciation and articulation points (Makharij). This foundation is essential for beautiful and accurate Quran recitation.\",\n    tips: [\n      \"Take your time - don't rush through the letters\",\n      \"Practice each letter multiple times\",\n      \"Listen carefully to authentic pronunciation\",\n      \"Practice with a teacher when possible\"\n    ],\n    example: \"Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ€Ù°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù\"\n  },\n  {\n    id: \"letters-intro\",\n    title: \"Arabic Letters & Their Positions\",\n    description: \"Understand how letters change their shape based on position in a word\",\n    level: \"beginner\",\n    content: \"Arabic letters have 4 main positions: Isolated (alone), Initial (at the beginning), Medial (in the middle), and Final (at the end). Each position changes the letter's shape.\",\n    tips: [\n      \"Notice how isolated forms are most recognizable\",\n      \"Initial forms connect to letters after them\",\n      \"Medial forms connect both before and after\",\n      \"Final forms connect to letters before them\"\n    ],\n    example: \"Ø¨Ù€Ù€Ù€Ù€Ù€Ø¨ (isolated) - Ø¨Ù€ (initial) - Ù€Ø¨Ù€ (medial) - Ù€Ø¨ (final)\"\n  },\n  {\n    id: \"vowels\",\n    title: \"Arabic Vowels & Harakat\",\n    description: \"Learn the three main vowel sounds in Arabic\",\n    level: \"beginner\",\n    content: \"Arabic has three main vowel marks (Harakat): Fatha (Ù) = 'A', Kasra (Ù) = 'I', Damma (Ù) = 'U'. These completely change the sound of a word.\",\n    tips: [\n      \"Fatha (Ù) sounds like 'a' in 'cat'\",\n      \"Kasra (Ù) sounds like 'i' in 'keep'\",\n      \"Damma (Ù) sounds like 'oo' in 'book'\",\n      \"Sukoon (Ù’) means no vowel - just the letter\"\n    ],\n    example: \"Ø¨Ù (ba) - Ø¨Ù (bi) - Ø¨Ù (bu)\"\n  },\n  {\n    id: \"makharij\",\n    title: \"Articulation Points (Makharij)\",\n    description: \"Learn where each letter is pronounced from in the mouth and throat\",\n    level: \"intermediate\",\n    content: \"Each Arabic letter has a specific point of articulation (Makharij). Understanding these helps you pronounce letters correctly and recognize subtle differences.\",\n    tips: [\n      \"Some letters are from the throat (Ø¹, Øº, Ø­, Ø®, Ø¡, Ù‡)\",\n      \"Some are from the lips (Ø¨, Ù, Ù…)\",\n      \"Some are from the tongue (Ø±, Ù„, Ù†, Øª, Ø¯, Ø·, Øµ, Ø³, Ø´)\",\n      \"Listen to native speakers to train your ear\"\n    ],\n    example: \"Learn to distinguish between: Ø­ and Ø®, Ø¹ and Øº, Ù‚ and Ùƒ\"\n  },\n  {\n    id: \"tajweed-basics\",\n    title: \"Basic Tajweed Rules\",\n    description: \"Introduction to Quranic recitation rules\",\n    level: \"intermediate\",\n    content: \"Tajweed is the science of reciting the Quran with proper pronunciation. Basic rules include not stopping at verses abruptly and pronouncing each letter clearly.\",\n    tips: [\n      \"Learn the rules gradually\",\n      \"Practice with Quranic text\",\n      \"Listen to professional reciters\",\n      \"Repeat until it becomes natural\"\n    ],\n    example: \"Practice Surah Al-Fatihah with proper timing and pronunciation\"\n  },\n  {\n    id: \"noon-tanween\",\n    title: \"Noon & Tanween Rules (Advanced)\",\n    description: \"Master the four rules for pronouncing Noon and Tanween\",\n    level: \"advanced\",\n    content: \"The four rules are: Idhaar (clear), Idghaam (merge), Iqlaab (convert to M), and Ikhfaa (hide). Each applies based on the letter following Noon or Tanween.\",\n    tips: [\n      \"Idhaar: With Ø¡ Ù‡ Ø¹ Ø­ Øº Ø®\",\n      \"Idghaam: With ÙŠ Ø± Ù… Ù„ Ùˆ Ù†\",\n      \"Iqlaab: Only with Ø¨\",\n      \"Ikhfaa: With remaining 15 letters\"\n    ],\n    example: \"Ù…ÙÙ†Ù’ Ù‡ÙØ§Ø¯Ù (Idhaar) vs Ù…ÙÙ†Ù’ ÙŠÙØ¹Ù’Ù…ÙÙ„Ù’ (Idghaam)\"\n  }\n];\n\nexport function EnhancedQaidah() {\n  const [selectedLesson, setSelectedLesson] = useState<Lesson | null>(lessons[0]);\n  const [completedLessons, setCompletedLessons] = useState<Set<string>>(new Set());\n  const [selectedLetter, setSelectedLetter] = useState<Letter | null>(letters[0]);\n  const [selectedWord, setSelectedWord] = useState<QuranicWord>(quranicWords[0]);\n  const [selectedDifficultWord, setSelectedDifficultWord] = useState<DifficultWord>(difficultWords[0]);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  useEffect(() => {\n    audioRef.current = new Audio();\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause();\n      }\n    };\n  }, []);\n\n  const markLessonComplete = (lessonId: string) => {\n    const newCompleted = new Set(completedLessons);\n    newCompleted.add(lessonId);\n    setCompletedLessons(newCompleted);\n  };\n\n  const playLetterSound = (letter: string) => {\n    try {\n      // First try to play from audio files\n      const audioFilename = letterAudioMap[letter];\n      if (audioFilename && audioRef.current) {\n        const audioUrl = `/audio/letters/${audioFilename}.mp3`;\n        audioRef.current.src = audioUrl;\n        audioRef.current.play().catch(error => {\n          console.log('Audio file not found, trying speech synthesis:', error);\n          playWithSpeechSynthesis(letter);\n        });\n      } else {\n        // Fallback to speech synthesis\n        playWithSpeechSynthesis(letter);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      playWithSpeechSynthesis(letter);\n    }\n  };\n\n  const playWithSpeechSynthesis = (letter: string) => {\n    if (!('speechSynthesis' in window)) {\n      console.log('Speech synthesis not available');\n      return;\n    }\n    try {\n      window.speechSynthesis.cancel();\n      const utterance = new SpeechSynthesisUtterance(letter);\n      utterance.lang = 'ar-SA';\n      utterance.rate = 0.7;\n      window.speechSynthesis.speak(utterance);\n    } catch (error) {\n      console.error('Error in speech synthesis:', error);\n    }\n  };\n\n  const progress = (completedLessons.size / lessons.length) * 100;\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h2 className=\"text-2xl sm:text-3xl font-bold mb-2\">Learn Qaidah - Master Quran Reading</h2>\n        <p className=\"text-sm sm:text-base text-muted-foreground mb-4\">\n          Structured lessons to improve your Quranic recitation from beginner to advanced\n        </p>\n        <div className=\"space-y-2\">\n          <div className=\"flex items-center justify-between text-sm\">\n            <span>Your Progress</span>\n            <span className=\"font-semibold\">{completedLessons.size} of {lessons.length} lessons</span>\n          </div>\n          <Progress value={progress} className=\"h-2\" />\n        </div>\n      </div>\n\n      <Tabs defaultValue=\"lessons\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-5 mb-6\">\n          <TabsTrigger value=\"lessons\" data-testid=\"tab-lessons\" className=\"text-xs sm:text-sm\">\n            Lessons\n          </TabsTrigger>\n          <TabsTrigger value=\"letters\" data-testid=\"tab-letters\" className=\"text-xs sm:text-sm\">\n            Letters\n          </TabsTrigger>\n          <TabsTrigger value=\"words\" data-testid=\"tab-words\" className=\"text-xs sm:text-sm\">\n            Words\n          </TabsTrigger>\n          <TabsTrigger value=\"difficult\" data-testid=\"tab-difficult\" className=\"text-xs sm:text-sm\">\n            Hard Words\n          </TabsTrigger>\n          <TabsTrigger value=\"practice\" data-testid=\"tab-practice\" className=\"text-xs sm:text-sm\">\n            Practice\n          </TabsTrigger>\n        </TabsList>\n\n        {/* Lessons Tab */}\n        <TabsContent value=\"lessons\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            {/* Lessons List */}\n            <div className=\"sm:col-span-1 space-y-2\">\n              {lessons.map((lesson) => (\n                <Card\n                  key={lesson.id}\n                  className={`hover-elevate cursor-pointer transition-all p-3 sm:p-4 ${\n                    selectedLesson?.id === lesson.id ? 'bg-primary/5 border-primary' : ''\n                  }`}\n                  onClick={() => setSelectedLesson(lesson)}\n                  data-testid={`lesson-${lesson.id}`}\n                >\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"min-w-0 flex-1\">\n                      <h3 className=\"text-xs sm:text-sm font-semibold truncate\">{lesson.title}</h3>\n                      <p className=\"text-xs text-muted-foreground capitalize\">{lesson.level}</p>\n                    </div>\n                    {completedLessons.has(lesson.id) && (\n                      <CheckCircle2 className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500 shrink-0 mt-0.5\" />\n                    )}\n                  </div>\n                </Card>\n              ))}\n            </div>\n\n            {/* Lesson Content */}\n            {selectedLesson && (\n              <Card className=\"sm:col-span-2 hover-elevate\">\n                <CardHeader className=\"pb-3 sm:pb-6\">\n                  <CardTitle className=\"text-lg sm:text-xl\">{selectedLesson.title}</CardTitle>\n                  <CardDescription className=\"text-xs sm:text-sm\">{selectedLesson.description}</CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4 p-3 sm:p-6\">\n                  <div>\n                    <p className=\"text-sm sm:text-base text-muted-foreground leading-relaxed mb-4\">\n                      {selectedLesson.content}\n                    </p>\n\n                    {selectedLesson.example && (\n                      <div className=\"bg-primary/5 p-3 sm:p-4 rounded-lg mb-4\">\n                        <p className=\"text-xs sm:text-sm font-medium mb-2\">Example:</p>\n                        <p className=\"text-lg sm:text-2xl font-arabic text-center\" dir=\"rtl\">\n                          {selectedLesson.example}\n                        </p>\n                      </div>\n                    )}\n\n                    <div>\n                      <p className=\"text-sm font-medium mb-2\">Key Tips:</p>\n                      <ul className=\"space-y-1\">\n                        {selectedLesson.tips.map((tip, idx) => (\n                          <li key={idx} className=\"flex gap-2 text-xs sm:text-sm\">\n                            <span className=\"text-primary shrink-0\">â€¢</span>\n                            <span className=\"text-muted-foreground\">{tip}</span>\n                          </li>\n                        ))}\n                      </ul>\n                    </div>\n                  </div>\n\n                  {!completedLessons.has(selectedLesson.id) && (\n                    <Button\n                      onClick={() => markLessonComplete(selectedLesson.id)}\n                      className=\"w-full\"\n                      data-testid={`button-complete-${selectedLesson.id}`}\n                    >\n                      Mark as Complete\n                    </Button>\n                  )}\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </TabsContent>\n\n        {/* Letters Tab */}\n        <TabsContent value=\"letters\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            {/* Letters Grid */}\n            <div className=\"sm:col-span-1\">\n              <div className=\"grid grid-cols-3 gap-2\">\n                {letters.map((letter, idx) => (\n                  <Card\n                    key={idx}\n                    className={`hover-elevate active-elevate-2 cursor-pointer p-3 text-center transition-all ${\n                      selectedLetter?.arabic === letter.arabic ? 'bg-primary/5 border-primary' : ''\n                    }`}\n                    onClick={() => setSelectedLetter(letter)}\n                    data-testid={`letter-card-${letter.name}`}\n                  >\n                    <p className=\"text-3xl sm:text-4xl font-arabic leading-none mb-2\">{letter.arabic}</p>\n                    <p className=\"text-xs font-medium\">{letter.name}</p>\n                  </Card>\n                ))}\n              </div>\n            </div>\n\n            {/* Letter Details */}\n            {selectedLetter && (\n              <Card className=\"sm:col-span-2 hover-elevate\">\n                <CardHeader className=\"pb-3 sm:pb-6\">\n                  <CardTitle className=\"flex items-center gap-2\">\n                    <span className=\"text-4xl sm:text-5xl font-arabic\">{selectedLetter.arabic}</span>\n                    <span className=\"text-lg sm:text-2xl\">{selectedLetter.name}</span>\n                  </CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-4 p-3 sm:p-6\">\n                  <div className=\"bg-primary/5 p-4 rounded-lg\">\n                    <p className=\"text-xs sm:text-sm font-medium mb-2\">Pronunciation Sound:</p>\n                    <p className=\"text-base sm:text-lg mb-3\">{selectedLetter.sound}</p>\n                    <Button\n                      size=\"sm\"\n                      className=\"gap-2\"\n                      onClick={() => playLetterSound(selectedLetter.arabic)}\n                      data-testid={`button-play-${selectedLetter.name}`}\n                    >\n                      <Volume2 className=\"w-4 h-4\" />\n                      Hear Letter Sound\n                    </Button>\n                  </div>\n\n                  <div>\n                    <p className=\"text-xs sm:text-sm font-medium mb-3\">Letter Positions:</p>\n                    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-3\">\n                      <div className=\"text-center p-3 bg-muted/30 rounded\">\n                        <p className=\"text-2xl sm:text-3xl font-arabic mb-1\">{selectedLetter.positions.isolated}</p>\n                        <p className=\"text-xs\">Isolated</p>\n                      </div>\n                      <div className=\"text-center p-3 bg-muted/30 rounded\">\n                        <p className=\"text-2xl sm:text-3xl font-arabic mb-1\">{selectedLetter.positions.initial}</p>\n                        <p className=\"text-xs\">Initial</p>\n                      </div>\n                      <div className=\"text-center p-3 bg-muted/30 rounded\">\n                        <p className=\"text-2xl sm:text-3xl font-arabic mb-1\">{selectedLetter.positions.medial}</p>\n                        <p className=\"text-xs\">Medial</p>\n                      </div>\n                      <div className=\"text-center p-3 bg-muted/30 rounded\">\n                        <p className=\"text-2xl sm:text-3xl font-arabic mb-1\">{selectedLetter.positions.final}</p>\n                        <p className=\"text-xs\">Final</p>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </TabsContent>\n\n        {/* Practice Tab */}\n        <TabsContent value=\"practice\">\n          <Card>\n            <CardHeader className=\"pb-3 sm:pb-6\">\n              <CardTitle className=\"text-lg sm:text-xl\">Daily Practice</CardTitle>\n              <CardDescription className=\"text-xs sm:text-sm\">\n                Practice exercises to strengthen your Qaidah skills\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-6 p-3 sm:p-6\">\n              <div className=\"space-y-3\">\n                <div className=\"p-4 bg-primary/5 rounded-lg\">\n                  <h3 className=\"font-semibold text-sm sm:text-base mb-3\">Practice Exercise 1: Letter Recognition</h3>\n                  <p className=\"text-xs sm:text-sm text-muted-foreground mb-4\">\n                    Read these words and identify the letters and their positions:\n                  </p>\n                  <div className=\"space-y-2\">\n                    {[\"Ø§Ù„Ø­Ù…Ø¯\", \"Ø¨Ø³Ù…\", \"ÙŠØ¹Ù…Ù„\", \"Ø±Ø²Ù‚\", \"Ù†ÙˆØ±\"].map((word, idx) => (\n                      <div key={idx} className=\"p-3 bg-background rounded border\">\n                        <p className=\"text-lg sm:text-2xl font-arabic text-center\" dir=\"rtl\">{word}</p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"p-4 bg-primary/5 rounded-lg\">\n                  <h3 className=\"font-semibold text-sm sm:text-base mb-3\">Practice Exercise 2: Vowel Recognition</h3>\n                  <p className=\"text-xs sm:text-sm text-muted-foreground mb-4\">\n                    Identify the vowel (Fatha Ù, Kasra Ù, or Damma Ù) in each syllable:\n                  </p>\n                  <div className=\"space-y-2\">\n                    {[\"Ø¨Ù\", \"Ø¯Ù\", \"Ù†Ù\", \"Ù‚Ù\", \"Ø³Ù\"].map((syllable, idx) => (\n                      <div key={idx} className=\"p-3 bg-background rounded border text-center\">\n                        <p className=\"text-2xl sm:text-3xl font-arabic\">{syllable}</p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </div>\n\n              <Button className=\"w-full gap-2\" data-testid=\"button-start-practice\">\n                <Play className=\"w-4 h-4\" />\n                Start Interactive Practice\n              </Button>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        {/* Quranic Words Tab */}\n        <TabsContent value=\"words\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            <div className=\"sm:col-span-1 space-y-2\">\n              {quranicWords.map((word, idx) => (\n                <Card\n                  key={idx}\n                  className={`hover-elevate cursor-pointer transition-all p-3 sm:p-4 ${\n                    selectedWord.arabic === word.arabic ? 'bg-primary/5 border-primary' : ''\n                  }`}\n                  onClick={() => setSelectedWord(word)}\n                  data-testid={`word-${idx}`}\n                >\n                  <p className=\"text-lg sm:text-2xl font-arabic mb-1\" dir=\"rtl\">{word.arabic}</p>\n                  <p className=\"text-xs sm:text-sm font-medium\">{word.transliteration}</p>\n                  <p className=\"text-xs text-muted-foreground\">{word.english}</p>\n                </Card>\n              ))}\n            </div>\n            <Card className=\"sm:col-span-2 hover-elevate\">\n              <CardHeader className=\"pb-3 sm:pb-6\">\n                <CardTitle className=\"text-lg sm:text-2xl font-arabic\" dir=\"rtl\">{selectedWord.arabic}</CardTitle>\n                <CardDescription className=\"text-sm sm:text-base\">{selectedWord.transliteration}</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4 p-3 sm:p-6\">\n                <div className=\"bg-primary/5 p-4 rounded-lg\">\n                  <p className=\"text-sm font-medium mb-2\">English Meaning:</p>\n                  <p className=\"text-lg font-semibold text-primary\">{selectedWord.english}</p>\n                </div>\n                <div className=\"bg-blue-500/5 p-4 rounded-lg\">\n                  <p className=\"text-sm font-medium mb-2\">Found in:</p>\n                  <p className=\"text-sm\">{selectedWord.surah}, Verse {selectedWord.ayah}</p>\n                </div>\n                <Button className=\"w-full gap-2\" onClick={() => playWithSpeechSynthesis(selectedWord.arabic)} data-testid=\"button-hear-word\">\n                  <Volume2 className=\"w-4 h-4\" />\n                  Hear Word Pronunciation\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n\n        {/* Difficult Words Tab */}\n        <TabsContent value=\"difficult\" className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n            <div className=\"sm:col-span-1 space-y-2\">\n              {difficultWords.map((word, idx) => (\n                <Card\n                  key={idx}\n                  className={`hover-elevate cursor-pointer transition-all p-3 sm:p-4 ${\n                    selectedDifficultWord.arabic === word.arabic ? 'bg-primary/5 border-primary' : ''\n                  }`}\n                  onClick={() => setSelectedDifficultWord(word)}\n                  data-testid={`difficult-word-${idx}`}\n                >\n                  <p className=\"text-lg sm:text-xl font-arabic mb-1\" dir=\"rtl\">{word.arabic}</p>\n                  <p className=\"text-xs sm:text-sm font-medium\">{word.transliteration}</p>\n                  <p className=\"text-xs text-muted-foreground\">{word.english}</p>\n                </Card>\n              ))}\n            </div>\n            <Card className=\"sm:col-span-2 hover-elevate\">\n              <CardHeader className=\"pb-3 sm:pb-6\">\n                <CardTitle className=\"text-lg sm:text-2xl font-arabic\" dir=\"rtl\">{selectedDifficultWord.arabic}</CardTitle>\n                <CardDescription className=\"text-sm sm:text-base\">{selectedDifficultWord.transliteration}</CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4 p-3 sm:p-6\">\n                <div className=\"bg-primary/5 p-4 rounded-lg\">\n                  <p className=\"text-sm font-medium mb-2\">English:</p>\n                  <p className=\"text-base font-semibold text-primary\">{selectedDifficultWord.english}</p>\n                </div>\n                <div className=\"bg-yellow-500/5 p-4 rounded-lg\">\n                  <p className=\"text-sm font-medium mb-2\">Meaning:</p>\n                  <p className=\"text-sm leading-relaxed\">{selectedDifficultWord.meaning}</p>\n                </div>\n                <div className=\"bg-green-500/5 p-4 rounded-lg\">\n                  <p className=\"text-sm font-medium mb-2\">Example:</p>\n                  <p className=\"text-sm leading-relaxed\">{selectedDifficultWord.example}</p>\n                </div>\n                <div className=\"bg-blue-500/5 p-4 rounded-lg\">\n                  <p className=\"text-sm font-medium mb-2\">Found in:</p>\n                  <p className=\"text-sm\">{selectedDifficultWord.surah}</p>\n                </div>\n                <Button className=\"w-full gap-2\" onClick={() => playWithSpeechSynthesis(selectedDifficultWord.arabic)} data-testid=\"button-hear-difficult\">\n                  <Volume2 className=\"w-4 h-4\" />\n                  Hear Pronunciation\n                </Button>\n              </CardContent>\n            </Card>\n          </div>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","size_bytes":29966}},"version":2}